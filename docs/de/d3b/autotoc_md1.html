<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" type="image/png" href="favicon.png">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="theme-color" content="black">
<meta name="description" content="Juniper: ">
<meta name="keywords" content=".NET, C#, units of measure, conversion, open source software, MIT License">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@Sean_McBeth">
<meta property="og:site_name" content="Juniper">
<meta property="og:description" content="Juniper: ">
<meta name="twitter:description" content="Juniper: ">
<meta property="og:url" content="https://capnmidnight.github.io/Juniper">
<meta name="twitter:image" content="http://capnmidnight.github.io/Juniper/$logo">
<meta property="og:image" content="http://capnmidnight.github.io/Juniper/$logo">
<meta property="og:title" content="Juniper: Creating Augmented Reality Activations">
<meta name="twitter:title" content="Juniper: Creating Augmented Reality Activations">
<title>Juniper: Creating Augmented Reality Activations</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <a href="https://github.com/capnmidnight/Juniper" style="position:absolute;right:0;top:0"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149" alt="Fork me on GitHub" data-recalc-dims="1"></a>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <a id="projectlogo" href="https://www.github.com/capnmidnight/Juniper" target="_blank" rel="noopener" title="Project repository"><img alt="Logo" src="../../logo.png"/></a>
  <a id="projectname" href="https://www.github.com/capnmidnight/Juniper" target="_blank" rel="noopener" title="Project repository">Juniper</a>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/d3b/autotoc_md1.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Creating Augmented Reality Activations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md2"></a>
Introduction</h1>
<p>Activations are combinations of parallel <a class="el" href="../../d4/d0f/namespace_vuforia.html">Vuforia</a> Image Marker Targets and series video clips that get displayed over top of the markers. Creating them requires a number of Unity GameObjects and Components to be configured and calibrated against each other.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Object Hierarchy</h2>
<p>Each Activation must have the following structure (<code>[GO]</code> symbols denote GameObjects, <code>[CMP]</code> symbols denote Components, unmarked lines are notes on how to configure the preceding object):</p>
<ul>
<li>[GO] <b>&lt;Activation Name&gt;</b>, (e.g. 'Baltimore', 'T-Shirt', 'Mars', etc) - the root of the activation.<ul>
<li>[CMP] <em>Transform</em><ul>
<li>Set scale to &lt;1, 1, 1&gt;</li>
<li>The value of the other properties do not matter.</li>
</ul>
</li>
<li>[CMP] <em>Activation</em> - the main controller script.<ul>
<li>Set the <code>Keyboard Shortcut</code> value to force the first marker in the list of targets to activate when running in the editor. This is helpful for testing workflow without testing detection or tracking.</li>
<li>Set <code>Remove Graphic</code> checkbox if you would like the target image to not appear when running in the editor. When running the live application, the target image is always removed.</li>
<li>Set the <code>On Complete</code> event to fire the <code>ScaleTransform.Enter()</code> method of the <code>Main &gt; Padding &gt; moveRightPanel (4)</code> GameObject.</li>
</ul>
</li>
<li>[GO] <b>Targets</b> - the collection of targets, any one of which may activate the experience.<ul>
<li>[CMP] <em>Transform</em><ul>
<li>Set scale to &lt;1, 1, 1&gt;</li>
<li>The value of the other properties does not matter.</li>
</ul>
</li>
<li>[GO] <b>Target (n)</b> - where <code>n</code> is a number.<ul>
<li>[CMP] <em>Transform</em> - there is no need to set the transform. <a class="el" href="../../d4/d0f/namespace_vuforia.html">Vuforia</a> will automatically configure the scale and the position and rotation do not matter. If you create the target object using the <code>GameObject &gt; <a class="el" href="../../d4/d0f/namespace_vuforia.html">Vuforia</a> &gt; Image</code> menu option, then most of the following components will have most of their properties configured correctly.</li>
<li>[CMP] <em>ImageTargetBehaviour</em> - this is <a class="el" href="../../d4/d0f/namespace_vuforia.html">Vuforia</a>'s target trackable component.<ul>
<li>Set <code>Type</code> to <code>Predefined</code>.</li>
<li>Set <code>Database</code> to <code>Exelon</code>.</li>
<li>Set <code>Image Target</code> to the target you desire.</li>
<li>Open the <code>Advanced</code> group panel and set the <code>Extended Tracking</code> checkbox to filled.</li>
</ul>
</li>
<li>[CMP] <em>MeshRenderer</em> - Used to visualize the target image. Allow <a class="el" href="../../d4/d0f/namespace_vuforia.html">Vuforia</a> to configure this component.</li>
<li>[CMP] <em>ImageTargetMesh-(XXXX)</em> - Sets the aspect ratio of the target image. Allow <a class="el" href="../../d4/d0f/namespace_vuforia.html">Vuforia</a> to configure this component.</li>
<li>[CMP] <em>TrackableFoundEventHandler</em> - This is a <a class="el" href="../../de/d75/namespace_juniper.html">Juniper</a> component that manages the understanding of the target&ndash;when it was found, whether or not we're standing a safe distance from it, firing events when it is found, etc.<ul>
<li>After creating the <code>Attachment Point</code> object below, come back and set the <code>Attachment Point</code> property to point to it.</li>
<li>Set the <code>Safe Distance</code> to a minimum distance in meters that the user should stand from the marker.</li>
<li>There is no need to set any of the events. The <code>Activation</code> script will manage it.</li>
<li>[GO] Activation Point - this will be the parent of the Videos and is used to callibrate the position of the videos against the target. See "Calibrating Videos Against Image Targets" below for more details.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>[GO] <b>Videos</b> - the collection of videos, all of which will play in sequence.<ul>
<li>[CMP] <em>Transform</em> - none of the values matter, they will be reset to the origin position, zero rotation, and unity scale by the <code>Activation</code>.</li>
<li>[GO] <b>Video (n)</b> - where <code>n</code> is a number.<ul>
<li>[CMP] <em>Transform</em><ul>
<li>Generally speaking, one should set the <code>Position</code> to &lt;0, 0, 0&gt;. Only set the position to a different value if you explicitly want the video offset from the poster.</li>
<li>Set <code>Rotation</code> to &lt;90, 0, 0&gt;</li>
<li>Set <code>Scale</code> to &lt;1, videoClip.height/videoClip.width, 1&gt;</li>
</ul>
</li>
<li>[CMP] <em>MeshFilter</em><ul>
<li>Set the <code>Mesh</code> field to <code>Quad</code>.</li>
</ul>
</li>
<li>[CMP] <em>MeshRenderer</em><ul>
<li>Set <code>Light Probes</code> to <code>Off</code>.</li>
<li>Set <code>Reflection Probes</code> to <code>Off</code>.</li>
<li>Set <code>Cast Shadows</code> to <code>Off</code>.</li>
<li>Clear the <code>Receive Shadows</code> textbox.</li>
<li>Set <code>Materials</code> to one element: the <code>VideoOutput</code> material.</li>
</ul>
</li>
<li>[CMP] <em>VideoPlayer</em><ul>
<li>Set <code>Source</code> to <code>Video Clip</code></li>
<li>Set <code>Video Clip</code> to the video you would like to play at this position.</li>
<li>Fill the <code>Play on Awake</code> checkbox.</li>
<li>Fill the <code>Wait for First Frame</code> checkbox.</li>
<li>Clear the <code>Loop</code> checkbox. The <code>Activation</code> will set the <code>Loop</code> field for the last video in the series.</li>
<li>Set <code>Playback Speed</code> to <code>1</code>.</li>
<li>Set <code>Render Mode</code> to <code>Material Override</code>.</li>
<li>Set <code>Renderer</code> to this very same GameObject.</li>
<li>Set <code>Material Property</code> to <code>_MainTex</code></li>
<li>Set <code>Audio Output Mode</code> to <code>None</code>.</li>
</ul>
</li>
<li>[CMP] <em>VideoVader</em> - this is a <a class="el" href="../../de/d75/namespace_juniper.html">Juniper</a> component that manages the fade transition.<ul>
<li>There is no need to set any of the events.</li>
<li>Set <code>Attack</code> to <code>0</code>.</li>
<li>If the SpiralTransition follows, set <code>Release</code> to <code>0.75</code>. Otherwise, set <code>Release</code> to <code>0</code>.</li>
<li>Clear the <code>Looping</code> checkbox.</li>
<li>Set <code>Tween</code> to <code>Quadratic</code></li>
<li>Set <code>Tween K</code> to <code>0</code>.</li>
<li>Set <code>Min Alpha</code> to <code>0</code>.</li>
<li>Set <code>Max Alpha</code> to <code>1</code>.</li>
<li>Set <code>Length</code> to <code>0.5</code> (seconds).</li>
<li>Set <code>Restart Timeout</code> to <code>10</code> (seconds).</li>
<li>Set <code>Linger Timeout</code> to <code>0</code>.</li>
</ul>
</li>
<li>(optional) [CMP] <em>SpiralTransition</em> - this is a <a class="el" href="../../de/d75/namespace_juniper.html">Juniper</a> component that manages the transition from world-space to "fake camera space", to make the video appears as if it is full-screen.<ul>
<li>There is no need to set any of the events.</li>
<li>Set <code>Attack Time</code> to <code>0.75</code>.</li>
<li>Set <code>Release Time</code> to <code>0</code>.</li>
<li>Set <code>Tween</code> to <code>Sine</code>.</li>
<li>Set <code>Tween K</code> to <code>0</code>.</li>
<li>Set <code>Start Orientat</code> to &lt;90, 0, 0&gt;</li>
<li>Set <code>End Orientation</code> to &lt;0, 0, -90&gt;</li>
<li>Fill the <code>Full Screen</code> checkbox.</li>
<li>Do not set <code>Distance</code>. With the <code>Full Screen</code> property set, the Distance will be calculated automatically.</li>
<li>Set <code>Length</code> to <code>1</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Calibrating Videos Against Image Targets</h2>
<p>Because the image targets are subsets of the poster image, the videos and the targets do not have the same orientation. In many cases, they don't even have the same scale.</p>
<ul>
<li>First, make sure the MeshRenderer on the target that you want to calibrate is enabled. Only the first target in the list of targets will be activated, so to calibrate all targets you'll have to complete this process multiple times after reordering the targets in the list of targets.</li>
<li>Start the app in the Unity editor.</li>
<li>Click the <code>Start</code> button.</li>
<li>Wait for <code>Camera Initialization</code> to complete.</li>
<li>Prepare your mouse pointer over Unity's Pause button.</li>
<li>When the <code>Scanning</code> graphic appears, hit the shortcut key for the activation you want to edit:<ul>
<li><code>B</code> for Baltimore</li>
<li><code>P</code> for Philadelphia</li>
<li><code>C</code> for Chicago</li>
<li><code>W</code> for Washington</li>
</ul>
</li>
<li>When the target appears, the video will be playing right away. Click the Pause button.</li>
<li>Drill down through the Hierarchy to find the currently playing video. It will be the only one in the list of videos for the activation that is an active game object. The list of videos will have been reparented to the active target.</li>
<li>Find the video's MeshRenderer and double-click its material.</li>
<li>Set the <code>Opacity</code> field of the material instance to a value that lets you see both the video and the image target comfortably. Somewhere are <code>0.5</code> usually works.</li>
<li>Return to the target object and select its <code>Attachment Point</code> game object underneath.</li>
<li>Scale and Translate the Attachment Point until the images overlap satisfactorily.</li>
<li>Click the context menu of the Attachment Point's Transform and select "Copy Component".</li>
<li>Stop the Unity Editor.</li>
<li>Click the context menu of the Attachment Point's Transform and select "Past Component Values".</li>
<li>Apply the changes to the Activation's prefab.</li>
<li>Save the scene.</li>
<li>Repeat for all targets. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
    <li class="footer">Copyright - 2019 - <a href="https://www.seanmcbeth.com" title="Sean McBeth's website" target="_blank" rel="noopener">Sean T. McBeth</a></li>
  </ul>
</div>
</body>
</html>
