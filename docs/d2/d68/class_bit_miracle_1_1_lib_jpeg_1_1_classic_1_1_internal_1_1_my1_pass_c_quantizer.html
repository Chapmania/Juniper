<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" type="image/png" href="favicon.png">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="theme-color" content="black">
<meta name="description" content="Juniper: Cross-platform VR and AR Framework">
<meta name="keywords" content=".NET, C#, units of measure, conversion, open source software, MIT License">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@Sean_McBeth">
<meta property="og:site_name" content="Juniper">
<meta property="og:description" content="Juniper: Cross-platform VR and AR Framework">
<meta name="twitter:description" content="Juniper: Cross-platform VR and AR Framework">
<meta property="og:url" content="https://capnmidnight.github.io/Juniper">
<meta name="twitter:image" content="http://capnmidnight.github.io/Juniper/$logo">
<meta property="og:image" content="http://capnmidnight.github.io/Juniper/$logo">
<meta property="og:title" content="Juniper: BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer Class Reference">
<meta name="twitter:title" content="Juniper: BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer Class Reference">
<title>Juniper: BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <a href="https://github.com/capnmidnight/Juniper" style="position:absolute;right:0;top:0"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149" alt="Fork me on GitHub" data-recalc-dims="1"></a>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <a id="projectlogo" href="https://www.github.com/capnmidnight/Juniper" target="_blank" rel="noopener" title="Project repository"><img alt="Logo" src="../../logo.png"/></a>
  <div id="projectalign">
  	<a id="projectname" href="https://www.github.com/capnmidnight/Juniper" target="_blank" rel="noopener" title="Project repository">Juniper</a>
   	<div id="projectbrief">Cross-platform VR and AR Framework</div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/db9/namespace_bit_miracle.html">BitMiracle</a></li><li class="navelem"><a class="el" href="../../db/dd2/namespace_bit_miracle_1_1_lib_jpeg.html">LibJpeg</a></li><li class="navelem"><a class="el" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html">Classic</a></li><li class="navelem"><a class="el" href="../../d7/dcd/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal.html">Internal</a></li><li class="navelem"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html">My1PassCQuantizer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../d4/d16/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p> 
 <a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d7c/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/d58/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1558404544cd72c394f3e880d27c9492"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1558404544cd72c394f3e880d27c9492">My1PassCQuantizer</a> (<a class="el" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html">JpegDecompressStruct</a> cinfo)</td></tr>
<tr class="memdesc:a1558404544cd72c394f3e880d27c9492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Module initialization routine for 1-pass color quantization.  <a href="#a1558404544cd72c394f3e880d27c9492">More...</a><br /></td></tr>
<tr class="separator:a1558404544cd72c394f3e880d27c9492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a428cb2ccb178aeaf220b6cb6dde6a7c1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a428cb2ccb178aeaf220b6cb6dde6a7c1">StartPass</a> (bool is_pre_scan)</td></tr>
<tr class="memdesc:a428cb2ccb178aeaf220b6cb6dde6a7c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize for one-pass color quantization.  <a href="#a428cb2ccb178aeaf220b6cb6dde6a7c1">More...</a><br /></td></tr>
<tr class="separator:a428cb2ccb178aeaf220b6cb6dde6a7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed967a3fa975fad500077f3aff9b0807"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aed967a3fa975fad500077f3aff9b0807">ColorQuantize</a> (byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</td></tr>
<tr class="separator:aed967a3fa975fad500077f3aff9b0807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09025e1dee0b4056a5f2f80fb7b44155"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a09025e1dee0b4056a5f2f80fb7b44155">FinishPass</a> ()</td></tr>
<tr class="memdesc:a09025e1dee0b4056a5f2f80fb7b44155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish up at the end of the pass.  <a href="#a09025e1dee0b4056a5f2f80fb7b44155">More...</a><br /></td></tr>
<tr class="separator:a09025e1dee0b4056a5f2f80fb7b44155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2640df413f892ca4e88cd329a2d7300"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ae2640df413f892ca4e88cd329a2d7300">NewColorMap</a> ()</td></tr>
<tr class="memdesc:ae2640df413f892ca4e88cd329a2d7300"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch to a new external colormap between output passes. Shouldn't get to this!  <a href="#ae2640df413f892ca4e88cd329a2d7300">More...</a><br /></td></tr>
<tr class="separator:ae2640df413f892ca4e88cd329a2d7300"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:aaa0515758e35f21adba8b84f3fd632e4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a> { <br />
&#160;&#160;<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4ac5a12dda398a4d769a231bad833acbbb">QuantizerType.color_quantizer3</a>, 
<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4a7544722dc4e7adb2064e0a1ade7abb10">QuantizerType.color_quantizer</a>, 
<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4a63a28887523ec2b48b5dad5e45dbcb8d">QuantizerType.quantize3_ord_dither_quantizer</a>, 
<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4a25a1970662a62adf7e21a5b4a482bcc7">QuantizerType.quantize_ord_dither_quantizer</a>, 
<br />
&#160;&#160;<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4af2cd5df2620eee5d8e71b873b4f777af">QuantizerType.quantize_fs_dither_quantizer</a>
<br />
 }</td></tr>
<tr class="separator:aaa0515758e35f21adba8b84f3fd632e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae7ce6f7614a9628545c517e50ce70cd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ae7ce6f7614a9628545c517e50ce70cd9">Quantize</a> (byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</td></tr>
<tr class="memdesc:ae7ce6f7614a9628545c517e50ce70cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map some rows of pixels to the output colormapped representation. General case, no dithering.  <a href="#ae7ce6f7614a9628545c517e50ce70cd9">More...</a><br /></td></tr>
<tr class="separator:ae7ce6f7614a9628545c517e50ce70cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a3768ab26473aa0f9494d6d417dddb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a21a3768ab26473aa0f9494d6d417dddb">Quantize3</a> (byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</td></tr>
<tr class="memdesc:a21a3768ab26473aa0f9494d6d417dddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map some rows of pixels to the output colormapped representation. Fast path for out_color_components==3, no dithering  <a href="#a21a3768ab26473aa0f9494d6d417dddb">More...</a><br /></td></tr>
<tr class="separator:a21a3768ab26473aa0f9494d6d417dddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d46a6453f2ab849aa94758b62ee6bc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a4d46a6453f2ab849aa94758b62ee6bc8">QuantizeOrdDither</a> (byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</td></tr>
<tr class="memdesc:a4d46a6453f2ab849aa94758b62ee6bc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map some rows of pixels to the output colormapped representation. General case, with ordered dithering.  <a href="#a4d46a6453f2ab849aa94758b62ee6bc8">More...</a><br /></td></tr>
<tr class="separator:a4d46a6453f2ab849aa94758b62ee6bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68eb492c13cdf10a52bad1feff764777"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a68eb492c13cdf10a52bad1feff764777">Quantize3OrdDither</a> (byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</td></tr>
<tr class="memdesc:a68eb492c13cdf10a52bad1feff764777"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map some rows of pixels to the output colormapped representation. Fast path for out_color_components==3, with ordered dithering  <a href="#a68eb492c13cdf10a52bad1feff764777">More...</a><br /></td></tr>
<tr class="separator:a68eb492c13cdf10a52bad1feff764777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a931371c30d048ade31efe591d77468b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a931371c30d048ade31efe591d77468b7">QuantizeFsDither</a> (byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</td></tr>
<tr class="memdesc:a931371c30d048ade31efe591d77468b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map some rows of pixels to the output colormapped representation. General case, with Floyd-Steinberg dithering  <a href="#a931371c30d048ade31efe591d77468b7">More...</a><br /></td></tr>
<tr class="separator:a931371c30d048ade31efe591d77468b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502950b2a71b8f389b883a09199a5d52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a502950b2a71b8f389b883a09199a5d52">CreateColormap</a> ()</td></tr>
<tr class="memdesc:a502950b2a71b8f389b883a09199a5d52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the colormap.  <a href="#a502950b2a71b8f389b883a09199a5d52">More...</a><br /></td></tr>
<tr class="separator:a502950b2a71b8f389b883a09199a5d52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8925cb509f1f298636b10fa5390d83a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a8925cb509f1f298636b10fa5390d83a3">CreateColorIndex</a> ()</td></tr>
<tr class="memdesc:a8925cb509f1f298636b10fa5390d83a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the color index table.  <a href="#a8925cb509f1f298636b10fa5390d83a3">More...</a><br /></td></tr>
<tr class="separator:a8925cb509f1f298636b10fa5390d83a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49741f32eaeaa668a604182a18e9677e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a49741f32eaeaa668a604182a18e9677e">CreateODitherTable</a> ()</td></tr>
<tr class="memdesc:a49741f32eaeaa668a604182a18e9677e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the ordered-dither tables. Components having the same number of representative colors may share a dither table.  <a href="#a49741f32eaeaa668a604182a18e9677e">More...</a><br /></td></tr>
<tr class="separator:a49741f32eaeaa668a604182a18e9677e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff3802970d121279398eab570221256f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aff3802970d121279398eab570221256f">AllocFsWorkspace</a> ()</td></tr>
<tr class="memdesc:aff3802970d121279398eab570221256f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate workspace for Floyd-Steinberg errors.  <a href="#aff3802970d121279398eab570221256f">More...</a><br /></td></tr>
<tr class="separator:aff3802970d121279398eab570221256f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38d33bdb69394ec1ead8d42e30d1bd9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ab38d33bdb69394ec1ead8d42e30d1bd9">SelectNColors</a> (int[] Ncolors)</td></tr>
<tr class="memdesc:ab38d33bdb69394ec1ead8d42e30d1bd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine allocation of desired colors to components, and fill in Ncolors[] array to indicate choice. Return value is total number of colors (product of Ncolors[] values).  <a href="#ab38d33bdb69394ec1ead8d42e30d1bd9">More...</a><br /></td></tr>
<tr class="separator:ab38d33bdb69394ec1ead8d42e30d1bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aee4af62329cd1aa52dbb864d35b7e564"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aee4af62329cd1aa52dbb864d35b7e564">LargestInputValue</a> (int j, int maxj)</td></tr>
<tr class="memdesc:aee4af62329cd1aa52dbb864d35b7e564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return largest input value that should map to j'th output value Must have largest(j=0) &gt;= 0, and largest(j=maxj) &gt;= MAXJSAMPLE  <a href="#aee4af62329cd1aa52dbb864d35b7e564">More...</a><br /></td></tr>
<tr class="separator:aee4af62329cd1aa52dbb864d35b7e564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28957b3caed333c96254c2fe7a7061b4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a28957b3caed333c96254c2fe7a7061b4">OutputValue</a> (int j, int maxj)</td></tr>
<tr class="memdesc:a28957b3caed333c96254c2fe7a7061b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return j'th output value, where j will range from 0 to maxj The output values must fall in 0..MAXJSAMPLE in increasing order  <a href="#a28957b3caed333c96254c2fe7a7061b4">More...</a><br /></td></tr>
<tr class="separator:a28957b3caed333c96254c2fe7a7061b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dabf0086cfb7a9addee2cd67c314189"><td class="memItemLeft" align="right" valign="top">static int [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2dabf0086cfb7a9addee2cd67c314189">MakeODitherArray</a> (int ncolors)</td></tr>
<tr class="memdesc:a2dabf0086cfb7a9addee2cd67c314189"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an ordered-dither array for a component having ncolors distinct output values.  <a href="#a2dabf0086cfb7a9addee2cd67c314189">More...</a><br /></td></tr>
<tr class="separator:a2dabf0086cfb7a9addee2cd67c314189"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2af5bd47a4e51dc5e9e7566e9857a41c"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a> = 4</td></tr>
<tr class="separator:a2af5bd47a4e51dc5e9e7566e9857a41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875a6bc018c0dcbc0cb04a4d57a60090"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a> = 16</td></tr>
<tr class="separator:a875a6bc018c0dcbc0cb04a4d57a60090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03da648bd0a2bda2ee89a75b2efd3204"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a03da648bd0a2bda2ee89a75b2efd3204">ODITHER_CELLS</a> = (<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a> * <a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a>)</td></tr>
<tr class="separator:a03da648bd0a2bda2ee89a75b2efd3204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef40feae72b81df6c80da0f239c1380"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1ef40feae72b81df6c80da0f239c1380">ODITHER_MASK</a> = (<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a> - 1)</td></tr>
<tr class="separator:a1ef40feae72b81df6c80da0f239c1380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d2b27581b9040411a6ec893f67ed91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">m_quantizer</a></td></tr>
<tr class="separator:a10d2b27581b9040411a6ec893f67ed91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3aaad83fb38c08ebd09a6ffed29bbda"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html">JpegDecompressStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a></td></tr>
<tr class="separator:ad3aaad83fb38c08ebd09a6ffed29bbda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc292261d6d726f2006885cbc78fc10"><td class="memItemLeft" align="right" valign="top">byte [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#afcc292261d6d726f2006885cbc78fc10">m_sv_colormap</a></td></tr>
<tr class="separator:afcc292261d6d726f2006885cbc78fc10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b09ba0739c1f68e129513491238a09a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5b09ba0739c1f68e129513491238a09a">m_sv_actual</a></td></tr>
<tr class="separator:a5b09ba0739c1f68e129513491238a09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f8085bf41c24ff33504ab72edebb95"><td class="memItemLeft" align="right" valign="top">byte [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a></td></tr>
<tr class="separator:a84f8085bf41c24ff33504ab72edebb95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7add33edc684272f3d3cabbb589c21"><td class="memItemLeft" align="right" valign="top">int []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a></td></tr>
<tr class="separator:a5f7add33edc684272f3d3cabbb589c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c0a789732ee69ee99b0bb0e1c8b9d1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a45c0a789732ee69ee99b0bb0e1c8b9d1">m_is_padded</a></td></tr>
<tr class="separator:a45c0a789732ee69ee99b0bb0e1c8b9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b02abe84320dc9db111b8fa7d7ef4eb"><td class="memItemLeft" align="right" valign="top">readonly int []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a> = new int[<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a>]</td></tr>
<tr class="separator:a2b02abe84320dc9db111b8fa7d7ef4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bcab678313c8fd8103ee38243e34249"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">m_row_index</a></td></tr>
<tr class="separator:a1bcab678313c8fd8103ee38243e34249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be614e3c7853722483b6a5134968406"><td class="memItemLeft" align="right" valign="top">readonly int [][][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a> = new int[<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a>][][]</td></tr>
<tr class="separator:a5be614e3c7853722483b6a5134968406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5043df2e4346fcf3b117ce0683031a51"><td class="memItemLeft" align="right" valign="top">readonly short [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">m_fserrors</a> = new short[<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a>][]</td></tr>
<tr class="separator:a5043df2e4346fcf3b117ce0683031a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1163eb0981bfdbaa20a6dc3df745d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a3f1163eb0981bfdbaa20a6dc3df745d7">m_on_odd_row</a></td></tr>
<tr class="separator:a3f1163eb0981bfdbaa20a6dc3df745d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aaf37b7a1c37ad6f8a5ba80216cbae43c"><td class="memItemLeft" align="right" valign="top">static readonly int []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaf37b7a1c37ad6f8a5ba80216cbae43c">RGB_order</a> = { <a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a27f29c0fbae8febffd477d32cab626f9">JpegConstants.RGB_GREEN</a>, <a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a9375376c7231ea1847432f4234ba3885">JpegConstants.RGB_RED</a>, <a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a18f005e9ebf0b024a9c475e40f75f4cc">JpegConstants.RGB_BLUE</a> }</td></tr>
<tr class="separator:aaf37b7a1c37ad6f8a5ba80216cbae43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b51e43e989d5d3f3f4796641cd0227"><td class="memItemLeft" align="right" valign="top">static readonly byte [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a37b51e43e989d5d3f3f4796641cd0227">base_dither_matrix</a></td></tr>
<tr class="separator:a37b51e43e989d5d3f3f4796641cd0227"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main purpose of 1-pass quantization is to provide a fast, if not very high quality, colormapped output capability. A 2-pass quantizer usually gives better visual quality; however, for quantized grayscale output this quantizer is perfectly adequate. Dithering is highly recommended with this quantizer, though you can turn it off if you really want to. </p>
<p>In 1-pass quantization the colormap must be chosen in advance of seeing the image. We use a map consisting of all combinations of Ncolors[i] color values for the i'th component. The Ncolors[] values are chosen so that their product, the total number of colors, is no more than that requested. (In most cases, the product will be somewhat less.) </p>
<p>Since the colormap is orthogonal, the representative value for each color component can be determined without considering the other components; then these indexes can be combined into a colormap index by a standard N-dimensional-array-subscript calculation. Most of the arithmetic involved can be precalculated and stored in the lookup table colorindex[]. colorindex[i][j] maps pixel value j in component i to the nearest representative value (grid plane) for that component; this index is multiplied by the array stride for component i, so that the index of the colormap entry closest to a given pixel value is just sum( colorindex[component-number][pixel-component-value] ) Aside from being fast, this scheme allows for variable spacing between representative values with no additional lookup cost. </p>
<p>If gamma correction has been applied in color conversion, it might be wise to adjust the color grid spacing so that the representative colors are equidistant in linear space. At this writing, gamma correction is not implemented, so nothing is done here. </p>
<p>Declarations for Floyd-Steinberg dithering.</p>
<p>Errors are accumulated into the array fserrors[], at a resolution of 1/16th of a pixel count. The error at a given pixel is propagated to its not-yet-processed neighbors using the standard F-S fractions, ... (here) 7/16 3/16 5/16 1/16 We work left-to-right on even rows, right-to-left on odd rows. </p>
<p>We can get away with a single array (holding one row's worth of errors) by using it to store the current row's errors at pixel columns not yet processed, but the next row's errors at columns already processed. We need only a few extra variables to hold the errors immediately around the current column. (If we are lucky, those variables are in registers, but even if not, they're probably cheaper to access than array elements are.) </p>
<p>The fserrors[] array is indexed [component#][position]. We provide (#columns + 2) entries per component; the extra entry at each end saves us from special-casing the first and last pixels. </p>
<p>Declarations for ordered dithering.</p>
<p>We use a standard 16x16 ordered dither array. The basic concept of ordered dithering is described in many references, for instance Dale Schumacher's chapter II.2 of Graphics Gems II (James Arvo, ed. Academic Press, 1991). In place of Schumacher's comparisons against a "threshold" value, we add a "dither" value to the input pixel and then round the result to the nearest output value. The dither value is equivalent to (0.5 - threshold) times the distance between output values. For ordered dithering, we assume that the output colors are equally spaced; if not, results will probably be worse, since the dither may be too much or too little at a given point. </p>
<p>The normal calculation would be to form pixel value + dither, range-limit this to 0..MAXJSAMPLE, and then index into the colorindex table as usual. We can skip the separate range-limiting step by extending the colorindex table in both directions. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00087">87</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aaa0515758e35f21adba8b84f3fd632e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0515758e35f21adba8b84f3fd632e4">&#9670;&nbsp;</a></span>QuantizerType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizerType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aaa0515758e35f21adba8b84f3fd632e4ac5a12dda398a4d769a231bad833acbbb"></a>color_quantizer3&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaa0515758e35f21adba8b84f3fd632e4a7544722dc4e7adb2064e0a1ade7abb10"></a>color_quantizer&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaa0515758e35f21adba8b84f3fd632e4a63a28887523ec2b48b5dad5e45dbcb8d"></a>quantize3_ord_dither_quantizer&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaa0515758e35f21adba8b84f3fd632e4a25a1970662a62adf7e21a5b4a482bcc7"></a>quantize_ord_dither_quantizer&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aaa0515758e35f21adba8b84f3fd632e4af2cd5df2620eee5d8e71b873b4f777af"></a>quantize_fs_dither_quantizer&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00089">89</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            color_quantizer3,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            color_quantizer,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            quantize3_ord_dither_quantizer,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            quantize_ord_dither_quantizer,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            quantize_fs_dither_quantizer</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1558404544cd72c394f3e880d27c9492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1558404544cd72c394f3e880d27c9492">&#9670;&nbsp;</a></span>My1PassCQuantizer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.My1PassCQuantizer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html">JpegDecompressStruct</a>&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Module initialization routine for 1-pass color quantization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cinfo</td><td>The cinfo.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00162">162</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a> = cinfo;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">m_fserrors</a>[0] = <span class="keyword">null</span>; <span class="comment">/* Flag FS workspace not allocated */</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[0] = <span class="keyword">null</span>;    <span class="comment">/* Also flag odither arrays not allocated */</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="comment">/* Make sure my internal arrays won&#39;t overflow */</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">if</span> (cinfo.outColorComponents &gt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a>)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                cinfo.ErrExit(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_QUANT_COMPONENTS, <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a>);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="comment">/* Make sure colormap indexes can be represented by JSAMPLEs */</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">if</span> (cinfo.desiredNumberOfColors &gt; (JpegConstants.MAXJSAMPLE + 1))</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                cinfo.ErrExit(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_QUANT_MANY_COLORS, JpegConstants.MAXJSAMPLE + 1);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="comment">/* Create the colormap and color index table. */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a502950b2a71b8f389b883a09199a5d52">CreateColormap</a>();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a8925cb509f1f298636b10fa5390d83a3">CreateColorIndex</a>();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="comment">/* Allocate Floyd-Steinberg workspace now if requested.</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">            * We do this now since it is FAR storage and may affect the memory</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">            * manager&#39;s space calculations.  If the user changes to FS dither</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">            * mode in a later pass, we will allocate the space then, and will</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">            * possibly overrun the max_memory_to_use setting.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">if</span> (cinfo.ditherMode == <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#afdd494a350f54a251aec2029ffe2af09">JDitherMode</a>.JDITHER_FS)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aff3802970d121279398eab570221256f">AllocFsWorkspace</a>();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        }</div><div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_afdd494a350f54a251aec2029ffe2af09"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#afdd494a350f54a251aec2029ffe2af09">BitMiracle.LibJpeg.Classic.JDitherMode</a></div><div class="ttdeci">JDitherMode</div><div class="ttdoc">Dithering options for decompression.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbc/_j_dither_mode_8cs_source.html#l00007">JDitherMode.cs:7</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a8925cb509f1f298636b10fa5390d83a3"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a8925cb509f1f298636b10fa5390d83a3">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex</a></div><div class="ttdeci">void CreateColorIndex()</div><div class="ttdoc">Create the color index table.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">My1PassCQuantizer.cs:637</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5043df2e4346fcf3b117ce0683031a51"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors</a></div><div class="ttdeci">readonly short [][] m_fserrors</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">My1PassCQuantizer.cs:155</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a502950b2a71b8f389b883a09199a5d52"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a502950b2a71b8f389b883a09199a5d52">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap</a></div><div class="ttdeci">void CreateColormap()</div><div class="ttdoc">Create the colormap.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">My1PassCQuantizer.cs:579</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a2af5bd47a4e51dc5e9e7566e9857a41c"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MAX_Q_COMPS</a></div><div class="ttdeci">const int MAX_Q_COMPS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00099">My1PassCQuantizer.cs:99</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_aff3802970d121279398eab570221256f"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aff3802970d121279398eab570221256f">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.AllocFsWorkspace</a></div><div class="ttdeci">void AllocFsWorkspace()</div><div class="ttdoc">Allocate workspace for Floyd-Steinberg errors.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00738">My1PassCQuantizer.cs:738</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5be614e3c7853722483b6a5134968406"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a></div><div class="ttdeci">readonly int [][][] m_odither</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">My1PassCQuantizer.cs:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00738">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.AllocFsWorkspace()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap()</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00049">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.desiredNumberOfColors</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00047">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.ditherMode</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00099">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MAX_Q_COMPS</a>, <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00122">BitMiracle.LibJpeg.Classic.JpegConstants.MAXJSAMPLE</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aff3802970d121279398eab570221256f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff3802970d121279398eab570221256f">&#9670;&nbsp;</a></span>AllocFsWorkspace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.AllocFsWorkspace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate workspace for Floyd-Steinberg errors. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00738">738</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>; i++)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">m_fserrors</a>[i] = <span class="keyword">new</span> <span class="keywordtype">short</span>[<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">outputWidth</a> + 2];</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_ae757612ef39652f5af7dc4baa5e913dc"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a></div><div class="ttdeci">internal int outputWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">JpegDecompressStruct.cs:54</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5043df2e4346fcf3b117ce0683031a51"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors</a></div><div class="ttdeci">readonly short [][] m_fserrors</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">My1PassCQuantizer.cs:155</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00162">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.My1PassCQuantizer()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="aed967a3fa975fad500077f3aff9b0807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed967a3fa975fad500077f3aff9b0807">&#9670;&nbsp;</a></span>ColorQuantize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ColorQuantize </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>input_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>output_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d2/d0d/interface_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_i_jpeg_color_quantizer.html#a69e4467e5ec4bbc88d9b44457f5b38cb">BitMiracle.LibJpeg.Classic.Internal.IJpegColorQuantizer</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00275">275</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">m_quantizer</a>)</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.color_quantizer3:</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a21a3768ab26473aa0f9494d6d417dddb">Quantize3</a>(input_buf, in_row, output_buf, out_row, num_rows);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.color_quantizer:</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ae7ce6f7614a9628545c517e50ce70cd9">Quantize</a>(input_buf, in_row, output_buf, out_row, num_rows);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.quantize3_ord_dither_quantizer:</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a68eb492c13cdf10a52bad1feff764777">Quantize3OrdDither</a>(input_buf, in_row, output_buf, out_row, num_rows);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.quantize_ord_dither_quantizer:</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a4d46a6453f2ab849aa94758b62ee6bc8">QuantizeOrdDither</a>(input_buf, in_row, output_buf, out_row, num_rows);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.quantize_fs_dither_quantizer:</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a931371c30d048ade31efe591d77468b7">QuantizeFsDither</a>(input_buf, in_row, output_buf, out_row, num_rows);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_NOTIMPL);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a68eb492c13cdf10a52bad1feff764777"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a68eb492c13cdf10a52bad1feff764777">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither</a></div><div class="ttdeci">void Quantize3OrdDither(byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</div><div class="ttdoc">Map some rows of pixels to the output colormapped representation. Fast path for out_color_components=...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">My1PassCQuantizer.cs:429</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a10d2b27581b9040411a6ec893f67ed91"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_quantizer</a></div><div class="ttdeci">QuantizerType m_quantizer</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00131">My1PassCQuantizer.cs:131</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ae7ce6f7614a9628545c517e50ce70cd9"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ae7ce6f7614a9628545c517e50ce70cd9">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize</a></div><div class="ttdeci">void Quantize(byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</div><div class="ttdoc">Map some rows of pixels to the output colormapped representation. General case, no dithering.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00321">My1PassCQuantizer.cs:321</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_aaa0515758e35f21adba8b84f3fd632e4"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizerType</a></div><div class="ttdeci">QuantizerType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00089">My1PassCQuantizer.cs:89</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a21a3768ab26473aa0f9494d6d417dddb"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a21a3768ab26473aa0f9494d6d417dddb">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3</a></div><div class="ttdeci">void Quantize3(byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</div><div class="ttdoc">Map some rows of pixels to the output colormapped representation. Fast path for out_color_components=...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00352">My1PassCQuantizer.cs:352</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a931371c30d048ade31efe591d77468b7"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a931371c30d048ade31efe591d77468b7">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither</a></div><div class="ttdeci">void QuantizeFsDither(byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</div><div class="ttdoc">Map some rows of pixels to the output colormapped representation. General case, with Floyd-Steinberg ...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">My1PassCQuantizer.cs:469</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a4d46a6453f2ab849aa94758b62ee6bc8"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a4d46a6453f2ab849aa94758b62ee6bc8">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither</a></div><div class="ttdeci">void QuantizeOrdDither(byte[][] input_buf, int in_row, byte[][] output_buf, int out_row, int num_rows)</div><div class="ttdoc">Map some rows of pixels to the output colormapped representation. General case, with ordered ditherin...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">My1PassCQuantizer.cs:385</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00131">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_quantizer</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00321">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00352">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither()</a>.</p>

</div>
</div>
<a id="a8925cb509f1f298636b10fa5390d83a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8925cb509f1f298636b10fa5390d83a3">&#9670;&nbsp;</a></span>CreateColorIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the color index table. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">637</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="comment">/* For ordered dither, we pad the color index tables by MAXJSAMPLE in</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">             * each direction (input index values can be -MAXJSAMPLE .. 2*MAXJSAMPLE).</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">             * This is not necessary in the other dithering modes.  However, we</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">             * flag whether it was done in case user changes dithering mode.</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="keywordtype">int</span> pad;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a14ac14e4ffbef5bdd59c206c05568246">ditherMode</a> == <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#afdd494a350f54a251aec2029ffe2af09">JDitherMode</a>.JDITHER_ORDERED)</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                pad = JpegConstants.MAXJSAMPLE * 2;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a45c0a789732ee69ee99b0bb0e1c8b9d1">m_is_padded</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                pad = 0;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a45c0a789732ee69ee99b0bb0e1c8b9d1">m_is_padded</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a> = JpegCommonStruct.AllocJpegSamples(JpegConstants.MAXJSAMPLE + 1 + pad, <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>];</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="comment">/* blksize is number of adjacent repeated entries for a component */</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            var blksize = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5b09ba0739c1f68e129513491238a09a">m_sv_actual</a>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>; i++)</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="comment">/* fill in colorindex entries for i&#39;th color component */</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                var nci = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a>[i]; <span class="comment">/* # of distinct values for this color */</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                blksize /= nci;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="comment">/* adjust colorindex pointers to provide padding at negative indexes. */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="keywordflow">if</span> (pad != 0)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[i] += JpegConstants.MAXJSAMPLE;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="comment">/* in loop, val = index of current output value, */</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                <span class="comment">/* and k = largest j that maps to current val */</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                var val = 0;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                var k = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aee4af62329cd1aa52dbb864d35b7e564">LargestInputValue</a>(0, nci - 1);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <span class="keywordflow">for</span> (var j = 0; j &lt;= JpegConstants.MAXJSAMPLE; j++)</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                    <span class="keywordflow">while</span> (j &gt; k)</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                    {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                        <span class="comment">/* advance val if past boundary */</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        k = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aee4af62329cd1aa52dbb864d35b7e564">LargestInputValue</a>(++val, nci - 1);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    <span class="comment">/* premultiply so that no multiplication needed in main processing */</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[i][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[i] + j] = (byte)(val * blksize);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                <span class="comment">/* Pad at both ends if necessary */</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <span class="keywordflow">if</span> (pad != 0)</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                    <span class="keywordflow">for</span> (var j = 1; j &lt;= JpegConstants.MAXJSAMPLE; j++)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[i][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[i] + -j] = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[i][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[i]];</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[i][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[i] + JpegConstants.MAXJSAMPLE + j] = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[i][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[i] + JpegConstants.MAXJSAMPLE];</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                    }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div><div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_afdd494a350f54a251aec2029ffe2af09"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#afdd494a350f54a251aec2029ffe2af09">BitMiracle.LibJpeg.Classic.JDitherMode</a></div><div class="ttdeci">JDitherMode</div><div class="ttdoc">Dithering options for decompression.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbc/_j_dither_mode_8cs_source.html#l00007">JDitherMode.cs:7</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5b09ba0739c1f68e129513491238a09a"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5b09ba0739c1f68e129513491238a09a">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_actual</a></div><div class="ttdeci">int m_sv_actual</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00137">My1PassCQuantizer.cs:137</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a45c0a789732ee69ee99b0bb0e1c8b9d1"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a45c0a789732ee69ee99b0bb0e1c8b9d1">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_is_padded</a></div><div class="ttdeci">bool m_is_padded</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00146">My1PassCQuantizer.cs:146</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5f7add33edc684272f3d3cabbb589c21"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a></div><div class="ttdeci">int [] m_colorindexOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">My1PassCQuantizer.cs:140</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a2b02abe84320dc9db111b8fa7d7ef4eb"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_Ncolors</a></div><div class="ttdeci">readonly int [] m_Ncolors</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00148">My1PassCQuantizer.cs:148</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a84f8085bf41c24ff33504ab72edebb95"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a></div><div class="ttdeci">byte [][] m_colorindex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">My1PassCQuantizer.cs:139</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_aee4af62329cd1aa52dbb864d35b7e564"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aee4af62329cd1aa52dbb864d35b7e564">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.LargestInputValue</a></div><div class="ttdeci">static int LargestInputValue(int j, int maxj)</div><div class="ttdoc">Return largest input value that should map to j'th output value Must have largest(j=0) &gt;= 0,...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00764">My1PassCQuantizer.cs:764</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a14ac14e4ffbef5bdd59c206c05568246"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a14ac14e4ffbef5bdd59c206c05568246">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.ditherMode</a></div><div class="ttdeci">internal JDitherMode ditherMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00047">JpegDecompressStruct.cs:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00158">BitMiracle.LibJpeg.Classic.JpegCommonStruct.AllocJpegSamples()</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00047">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.ditherMode</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00764">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.LargestInputValue()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00146">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_is_padded</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00148">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_Ncolors</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00137">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_actual</a>, <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00122">BitMiracle.LibJpeg.Classic.JpegConstants.MAXJSAMPLE</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00162">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.My1PassCQuantizer()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a502950b2a71b8f389b883a09199a5d52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502950b2a71b8f389b883a09199a5d52">&#9670;&nbsp;</a></span>CreateColormap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the colormap. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">579</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="comment">/* Select number of colors for each component */</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            var total_colors = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ab38d33bdb69394ec1ead8d42e30d1bd9">SelectNColors</a>(<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="comment">/* Report selected color counts */</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a> == 3)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#a9000126ac0624abe11a4a7438feae2de">TraceMS</a>(1, <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JTRC_QUANT_3_NCOLORS, total_colors, <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a>[0], <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a>[1], <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a>[2]);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#a9000126ac0624abe11a4a7438feae2de">TraceMS</a>(1, <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JTRC_QUANT_NCOLORS, total_colors);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="comment">/* Allocate and fill in the colormap. */</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="comment">/* The colors are ordered in the map in standard row-major order, */</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="comment">/* i.e. rightmost (highest-indexed) color changes most rapidly. */</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            var colormap = JpegCommonStruct.AllocJpegSamples(total_colors, <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="comment">/* blksize is number of adjacent repeated entries for a component */</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="comment">/* blkdist is distance between groups of identical entries for a component */</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            var blkdist = total_colors;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>; i++)</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <span class="comment">/* fill in colormap entries for i&#39;th color component */</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                var nci = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a>[i]; <span class="comment">/* # of distinct values for this color */</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                var blksize = blkdist / nci;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                <span class="keywordflow">for</span> (var j = 0; j &lt; nci; j++)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    <span class="comment">/* Compute j&#39;th output value (out of nci) for component */</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    var val = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a28957b3caed333c96254c2fe7a7061b4">OutputValue</a>(j, nci - 1);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    <span class="comment">/* Fill in all colormap entries that have this value of this component */</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                    <span class="keywordflow">for</span> (var ptr = j * blksize; ptr &lt; total_colors; ptr += blkdist)</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        <span class="comment">/* fill in blksize entries beginning at ptr */</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                        <span class="keywordflow">for</span> (var k = 0; k &lt; blksize; k++)</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                            colormap[i][ptr + k] = (byte)val;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                <span class="comment">/* blksize of this color is blkdist of next */</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                blkdist = blksize;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="comment">/* Save the colormap in private storage,</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">             * where it will survive color quantization mode changes.</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#afcc292261d6d726f2006885cbc78fc10">m_sv_colormap</a> = colormap;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5b09ba0739c1f68e129513491238a09a">m_sv_actual</a> = total_colors;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_a9000126ac0624abe11a4a7438feae2de"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#a9000126ac0624abe11a4a7438feae2de">BitMiracle.LibJpeg.Classic.JpegCommonStruct.TraceMS</a></div><div class="ttdeci">void TraceMS(int lvl, JMessageCode code)</div><div class="ttdoc">Shows informational and debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00306">JpegCommonStruct.cs:306</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a28957b3caed333c96254c2fe7a7061b4"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a28957b3caed333c96254c2fe7a7061b4">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.OutputValue</a></div><div class="ttdeci">static int OutputValue(int j, int maxj)</div><div class="ttdoc">Return j'th output value, where j will range from 0 to maxj The output values must fall in 0....</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00774">My1PassCQuantizer.cs:774</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5b09ba0739c1f68e129513491238a09a"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5b09ba0739c1f68e129513491238a09a">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_actual</a></div><div class="ttdeci">int m_sv_actual</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00137">My1PassCQuantizer.cs:137</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ab38d33bdb69394ec1ead8d42e30d1bd9"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ab38d33bdb69394ec1ead8d42e30d1bd9">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.SelectNColors</a></div><div class="ttdeci">int SelectNColors(int[] Ncolors)</div><div class="ttdoc">Determine allocation of desired colors to components, and fill in Ncolors[] array to indicate choice....</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00789">My1PassCQuantizer.cs:789</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_afcc292261d6d726f2006885cbc78fc10"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#afcc292261d6d726f2006885cbc78fc10">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_colormap</a></div><div class="ttdeci">byte [][] m_sv_colormap</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00136">My1PassCQuantizer.cs:136</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a2b02abe84320dc9db111b8fa7d7ef4eb"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_Ncolors</a></div><div class="ttdeci">readonly int [] m_Ncolors</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00148">My1PassCQuantizer.cs:148</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00158">BitMiracle.LibJpeg.Classic.JpegCommonStruct.AllocJpegSamples()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00148">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_Ncolors</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00137">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_actual</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00136">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_colormap</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00774">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.OutputValue()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00789">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.SelectNColors()</a>, and <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00306">BitMiracle.LibJpeg.Classic.JpegCommonStruct.TraceMS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00162">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.My1PassCQuantizer()</a>.</p>

</div>
</div>
<a id="a49741f32eaeaa668a604182a18e9677e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49741f32eaeaa668a604182a18e9677e">&#9670;&nbsp;</a></span>CreateODitherTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateODitherTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the ordered-dither tables. Components having the same number of representative colors may share a dither table. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00706">706</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>; i++)</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                var nci = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a>[i]; <span class="comment">/* # of distinct values for this color */</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <span class="comment">/* search for matching prior component */</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                var foundPos = -1;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <span class="keywordflow">for</span> (var j = 0; j &lt; i; j++)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    <span class="keywordflow">if</span> (nci == <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">m_Ncolors</a>[j])</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                    {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                        foundPos = j;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                    }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                <span class="keywordflow">if</span> (foundPos == -1)</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <span class="comment">/* need a new table? */</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[i] = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2dabf0086cfb7a9addee2cd67c314189">MakeODitherArray</a>(nci);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[i] = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[foundPos];</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a2b02abe84320dc9db111b8fa7d7ef4eb"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2b02abe84320dc9db111b8fa7d7ef4eb">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_Ncolors</a></div><div class="ttdeci">readonly int [] m_Ncolors</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00148">My1PassCQuantizer.cs:148</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a2dabf0086cfb7a9addee2cd67c314189"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2dabf0086cfb7a9addee2cd67c314189">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MakeODitherArray</a></div><div class="ttdeci">static int [][] MakeODitherArray(int ncolors)</div><div class="ttdoc">Create an ordered-dither array for a component having ncolors distinct output values.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00862">My1PassCQuantizer.cs:862</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5be614e3c7853722483b6a5134968406"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a></div><div class="ttdeci">readonly int [][][] m_odither</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">My1PassCQuantizer.cs:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00148">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_Ncolors</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00862">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MakeODitherArray()</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a09025e1dee0b4056a5f2f80fb7b44155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09025e1dee0b4056a5f2f80fb7b44155">&#9670;&nbsp;</a></span>FinishPass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.FinishPass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish up at the end of the pass. </p>

<p>Implements <a class="el" href="../../d2/d0d/interface_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_i_jpeg_color_quantizer.html#a91bc21fc0160be980dfb06bb553d4ce9">BitMiracle.LibJpeg.Classic.Internal.IJpegColorQuantizer</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00303">303</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="comment">/* no work in 1-pass case */</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a id="aee4af62329cd1aa52dbb864d35b7e564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee4af62329cd1aa52dbb864d35b7e564">&#9670;&nbsp;</a></span>LargestInputValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.LargestInputValue </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return largest input value that should map to j'th output value Must have largest(j=0) &gt;= 0, and largest(j=maxj) &gt;= MAXJSAMPLE </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00764">764</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="comment">/* Breakpoints are halfway between values returned by output_value */</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="keywordflow">return</span> ((((2 * j) + 1) * JpegConstants.MAXJSAMPLE) + maxj) / (2 * maxj);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        }</div></div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00122">BitMiracle.LibJpeg.Classic.JpegConstants.MAXJSAMPLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>.</p>

</div>
</div>
<a id="a2dabf0086cfb7a9addee2cd67c314189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dabf0086cfb7a9addee2cd67c314189">&#9670;&nbsp;</a></span>MakeODitherArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int [][] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MakeODitherArray </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncolors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an ordered-dither array for a component having ncolors distinct output values. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00862">862</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            var odither = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a>][];</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a>; i++)</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                odither[i] = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a>];</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            <span class="comment">/* The inter-value distance for this color is MAXJSAMPLE/(ncolors-1).</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">             * Hence the dither value for the matrix cell with fill order f</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">             * (f=0..N-1) should be (N-1-2*f)/(2*N) * MAXJSAMPLE/(ncolors-1).</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">             * On 16-bit-int machine, be careful to avoid overflow.</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            var den = 2 * <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a03da648bd0a2bda2ee89a75b2efd3204">ODITHER_CELLS</a> * (ncolors - 1);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="keywordflow">for</span> (var j = 0; j &lt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a>; j++)</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                <span class="keywordflow">for</span> (var k = 0; k &lt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a>; k++)</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                    var num = (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a03da648bd0a2bda2ee89a75b2efd3204">ODITHER_CELLS</a> - 1 - (2 * <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a37b51e43e989d5d3f3f4796641cd0227">base_dither_matrix</a>[j][k])) * JpegConstants.MAXJSAMPLE;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    <span class="comment">/* Ensure round towards zero despite C&#39;s lack of consistency</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">                     * about rounding negative values in integer division...</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    odither[j][k] = num &lt; 0 ? -((-num) / den) : num / den;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            }</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">return</span> odither;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a875a6bc018c0dcbc0cb04a4d57a60090"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_SIZE</a></div><div class="ttdeci">const int ODITHER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00101">My1PassCQuantizer.cs:101</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a37b51e43e989d5d3f3f4796641cd0227"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a37b51e43e989d5d3f3f4796641cd0227">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.base_dither_matrix</a></div><div class="ttdeci">static readonly byte [][] base_dither_matrix</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00111">My1PassCQuantizer.cs:111</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a03da648bd0a2bda2ee89a75b2efd3204"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a03da648bd0a2bda2ee89a75b2efd3204">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_CELLS</a></div><div class="ttdeci">const int ODITHER_CELLS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00104">My1PassCQuantizer.cs:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00111">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.base_dither_matrix</a>, <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00122">BitMiracle.LibJpeg.Classic.JpegConstants.MAXJSAMPLE</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00104">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_CELLS</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00101">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00706">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateODitherTable()</a>.</p>

</div>
</div>
<a id="ae2640df413f892ca4e88cd329a2d7300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2640df413f892ca4e88cd329a2d7300">&#9670;&nbsp;</a></span>NewColorMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.NewColorMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch to a new external colormap between output passes. Shouldn't get to this! </p>

<p>Implements <a class="el" href="../../d2/d0d/interface_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_i_jpeg_color_quantizer.html#af13c82f55911118faa78ba8b9870e68d">BitMiracle.LibJpeg.Classic.Internal.IJpegColorQuantizer</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00312">312</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_MODE_CHANGE);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>.</p>

</div>
</div>
<a id="a28957b3caed333c96254c2fe7a7061b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28957b3caed333c96254c2fe7a7061b4">&#9670;&nbsp;</a></span>OutputValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.OutputValue </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return j'th output value, where j will range from 0 to maxj The output values must fall in 0..MAXJSAMPLE in increasing order </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00774">774</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <span class="comment">/* We always provide values 0 and MAXJSAMPLE for each component;</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">             * any additional values are equally spaced between these limits.</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">             * (Forcing the upper and lower values to the limits ensures that</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">             * dithering can&#39;t produce a color outside the selected gamut.)</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <span class="keywordflow">return</span> ((j * JpegConstants.MAXJSAMPLE) + (maxj / 2)) / maxj;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        }</div></div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00122">BitMiracle.LibJpeg.Classic.JpegConstants.MAXJSAMPLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap()</a>.</p>

</div>
</div>
<a id="ae7ce6f7614a9628545c517e50ce70cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ce6f7614a9628545c517e50ce70cd9">&#9670;&nbsp;</a></span>Quantize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>input_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>output_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map some rows of pixels to the output colormapped representation. General case, no dithering. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00321">321</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            var nc = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                var inIndex = 0;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                var inRow = in_row + row;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                var outIndex = 0;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                var outRow = out_row + row;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="keywordflow">for</span> (var col = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">outputWidth</a>; col &gt; 0; col--)</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    var pixcode = 0;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    <span class="keywordflow">for</span> (var ci = 0; ci &lt; nc; ci++)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        pixcode += <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[ci][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[ci] + input_buf[inRow][inIndex]];</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        inIndex++;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    output_buf[outRow][outIndex] = (byte)pixcode;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    outIndex++;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_ae757612ef39652f5af7dc4baa5e913dc"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a></div><div class="ttdeci">internal int outputWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">JpegDecompressStruct.cs:54</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5f7add33edc684272f3d3cabbb589c21"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a></div><div class="ttdeci">int [] m_colorindexOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">My1PassCQuantizer.cs:140</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a84f8085bf41c24ff33504ab72edebb95"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a></div><div class="ttdeci">byte [][] m_colorindex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">My1PassCQuantizer.cs:139</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00275">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ColorQuantize()</a>.</p>

</div>
</div>
<a id="a21a3768ab26473aa0f9494d6d417dddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a3768ab26473aa0f9494d6d417dddb">&#9670;&nbsp;</a></span>Quantize3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3 </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>input_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>output_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map some rows of pixels to the output colormapped representation. Fast path for out_color_components==3, no dithering </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00352">352</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            var width = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">outputWidth</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                var inIndex = 0;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                var inRow = in_row + row;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                var outIndex = 0;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                var outRow = out_row + row;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordflow">for</span> (var col = width; col &gt; 0; col--)</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    <span class="keywordtype">int</span> pixcode = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[0][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[0] + input_buf[inRow][inIndex]];</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    inIndex++;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    pixcode += <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[1][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[1] + input_buf[inRow][inIndex]];</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    inIndex++;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    pixcode += <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[2][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[2] + input_buf[inRow][inIndex]];</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    inIndex++;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    output_buf[outRow][outIndex] = (byte)pixcode;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                    outIndex++;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_ae757612ef39652f5af7dc4baa5e913dc"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a></div><div class="ttdeci">internal int outputWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">JpegDecompressStruct.cs:54</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5f7add33edc684272f3d3cabbb589c21"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a></div><div class="ttdeci">int [] m_colorindexOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">My1PassCQuantizer.cs:140</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a84f8085bf41c24ff33504ab72edebb95"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a></div><div class="ttdeci">byte [][] m_colorindex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">My1PassCQuantizer.cs:139</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00275">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ColorQuantize()</a>.</p>

</div>
</div>
<a id="a68eb492c13cdf10a52bad1feff764777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68eb492c13cdf10a52bad1feff764777">&#9670;&nbsp;</a></span>Quantize3OrdDither()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>input_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>output_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map some rows of pixels to the output colormapped representation. Fast path for out_color_components==3, with ordered dithering </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">429</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            var width = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">outputWidth</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                var row_index = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">m_row_index</a>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                var inRow = in_row + row;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                var inIndex = 0;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                var outIndex = 0;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                var outRow = out_row + row;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                var col_index = 0;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <span class="keywordflow">for</span> (var col = width; col &gt; 0; col--)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    <span class="keywordtype">int</span> pixcode = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[0][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[0] + input_buf[inRow][inIndex] + <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[0][row_index][col_index]];</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    inIndex++;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    pixcode += <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[1][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[1] + input_buf[inRow][inIndex] + <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[1][row_index][col_index]];</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    inIndex++;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    pixcode += <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[2][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[2] + input_buf[inRow][inIndex] + <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[2][row_index][col_index]];</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    inIndex++;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                    output_buf[outRow][outIndex] = (byte)pixcode;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    outIndex++;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    col_index = (col_index + 1) &amp; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1ef40feae72b81df6c80da0f239c1380">ODITHER_MASK</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                row_index = (row_index + 1) &amp; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1ef40feae72b81df6c80da0f239c1380">ODITHER_MASK</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">m_row_index</a> = row_index;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_ae757612ef39652f5af7dc4baa5e913dc"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a></div><div class="ttdeci">internal int outputWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">JpegDecompressStruct.cs:54</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a1ef40feae72b81df6c80da0f239c1380"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1ef40feae72b81df6c80da0f239c1380">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_MASK</a></div><div class="ttdeci">const int ODITHER_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00105">My1PassCQuantizer.cs:105</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5f7add33edc684272f3d3cabbb589c21"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a></div><div class="ttdeci">int [] m_colorindexOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">My1PassCQuantizer.cs:140</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a84f8085bf41c24ff33504ab72edebb95"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a></div><div class="ttdeci">byte [][] m_colorindex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">My1PassCQuantizer.cs:139</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a1bcab678313c8fd8103ee38243e34249"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_row_index</a></div><div class="ttdeci">int m_row_index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00151">My1PassCQuantizer.cs:151</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5be614e3c7853722483b6a5134968406"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a></div><div class="ttdeci">readonly int [][][] m_odither</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">My1PassCQuantizer.cs:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00151">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_row_index</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00105">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_MASK</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00275">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ColorQuantize()</a>.</p>

</div>
</div>
<a id="a931371c30d048ade31efe591d77468b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a931371c30d048ade31efe591d77468b7">&#9670;&nbsp;</a></span>QuantizeFsDither()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>input_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>output_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map some rows of pixels to the output colormapped representation. General case, with Floyd-Steinberg dithering </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">469</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            var nc = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            var width = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">outputWidth</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            var limit = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ad60f3df9defe67cea8643640ae9b22fe">m_sample_range_limit</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            var limitOffset = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a9734d85a224f5bf97ad72f8aed82e1db">m_sampleRangeLimitOffset</a>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                <span class="comment">/* Initialize output values to 0 so can process components separately */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                Array.Clear(output_buf[out_row + row], 0, width);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="keywordflow">for</span> (var ci = 0; ci &lt; nc; ci++)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    var inRow = in_row + row;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    var inIndex = ci;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                    var outIndex = 0;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    var outRow = out_row + row;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <span class="keywordtype">int</span> dir;            <span class="comment">/* 1 for left-to-right, -1 for right-to-left */</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                    <span class="keywordtype">int</span> errorIndex;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a3f1163eb0981bfdbaa20a6dc3df745d7">m_on_odd_row</a>)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                    {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                        <span class="comment">/* work right to left in this row */</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                        inIndex += (width - 1) * nc; <span class="comment">/* so point to rightmost pixel */</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        outIndex += width - 1;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                        dir = -1;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                        errorIndex = width + 1; <span class="comment">/* =&gt; entry after last column */</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                    }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                    {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        <span class="comment">/* work left to right in this row */</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        dir = 1;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        errorIndex = 0; <span class="comment">/* =&gt; entry before first column */</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                    }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                    var dirnc = dir * nc;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    <span class="comment">/* Preset error values: no error propagated to first pixel from left */</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    var cur = 0;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    <span class="comment">/* and no error propagated to row below yet */</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    var belowerr = 0;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    var bpreverr = 0;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    <span class="keywordflow">for</span> (var col = width; col &gt; 0; col--)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                        <span class="comment">/* cur holds the error propagated from the previous pixel on the</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">                         * current line.  Add the error propagated from the previous line</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">                         * to form the complete error correction term for this pixel, and</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">                         * round the error term (which is expressed * 16) to an integer.</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">                         * RIGHT_SHIFT rounds towards minus infinity, so adding 8 is correct</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">                         * for either sign of the error value.</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">                         * Note: errorIndex is for *previous* column&#39;s array entry.</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                        cur = JpegUtils.RIGHT_SHIFT(cur + <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">m_fserrors</a>[ci][errorIndex + dir] + 8, 4);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                        <span class="comment">/* Form pixel value + error, and range-limit to 0..MAXJSAMPLE.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">                         * The maximum error is +- MAXJSAMPLE; this sets the required size</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">                         * of the range_limit array.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                        cur += input_buf[inRow][inIndex];</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                        cur = limit[limitOffset + cur];</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                        <span class="comment">/* Select output value, accumulate into output code for this pixel */</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                        <span class="keywordtype">int</span> pixcode = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[ci][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[ci] + cur];</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                        output_buf[outRow][outIndex] += (byte)pixcode;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                        <span class="comment">/* Compute actual representation error at this pixel */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                        <span class="comment">/* Note: we can do this even though we don&#39;t have the final */</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                        <span class="comment">/* pixel code, because the colormap is orthogonal. */</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                        cur -= <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#afcc292261d6d726f2006885cbc78fc10">m_sv_colormap</a>[ci][pixcode];</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                        <span class="comment">/* Compute error fractions to be propagated to adjacent pixels.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">                         * Add these into the running sums, and simultaneously shift the</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">                         * next-line error sums left by 1 column.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                        var bnexterr = cur;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                        var delta = cur * 2;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                        cur += delta;       <span class="comment">/* form error * 3 */</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">m_fserrors</a>[ci][errorIndex + 0] = (short)(bpreverr + cur);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        cur += delta;       <span class="comment">/* form error * 5 */</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        bpreverr = belowerr + cur;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                        belowerr = bnexterr;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        cur += delta;       <span class="comment">/* form error * 7 */</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                        <span class="comment">/* At this point cur contains the 7/16 error value to be propagated</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">                         * to the next pixel on the current line, and all the errors for the</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">                         * next line have been shifted over. We are therefore ready to move on.</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                        inIndex += dirnc; <span class="comment">/* advance input to next column */</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                        outIndex += dir;  <span class="comment">/* advance output to next column */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                        errorIndex += dir;    <span class="comment">/* advance errorIndex to current column */</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    <span class="comment">/* Post-loop cleanup: we must unload the final error value into the</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">                     * final fserrors[] entry.  Note we need not unload belowerr because</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">                     * it is for the dummy column before or after the actual array.</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">m_fserrors</a>[ci][errorIndex + 0] = (short)bpreverr; <span class="comment">/* unload prev err into array */</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a3f1163eb0981bfdbaa20a6dc3df745d7">m_on_odd_row</a> = !<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a3f1163eb0981bfdbaa20a6dc3df745d7">m_on_odd_row</a>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_ae757612ef39652f5af7dc4baa5e913dc"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a></div><div class="ttdeci">internal int outputWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">JpegDecompressStruct.cs:54</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a9734d85a224f5bf97ad72f8aed82e1db"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a9734d85a224f5bf97ad72f8aed82e1db">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.m_sampleRangeLimitOffset</a></div><div class="ttdeci">internal int m_sampleRangeLimitOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00155">JpegDecompressStruct.cs:155</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_ad60f3df9defe67cea8643640ae9b22fe"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ad60f3df9defe67cea8643640ae9b22fe">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.m_sample_range_limit</a></div><div class="ttdeci">internal byte [] m_sample_range_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00154">JpegDecompressStruct.cs:154</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5043df2e4346fcf3b117ce0683031a51"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors</a></div><div class="ttdeci">readonly short [][] m_fserrors</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">My1PassCQuantizer.cs:155</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_afcc292261d6d726f2006885cbc78fc10"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#afcc292261d6d726f2006885cbc78fc10">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_colormap</a></div><div class="ttdeci">byte [][] m_sv_colormap</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00136">My1PassCQuantizer.cs:136</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5f7add33edc684272f3d3cabbb589c21"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a></div><div class="ttdeci">int [] m_colorindexOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">My1PassCQuantizer.cs:140</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a84f8085bf41c24ff33504ab72edebb95"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a></div><div class="ttdeci">byte [][] m_colorindex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">My1PassCQuantizer.cs:139</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a3f1163eb0981bfdbaa20a6dc3df745d7"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a3f1163eb0981bfdbaa20a6dc3df745d7">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_on_odd_row</a></div><div class="ttdeci">bool m_on_odd_row</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00156">My1PassCQuantizer.cs:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00156">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_on_odd_row</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00154">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.m_sample_range_limit</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00155">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.m_sampleRangeLimitOffset</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00136">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_colormap</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a>, and <a class="el" href="../../d6/de8/_jpeg_utils_8cs_source.html#l00121">BitMiracle.LibJpeg.Classic.Internal.JpegUtils.RIGHT_SHIFT()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00275">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ColorQuantize()</a>.</p>

</div>
</div>
<a id="a4d46a6453f2ab849aa94758b62ee6bc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d46a6453f2ab849aa94758b62ee6bc8">&#9670;&nbsp;</a></span>QuantizeOrdDither()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>input_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>output_buf</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map some rows of pixels to the output colormapped representation. General case, with ordered dithering. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">385</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            var nc = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            var width = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">outputWidth</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="comment">/* Initialize output values to 0 so can process components separately */</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                Array.Clear(output_buf[out_row + row], 0, width);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                var row_index = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">m_row_index</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="keywordflow">for</span> (var ci = 0; ci &lt; nc; ci++)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    var inputIndex = ci;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    var outIndex = 0;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    var outRow = out_row + row;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    var col_index = 0;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                    <span class="keywordflow">for</span> (var col = width; col &gt; 0; col--)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                        <span class="comment">/* Form pixel value + dither, range-limit to 0..MAXJSAMPLE,</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">                         * select output value, accumulate into output code for this pixel.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">                         * Range-limiting need not be done explicitly, as we have extended</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">                         * the colorindex table to produce the right answers for out-of-range</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">                         * inputs.  The maximum dither is +- MAXJSAMPLE; this sets the</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">                         * required amount of padding.</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                        output_buf[outRow][outIndex] += <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">m_colorindex</a>[ci][<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">m_colorindexOffset</a>[ci] + input_buf[in_row + row][inputIndex] + <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[ci][row_index][col_index]];</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        inputIndex += nc;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                        outIndex++;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        col_index = (col_index + 1) &amp; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1ef40feae72b81df6c80da0f239c1380">ODITHER_MASK</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="comment">/* Advance row index for next row */</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                row_index = (row_index + 1) &amp; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1ef40feae72b81df6c80da0f239c1380">ODITHER_MASK</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">m_row_index</a> = row_index;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_ae757612ef39652f5af7dc4baa5e913dc"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a></div><div class="ttdeci">internal int outputWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">JpegDecompressStruct.cs:54</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a1ef40feae72b81df6c80da0f239c1380"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1ef40feae72b81df6c80da0f239c1380">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_MASK</a></div><div class="ttdeci">const int ODITHER_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00105">My1PassCQuantizer.cs:105</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5f7add33edc684272f3d3cabbb589c21"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5f7add33edc684272f3d3cabbb589c21">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a></div><div class="ttdeci">int [] m_colorindexOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">My1PassCQuantizer.cs:140</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a84f8085bf41c24ff33504ab72edebb95"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a84f8085bf41c24ff33504ab72edebb95">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a></div><div class="ttdeci">byte [][] m_colorindex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">My1PassCQuantizer.cs:139</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a1bcab678313c8fd8103ee38243e34249"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_row_index</a></div><div class="ttdeci">int m_row_index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00151">My1PassCQuantizer.cs:151</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5be614e3c7853722483b6a5134968406"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a></div><div class="ttdeci">readonly int [][][] m_odither</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">My1PassCQuantizer.cs:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00151">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_row_index</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00105">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_MASK</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00275">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ColorQuantize()</a>.</p>

</div>
</div>
<a id="ab38d33bdb69394ec1ead8d42e30d1bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab38d33bdb69394ec1ead8d42e30d1bd9">&#9670;&nbsp;</a></span>SelectNColors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.SelectNColors </td>
          <td>(</td>
          <td class="paramtype">int []&#160;</td>
          <td class="paramname"><em>Ncolors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine allocation of desired colors to components, and fill in Ncolors[] array to indicate choice. Return value is total number of colors (product of Ncolors[] values). </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00789">789</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            var nc = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>; <span class="comment">/* number of color components */</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            var max_colors = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a11899ee6391be27efafaac2dfbc71817">desiredNumberOfColors</a>;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="comment">/* We can allocate at least the nc&#39;th root of max_colors per component. */</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <span class="comment">/* Compute floor(nc&#39;th root of max_colors). */</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            var iroot = 1;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordtype">long</span> temp;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <span class="keywordflow">do</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                iroot++;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                temp = iroot;       <span class="comment">/* set temp = iroot ** nc */</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                <span class="keywordflow">for</span> (var i = 1; i &lt; nc; i++)</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    temp *= iroot;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            }</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">while</span> (temp &lt;= max_colors); <span class="comment">/* repeat till iroot exceeds root */</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <span class="comment">/* now iroot = floor(root) */</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            iroot--;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="comment">/* Must have at least 2 color values per component */</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="keywordflow">if</span> (iroot &lt; 2)</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_QUANT_FEW_COLORS, (<span class="keywordtype">int</span>)temp);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="comment">/* Initialize to iroot color values for each component */</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            var total_colors = 1;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; nc; i++)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                Ncolors[i] = iroot;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                total_colors *= iroot;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="comment">/* We may be able to increment the count for one or more components without</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">             * exceeding max_colors, though we know not all can be incremented.</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">             * Sometimes, the first component can be incremented more than once!</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">             * (Example: for 16 colors, we start at 2*2*2, go to 3*2*2, then 4*2*2.)</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">             * In RGB colorspace, try to increment G first, then R, then B.</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordtype">bool</span> changed;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <span class="keywordflow">do</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                changed = <span class="keyword">false</span>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                <span class="keywordflow">for</span> (var i = 0; i &lt; nc; i++)</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                {</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    var j = (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a5e20cc3d268651b70ee8a532e8d8de98">outColorSpace</a> == <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_RGB ? <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaf37b7a1c37ad6f8a5ba80216cbae43c">RGB_order</a>[i] : i);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    <span class="comment">/* calculate new total_colors if Ncolors[j] is incremented */</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    temp = total_colors / Ncolors[j];</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    temp *= Ncolors[j] + 1; <span class="comment">/* done in long arith to avoid oflo */</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                    <span class="keywordflow">if</span> (temp &gt; max_colors)</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                        <span class="keywordflow">break</span>;          <span class="comment">/* won&#39;t fit, done with this pass */</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                    }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                    Ncolors[j]++;       <span class="comment">/* OK, apply the increment */</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                    total_colors = (int)temp;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                    changed = <span class="keyword">true</span>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                }</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            }</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="keywordflow">while</span> (changed);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="keywordflow">return</span> total_colors;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_a112a859523bbcd7bb4233f89ee2b4db7"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">BitMiracle.LibJpeg.Classic.JColorSpace</a></div><div class="ttdeci">JColorSpace</div><div class="ttdoc">Known color spaces.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc6/_j_color_space_8cs_source.html#l00007">JColorSpace.cs:7</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a5e20cc3d268651b70ee8a532e8d8de98"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a5e20cc3d268651b70ee8a532e8d8de98">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorSpace</a></div><div class="ttdeci">internal JColorSpace outColorSpace</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00038">JpegDecompressStruct.cs:38</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_aaf37b7a1c37ad6f8a5ba80216cbae43c"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaf37b7a1c37ad6f8a5ba80216cbae43c">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.RGB_order</a></div><div class="ttdeci">static readonly int [] RGB_order</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00098">My1PassCQuantizer.cs:98</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a11899ee6391be27efafaac2dfbc71817"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a11899ee6391be27efafaac2dfbc71817">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.desiredNumberOfColors</a></div><div class="ttdeci">internal int desiredNumberOfColors</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00049">JpegDecompressStruct.cs:49</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00049">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.desiredNumberOfColors</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00038">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorSpace</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00098">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.RGB_order</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap()</a>.</p>

</div>
</div>
<a id="a428cb2ccb178aeaf220b6cb6dde6a7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a428cb2ccb178aeaf220b6cb6dde6a7c1">&#9670;&nbsp;</a></span>StartPass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_pre_scan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize for one-pass color quantization. </p>

<p>Implements <a class="el" href="../../d2/d0d/interface_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_i_jpeg_color_quantizer.html#a699070238fcbcaa7acaec5e43c19b9ed">BitMiracle.LibJpeg.Classic.Internal.IJpegColorQuantizer</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">200</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="comment">/* Install my colormap. */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a78e148e332b3d7f0fb7539cb6bc2c612">m_colormap</a> = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#afcc292261d6d726f2006885cbc78fc10">m_sv_colormap</a>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a35f2df0300490d08bb9f805a7e41f198">actualColorCount</a> = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5b09ba0739c1f68e129513491238a09a">m_sv_actual</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="comment">/* Initialize for desired dithering mode. */</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a14ac14e4ffbef5bdd59c206c05568246">ditherMode</a>)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#afdd494a350f54a251aec2029ffe2af09">JDitherMode</a>.JDITHER_NONE:</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a> == 3)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">m_quantizer</a> = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.color_quantizer3;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">m_quantizer</a> = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.color_quantizer;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#afdd494a350f54a251aec2029ffe2af09">JDitherMode</a>.JDITHER_ORDERED:</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a> == 3)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">m_quantizer</a> = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.quantize3_ord_dither_quantizer;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">m_quantizer</a> = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.quantize_ord_dither_quantizer;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="comment">/* initialize state for ordered dither */</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">m_row_index</a> = 0;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="comment">/* If user changed to ordered dither from another mode,</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">                 * we must recreate the color index table with padding.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">                 * This will cost extra space, but probably isn&#39;t very likely.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a45c0a789732ee69ee99b0bb0e1c8b9d1">m_is_padded</a>)</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a8925cb509f1f298636b10fa5390d83a3">CreateColorIndex</a>();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="comment">/* Create ordered-dither tables if we didn&#39;t already. */</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">m_odither</a>[0] is <span class="keyword">null</span>)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a49741f32eaeaa668a604182a18e9677e">CreateODitherTable</a>();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#afdd494a350f54a251aec2029ffe2af09">JDitherMode</a>.JDITHER_FS:</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">m_quantizer</a> = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a>.quantize_fs_dither_quantizer;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <span class="comment">/* initialize state for F-S dither */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a3f1163eb0981bfdbaa20a6dc3df745d7">m_on_odd_row</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="comment">/* Allocate Floyd-Steinberg workspace if didn&#39;t already. */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">m_fserrors</a>[0] is <span class="keyword">null</span>)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aff3802970d121279398eab570221256f">AllocFsWorkspace</a>();</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="comment">/* Initialize the propagated errors to zero. */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                var arraysize = <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">outputWidth</a> + 2;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordflow">for</span> (var i = 0; i &lt; <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">outColorComponents</a>; i++)</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    Array.Clear(<a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">m_fserrors</a>[i], 0, arraysize);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <a class="code" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">m_cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_NOT_COMPILED);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a78e148e332b3d7f0fb7539cb6bc2c612"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a78e148e332b3d7f0fb7539cb6bc2c612">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.m_colormap</a></div><div class="ttdeci">internal byte [][] m_colormap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00066">JpegDecompressStruct.cs:66</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_ae757612ef39652f5af7dc4baa5e913dc"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#ae757612ef39652f5af7dc4baa5e913dc">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a></div><div class="ttdeci">internal int outputWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">JpegDecompressStruct.cs:54</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_afdd494a350f54a251aec2029ffe2af09"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#afdd494a350f54a251aec2029ffe2af09">BitMiracle.LibJpeg.Classic.JDitherMode</a></div><div class="ttdeci">JDitherMode</div><div class="ttdoc">Dithering options for decompression.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbc/_j_dither_mode_8cs_source.html#l00007">JDitherMode.cs:7</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a86814cccd9d4bb5567896ed65f13e456"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a86814cccd9d4bb5567896ed65f13e456">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a></div><div class="ttdeci">internal int outColorComponents</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">JpegDecompressStruct.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5b09ba0739c1f68e129513491238a09a"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5b09ba0739c1f68e129513491238a09a">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_actual</a></div><div class="ttdeci">int m_sv_actual</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00137">My1PassCQuantizer.cs:137</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a8925cb509f1f298636b10fa5390d83a3"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a8925cb509f1f298636b10fa5390d83a3">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex</a></div><div class="ttdeci">void CreateColorIndex()</div><div class="ttdoc">Create the color index table.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">My1PassCQuantizer.cs:637</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a49741f32eaeaa668a604182a18e9677e"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a49741f32eaeaa668a604182a18e9677e">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateODitherTable</a></div><div class="ttdeci">void CreateODitherTable()</div><div class="ttdoc">Create the ordered-dither tables. Components having the same number of representative colors may shar...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00706">My1PassCQuantizer.cs:706</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5043df2e4346fcf3b117ce0683031a51"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5043df2e4346fcf3b117ce0683031a51">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors</a></div><div class="ttdeci">readonly short [][] m_fserrors</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">My1PassCQuantizer.cs:155</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a45c0a789732ee69ee99b0bb0e1c8b9d1"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a45c0a789732ee69ee99b0bb0e1c8b9d1">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_is_padded</a></div><div class="ttdeci">bool m_is_padded</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00146">My1PassCQuantizer.cs:146</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_afcc292261d6d726f2006885cbc78fc10"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#afcc292261d6d726f2006885cbc78fc10">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_colormap</a></div><div class="ttdeci">byte [][] m_sv_colormap</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00136">My1PassCQuantizer.cs:136</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a10d2b27581b9040411a6ec893f67ed91"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a10d2b27581b9040411a6ec893f67ed91">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_quantizer</a></div><div class="ttdeci">QuantizerType m_quantizer</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00131">My1PassCQuantizer.cs:131</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_aaa0515758e35f21adba8b84f3fd632e4"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizerType</a></div><div class="ttdeci">QuantizerType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00089">My1PassCQuantizer.cs:89</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_aff3802970d121279398eab570221256f"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aff3802970d121279398eab570221256f">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.AllocFsWorkspace</a></div><div class="ttdeci">void AllocFsWorkspace()</div><div class="ttdoc">Allocate workspace for Floyd-Steinberg errors.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00738">My1PassCQuantizer.cs:738</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a35f2df0300490d08bb9f805a7e41f198"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a35f2df0300490d08bb9f805a7e41f198">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.actualColorCount</a></div><div class="ttdeci">internal int actualColorCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00065">JpegDecompressStruct.cs:65</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_ad3aaad83fb38c08ebd09a6ffed29bbda"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#ad3aaad83fb38c08ebd09a6ffed29bbda">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a></div><div class="ttdeci">readonly JpegDecompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">My1PassCQuantizer.cs:133</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a3f1163eb0981bfdbaa20a6dc3df745d7"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a3f1163eb0981bfdbaa20a6dc3df745d7">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_on_odd_row</a></div><div class="ttdeci">bool m_on_odd_row</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00156">My1PassCQuantizer.cs:156</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a1bcab678313c8fd8103ee38243e34249"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a1bcab678313c8fd8103ee38243e34249">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_row_index</a></div><div class="ttdeci">int m_row_index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00151">My1PassCQuantizer.cs:151</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer_html_a5be614e3c7853722483b6a5134968406"><div class="ttname"><a href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a5be614e3c7853722483b6a5134968406">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a></div><div class="ttdeci">readonly int [][][] m_odither</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">My1PassCQuantizer.cs:152</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct_html_a14ac14e4ffbef5bdd59c206c05568246"><div class="ttname"><a href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html#a14ac14e4ffbef5bdd59c206c05568246">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.ditherMode</a></div><div class="ttdeci">internal JDitherMode ditherMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00047">JpegDecompressStruct.cs:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00065">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.actualColorCount</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00738">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.AllocFsWorkspace()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00706">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateODitherTable()</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00047">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.ditherMode</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00066">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.m_colormap</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00146">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_is_padded</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00156">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_on_odd_row</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00131">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_quantizer</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00151">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_row_index</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00137">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_actual</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00136">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_colormap</a>, <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00056">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outColorComponents</a>, and <a class="el" href="../../d7/d87/_jpeg_decompress_struct_8cs_source.html#l00054">BitMiracle.LibJpeg.Classic.JpegDecompressStruct.outputWidth</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a37b51e43e989d5d3f3f4796641cd0227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b51e43e989d5d3f3f4796641cd0227">&#9670;&nbsp;</a></span>base_dither_matrix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly byte [][] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.base_dither_matrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> <span class="keywordtype">byte</span>[][]</div><div class="line">        {</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] {   0, 192, 48, 240, 12, 204, 60, 252,  3, 195, 51, 243, 15, 207, 63, 255 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] { 128, 64, 176, 112, 140, 76, 188, 124, 131, 67, 179, 115, 143, 79, 191, 127 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] {  32, 224, 16, 208, 44, 236, 28, 220, 35, 227, 19, 211, 47, 239, 31, 223 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] { 160, 96, 144, 80, 172, 108, 156, 92, 163, 99, 147, 83, 175, 111, 159, 95 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] {   8, 200, 56, 248,  4, 196, 52, 244, 11, 203, 59, 251,  7, 199, 55, 247 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] { 136, 72, 184, 120, 132, 68, 180, 116, 139, 75, 187, 123, 135, 71, 183, 119 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] {  40, 232, 24, 216, 36, 228, 20, 212, 43, 235, 27, 219, 39, 231, 23, 215 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] { 168, 104, 152, 88, 164, 100, 148, 84, 171, 107, 155, 91, 167, 103, 151, 87 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] {   2, 194, 50, 242, 14, 206, 62, 254,  1, 193, 49, 241, 13, 205, 61, 253 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] { 130, 66, 178, 114, 142, 78, 190, 126, 129, 65, 177, 113, 141, 77, 189, 125 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] {  34, 226, 18, 210, 46, 238, 30, 222, 33, 225, 17, 209, 45, 237, 29, 221 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] { 162, 98, 146, 82, 174, 110, 158, 94, 161, 97, 145, 81, 173, 109, 157, 93 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] {  10, 202, 58, 250,  6, 198, 54, 246,  9, 201, 57, 249,  5, 197, 53, 245 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] { 138, 74, 186, 122, 134, 70, 182, 118, 137, 73, 185, 121, 133, 69, 181, 117 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] {  42, 234, 26, 218, 38, 230, 22, 214, 41, 233, 25, 217, 37, 229, 21, 213 },</div><div class="line">            <span class="keyword">new</span> <span class="keywordtype">byte</span>[] { 170, 106, 154, 90, 166, 102, 150, 86, 169, 105, 153, 89, 165, 101, 149, 85 }</div><div class="line">        }</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00111">111</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00862">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MakeODitherArray()</a>.</p>

</div>
</div>
<a id="ad3aaad83fb38c08ebd09a6ffed29bbda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3aaad83fb38c08ebd09a6ffed29bbda">&#9670;&nbsp;</a></span>m_cinfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../d7/d05/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_decompress_struct.html">JpegDecompressStruct</a> BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_cinfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00133">133</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00738">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.AllocFsWorkspace()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00275">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ColorQuantize()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00706">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateODitherTable()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00162">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.My1PassCQuantizer()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00312">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.NewColorMap()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00321">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00352">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00789">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.SelectNColors()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a84f8085bf41c24ff33504ab72edebb95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f8085bf41c24ff33504ab72edebb95">&#9670;&nbsp;</a></span>m_colorindex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte [][] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00139">139</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00321">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00352">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither()</a>.</p>

</div>
</div>
<a id="a5f7add33edc684272f3d3cabbb589c21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f7add33edc684272f3d3cabbb589c21">&#9670;&nbsp;</a></span>m_colorindexOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int [] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_colorindexOffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00140">140</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00321">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00352">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither()</a>.</p>

</div>
</div>
<a id="a5043df2e4346fcf3b117ce0683031a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5043df2e4346fcf3b117ce0683031a51">&#9670;&nbsp;</a></span>m_fserrors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly short [][] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_fserrors = new short[<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a>][]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00155">155</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00738">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.AllocFsWorkspace()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00162">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.My1PassCQuantizer()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a45c0a789732ee69ee99b0bb0e1c8b9d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c0a789732ee69ee99b0bb0e1c8b9d1">&#9670;&nbsp;</a></span>m_is_padded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_is_padded</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00146">146</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a2b02abe84320dc9db111b8fa7d7ef4eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b02abe84320dc9db111b8fa7d7ef4eb">&#9670;&nbsp;</a></span>m_Ncolors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly int [] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_Ncolors = new int[<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00148">148</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00706">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateODitherTable()</a>.</p>

</div>
</div>
<a id="a5be614e3c7853722483b6a5134968406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be614e3c7853722483b6a5134968406">&#9670;&nbsp;</a></span>m_odither</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly int [][][] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_odither = new int[<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a2af5bd47a4e51dc5e9e7566e9857a41c">MAX_Q_COMPS</a>][][]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00152">152</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00706">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateODitherTable()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00162">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.My1PassCQuantizer()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a3f1163eb0981bfdbaa20a6dc3df745d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f1163eb0981bfdbaa20a6dc3df745d7">&#9670;&nbsp;</a></span>m_on_odd_row</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_on_odd_row</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00156">156</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a10d2b27581b9040411a6ec893f67ed91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10d2b27581b9040411a6ec893f67ed91">&#9670;&nbsp;</a></span>m_quantizer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#aaa0515758e35f21adba8b84f3fd632e4">QuantizerType</a> BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_quantizer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00131">131</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00275">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ColorQuantize()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a1bcab678313c8fd8103ee38243e34249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bcab678313c8fd8103ee38243e34249">&#9670;&nbsp;</a></span>m_row_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_row_index</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00151">151</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a5b09ba0739c1f68e129513491238a09a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b09ba0739c1f68e129513491238a09a">&#9670;&nbsp;</a></span>m_sv_actual</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_actual</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00137">137</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00637">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColorIndex()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="afcc292261d6d726f2006885cbc78fc10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcc292261d6d726f2006885cbc78fc10">&#9670;&nbsp;</a></span>m_sv_colormap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte [][] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.m_sv_colormap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00136">136</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00579">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.CreateColormap()</a>, <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00469">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeFsDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00200">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.StartPass()</a>.</p>

</div>
</div>
<a id="a2af5bd47a4e51dc5e9e7566e9857a41c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af5bd47a4e51dc5e9e7566e9857a41c">&#9670;&nbsp;</a></span>MAX_Q_COMPS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MAX_Q_COMPS = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00099">99</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00162">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.My1PassCQuantizer()</a>.</p>

</div>
</div>
<a id="a03da648bd0a2bda2ee89a75b2efd3204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03da648bd0a2bda2ee89a75b2efd3204">&#9670;&nbsp;</a></span>ODITHER_CELLS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_CELLS = (<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a> * <a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00104">104</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00862">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MakeODitherArray()</a>.</p>

</div>
</div>
<a id="a1ef40feae72b81df6c80da0f239c1380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef40feae72b81df6c80da0f239c1380">&#9670;&nbsp;</a></span>ODITHER_MASK</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_MASK = (<a class="el" href="../../d2/d68/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_my1_pass_c_quantizer.html#a875a6bc018c0dcbc0cb04a4d57a60090">ODITHER_SIZE</a> - 1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00105">105</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00429">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.Quantize3OrdDither()</a>, and <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00385">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.QuantizeOrdDither()</a>.</p>

</div>
</div>
<a id="a875a6bc018c0dcbc0cb04a4d57a60090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875a6bc018c0dcbc0cb04a4d57a60090">&#9670;&nbsp;</a></span>ODITHER_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.ODITHER_SIZE = 16</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00101">101</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00862">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.MakeODitherArray()</a>.</p>

</div>
</div>
<a id="aaf37b7a1c37ad6f8a5ba80216cbae43c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf37b7a1c37ad6f8a5ba80216cbae43c">&#9670;&nbsp;</a></span>RGB_order</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly int [] BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.RGB_order = { <a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a27f29c0fbae8febffd477d32cab626f9">JpegConstants.RGB_GREEN</a>, <a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a9375376c7231ea1847432f4234ba3885">JpegConstants.RGB_RED</a>, <a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a18f005e9ebf0b024a9c475e40f75f4cc">JpegConstants.RGB_BLUE</a> }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00098">98</a> of file <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html#l00789">BitMiracle.LibJpeg.Classic.Internal.My1PassCQuantizer.SelectNColors()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/smcbeth.DLS-INC/Projects/Yarrow/Juniper/src/Juniper.Client/ThirdParty/LibJpeg.NET/Classic/Internal/<a class="el" href="../../df/d7b/_my1_pass_c_quantizer_8cs_source.html">My1PassCQuantizer.cs</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
