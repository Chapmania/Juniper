<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" type="image/png" href="favicon.png">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="theme-color" content="black">
<meta name="description" content="Juniper: Cross-platform VR and AR Framework">
<meta name="keywords" content=".NET, C#, units of measure, conversion, open source software, MIT License">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@Sean_McBeth">
<meta property="og:site_name" content="Juniper">
<meta property="og:description" content="Juniper: Cross-platform VR and AR Framework">
<meta name="twitter:description" content="Juniper: Cross-platform VR and AR Framework">
<meta property="og:url" content="https://capnmidnight.github.io/Juniper">
<meta name="twitter:image" content="http://capnmidnight.github.io/Juniper/$logo">
<meta property="og:image" content="http://capnmidnight.github.io/Juniper/$logo">
<meta property="og:title" content="Juniper: BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder Class Reference">
<meta name="twitter:title" content="Juniper: BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder Class Reference">
<title>Juniper: BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <a href="https://github.com/capnmidnight/Juniper" style="position:absolute;right:0;top:0"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149" alt="Fork me on GitHub" data-recalc-dims="1"></a>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <a id="projectlogo" href="https://www.github.com/capnmidnight/Juniper" target="_blank" rel="noopener" title="Project repository"><img alt="Logo" src="../../logo.png"/></a>
  <div id="projectalign">
  	<a id="projectname" href="https://www.github.com/capnmidnight/Juniper" target="_blank" rel="noopener" title="Project repository">Juniper</a>
   	<div id="projectbrief">Cross-platform VR and AR Framework</div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/db9/namespace_bit_miracle.html">BitMiracle</a></li><li class="navelem"><a class="el" href="../../db/dd2/namespace_bit_miracle_1_1_lib_jpeg.html">LibJpeg</a></li><li class="navelem"><a class="el" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html">Classic</a></li><li class="navelem"><a class="el" href="../../d7/dcd/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal.html">Internal</a></li><li class="navelem"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html">HuffmanEntropyEncoder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d6/d11/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Expanded entropy encoder object for Huffman encoding.  
 <a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d7/d9e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/db7/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad3c2813ef9289083d5a80135120c73bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ad3c2813ef9289083d5a80135120c73bd">HuffmanEntropyEncoder</a> (<a class="el" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html">JpegCompressStruct</a> <a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>)</td></tr>
<tr class="separator:ad3c2813ef9289083d5a80135120c73bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a505043fe0292a63a7dc0e3f2477d84b4"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a505043fe0292a63a7dc0e3f2477d84b4">StartPass</a> (bool gather_statistics)</td></tr>
<tr class="memdesc:a505043fe0292a63a7dc0e3f2477d84b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize for a Huffman-compressed scan. If gather_statistics is true, we do not output anything during the scan, just count the Huffman symbols used and generate Huffman code tables.  <a href="#a505043fe0292a63a7dc0e3f2477d84b4">More...</a><br /></td></tr>
<tr class="separator:a505043fe0292a63a7dc0e3f2477d84b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe2d0c4dac17b0d1a75218699e4519dc"><td class="memItemLeft" align="right" valign="top">delegate bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#abe2d0c4dac17b0d1a75218699e4519dc">EncodeMcuDelegate</a> (<a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>[][] MCU_data)</td></tr>
<tr class="separator:abe2d0c4dac17b0d1a75218699e4519dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac444c88122d45d7b7fdf994ecca7a9ac"><td class="memItemLeft" align="right" valign="top">delegate void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#ac444c88122d45d7b7fdf994ecca7a9ac">FinishPassDelegate</a> ()</td></tr>
<tr class="separator:ac444c88122d45d7b7fdf994ecca7a9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0c86e5a81c0792284f4a508179958546"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0c86e5a81c0792284f4a508179958546">JpegGenOptimalTable</a> (<a class="el" href="../../d3/d74/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_huffman_table.html">JHuffmanTable</a> htbl, long[] freq)</td></tr>
<tr class="separator:a0c86e5a81c0792284f4a508179958546"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a4c5615db308b78ab49c0667551117c04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#abe2d0c4dac17b0d1a75218699e4519dc">EncodeMcuDelegate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a4c5615db308b78ab49c0667551117c04">encodeMcu</a><code> [get, set]</code></td></tr>
<tr class="separator:a4c5615db308b78ab49c0667551117c04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126b4cc69cce5499f0fd2d3fdd5cc066"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#ac444c88122d45d7b7fdf994ecca7a9ac">FinishPassDelegate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a126b4cc69cce5499f0fd2d3fdd5cc066">finishPass</a><code> [get, set]</code></td></tr>
<tr class="separator:a126b4cc69cce5499f0fd2d3fdd5cc066"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab82253e8a9fd95496853044707c0d3e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab82253e8a9fd95496853044707c0d3e9">EncodeMcuHuffman</a> (<a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>[][] MCU_data)</td></tr>
<tr class="memdesc:ab82253e8a9fd95496853044707c0d3e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode and output one MCU's worth of Huffman-compressed coefficients.  <a href="#ab82253e8a9fd95496853044707c0d3e9">More...</a><br /></td></tr>
<tr class="separator:ab82253e8a9fd95496853044707c0d3e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31009f7d4f7e2d3bdcec2c96330631b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ae31009f7d4f7e2d3bdcec2c96330631b">FinishPassHuffman</a> ()</td></tr>
<tr class="memdesc:ae31009f7d4f7e2d3bdcec2c96330631b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish up at the end of a Huffman-compressed scan.  <a href="#ae31009f7d4f7e2d3bdcec2c96330631b">More...</a><br /></td></tr>
<tr class="separator:ae31009f7d4f7e2d3bdcec2c96330631b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5b1d6eab73b4fffa07c93bfbbfe372"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3b5b1d6eab73b4fffa07c93bfbbfe372">EncodeMcuGather</a> (<a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>[][] MCU_data)</td></tr>
<tr class="memdesc:a3b5b1d6eab73b4fffa07c93bfbbfe372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trial-encode one MCU's worth of Huffman-compressed coefficients. No data is actually output, so no suspension return is possible.  <a href="#a3b5b1d6eab73b4fffa07c93bfbbfe372">More...</a><br /></td></tr>
<tr class="separator:a3b5b1d6eab73b4fffa07c93bfbbfe372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fad155053de5cda0a27c08e92a2743a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8fad155053de5cda0a27c08e92a2743a">FinishPassGather</a> ()</td></tr>
<tr class="memdesc:a8fad155053de5cda0a27c08e92a2743a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish up a statistics-gathering pass and create the new Huffman tables.  <a href="#a8fad155053de5cda0a27c08e92a2743a">More...</a><br /></td></tr>
<tr class="separator:a8fad155053de5cda0a27c08e92a2743a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf2cd3bc8b055c51b47d07d1f325f0a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0bf2cd3bc8b055c51b47d07d1f325f0a">EncodeOneBlock</a> (<a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a> state, short[] block, int last_dc_val, <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a> dctbl, <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a> actbl)</td></tr>
<tr class="memdesc:a0bf2cd3bc8b055c51b47d07d1f325f0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode a single block's worth of coefficients  <a href="#a0bf2cd3bc8b055c51b47d07d1f325f0a">More...</a><br /></td></tr>
<tr class="separator:a0bf2cd3bc8b055c51b47d07d1f325f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae02369014b4b62d465a043eb83ba33e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ae02369014b4b62d465a043eb83ba33e1">HTestOneBlock</a> (short[] block, int last_dc_val, long[] dc_counts, long[] ac_counts)</td></tr>
<tr class="separator:ae02369014b4b62d465a043eb83ba33e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd58481ed09245910e3bf9a9abf113b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afd58481ed09245910e3bf9a9abf113b7">EmitByteS</a> (int val)</td></tr>
<tr class="separator:afd58481ed09245910e3bf9a9abf113b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4728e9e1045adff5dae5d91cdfc4c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6c4728e9e1045adff5dae5d91cdfc4c6">EmitByteE</a> (int val)</td></tr>
<tr class="separator:a6c4728e9e1045adff5dae5d91cdfc4c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab104776d02eee6b3362f16499e3f4db3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">EmitBitsS</a> (<a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a> state, int code, int size)</td></tr>
<tr class="memdesc:ab104776d02eee6b3362f16499e3f4db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only the right 24 bits of put_buffer are used; the valid bits are left-justified in this part. At most 16 bits can be passed to emit_bits in one call, and we never retain more than 7 bits in put_buffer between calls, so 24 bits are sufficient.  <a href="#ab104776d02eee6b3362f16499e3f4db3">More...</a><br /></td></tr>
<tr class="separator:ab104776d02eee6b3362f16499e3f4db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97aa4aaca201c4f09d4584fabd903f64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a> (int code, int size)</td></tr>
<tr class="separator:a97aa4aaca201c4f09d4584fabd903f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab2afca2f6df5aa381174025153973a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9ab2afca2f6df5aa381174025153973a">FlushBitsS</a> (<a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a> state)</td></tr>
<tr class="separator:a9ab2afca2f6df5aa381174025153973a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1358920866735e48fef5678a79578f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9d1358920866735e48fef5678a79578f">FlushBitsE</a> ()</td></tr>
<tr class="separator:a9d1358920866735e48fef5678a79578f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980d88ea052d4df0d29103318bd91002"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a980d88ea052d4df0d29103318bd91002">EmitDCSymbol</a> (int tbl_no, int symbol)</td></tr>
<tr class="separator:a980d88ea052d4df0d29103318bd91002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b4c2bba86b866341f4dd2786b845ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">EmitACSymbol</a> (int tbl_no, int symbol)</td></tr>
<tr class="separator:a37b4c2bba86b866341f4dd2786b845ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a48eadb8385705f7bad9c0eb28cb60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a82a48eadb8385705f7bad9c0eb28cb60">EmitBufferedBits</a> (uint offset, uint nbits)</td></tr>
<tr class="separator:a82a48eadb8385705f7bad9c0eb28cb60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73abef6e3c14ed43458daf6d118fbf39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a> ()</td></tr>
<tr class="separator:a73abef6e3c14ed43458daf6d118fbf39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bdb20b020c34693241fd7ccbf3eac21"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6bdb20b020c34693241fd7ccbf3eac21">EmitRestartS</a> (<a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a> state, int restart_num)</td></tr>
<tr class="memdesc:a6bdb20b020c34693241fd7ccbf3eac21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emit a restart marker and resynchronize predictions.  <a href="#a6bdb20b020c34693241fd7ccbf3eac21">More...</a><br /></td></tr>
<tr class="separator:a6bdb20b020c34693241fd7ccbf3eac21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fbcd47667f0b85e935aa46d9af37dee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">EmitRestartE</a> (int restart_num)</td></tr>
<tr class="separator:a5fbcd47667f0b85e935aa46d9af37dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0072cce2e49fe730a9fff98a607ceaa2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0072cce2e49fe730a9fff98a607ceaa2">EncodeMcuDCFirst</a> (<a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>[][] MCU_data)</td></tr>
<tr class="memdesc:a0072cce2e49fe730a9fff98a607ceaa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">MCU encoding for DC initial scan (either spectral selection, or first pass of successive approximation).  <a href="#a0072cce2e49fe730a9fff98a607ceaa2">More...</a><br /></td></tr>
<tr class="separator:a0072cce2e49fe730a9fff98a607ceaa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9e0d0f1295668c0e0541e53eef77fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a7a9e0d0f1295668c0e0541e53eef77fd">EncodeMcuACFirst</a> (<a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>[][] MCU_data)</td></tr>
<tr class="memdesc:a7a9e0d0f1295668c0e0541e53eef77fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">MCU encoding for AC initial scan (either spectral selection, or first pass of successive approximation).  <a href="#a7a9e0d0f1295668c0e0541e53eef77fd">More...</a><br /></td></tr>
<tr class="separator:a7a9e0d0f1295668c0e0541e53eef77fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfaa06772059366ed322e6f67a2a3373"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#acfaa06772059366ed322e6f67a2a3373">EncodeMcuDCRefine</a> (<a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>[][] MCU_data)</td></tr>
<tr class="memdesc:acfaa06772059366ed322e6f67a2a3373"><td class="mdescLeft">&#160;</td><td class="mdescRight">MCU encoding for DC successive approximation refinement scan. Note: we assume such scans can be multi-component, although the spec is not very clear on the point.  <a href="#acfaa06772059366ed322e6f67a2a3373">More...</a><br /></td></tr>
<tr class="separator:acfaa06772059366ed322e6f67a2a3373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54e31f8c4fd74a3bac607328d94b44b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a54e31f8c4fd74a3bac607328d94b44b4">EncodeMcuACRefine</a> (<a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>[][] MCU_data)</td></tr>
<tr class="memdesc:a54e31f8c4fd74a3bac607328d94b44b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">MCU encoding for AC successive approximation refinement scan.  <a href="#a54e31f8c4fd74a3bac607328d94b44b4">More...</a><br /></td></tr>
<tr class="separator:a54e31f8c4fd74a3bac607328d94b44b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9283007615c6922f1e6775887a291a14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9283007615c6922f1e6775887a291a14">JpegMakeCDerivedTable</a> (bool isDC, int tblno, ref <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a> dtbl)</td></tr>
<tr class="memdesc:a9283007615c6922f1e6775887a291a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expand a Huffman table definition into the derived format Compute the derived values for a Huffman table. This routine also performs some validation checks on the table.  <a href="#a9283007615c6922f1e6775887a291a14">More...</a><br /></td></tr>
<tr class="separator:a9283007615c6922f1e6775887a291a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a644cc989fe35c9ade09f7468cc84e460"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a644cc989fe35c9ade09f7468cc84e460">IRightShift</a> (int x, int shft)</td></tr>
<tr class="memdesc:a644cc989fe35c9ade09f7468cc84e460"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRIGHT_SHIFT is like RIGHT_SHIFT, but works on int rather than int. We assume that int right shift is unsigned if int right shift is, which should be safe.  <a href="#a644cc989fe35c9ade09f7468cc84e460">More...</a><br /></td></tr>
<tr class="separator:a644cc989fe35c9ade09f7468cc84e460"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:adb25956e854fc7f9a1f0aff03df2ade5"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">MAX_COEF_BITS</a> = 10</td></tr>
<tr class="separator:adb25956e854fc7f9a1f0aff03df2ade5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac6f041219796e58e2e9e7dc245b647"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#acac6f041219796e58e2e9e7dc245b647">MAX_CORR_BITS</a> = 1000</td></tr>
<tr class="separator:acac6f041219796e58e2e9e7dc245b647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13682838c868e486462be13d83156432"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a> = new <a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a>()</td></tr>
<tr class="separator:a13682838c868e486462be13d83156432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8190c0fa8f3fd947ce60810ba60bb498"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a></td></tr>
<tr class="separator:a8190c0fa8f3fd947ce60810ba60bb498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af1c579eb44232c4a880070580a94b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a></td></tr>
<tr class="separator:a3af1c579eb44232c4a880070580a94b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e28b782f211f2fd6dcc12e79930dd0"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a> []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">dcDerivedTables</a> = new <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a>[<a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a87cc1e72512884e58a3d12fb78f96384">JpegConstants.NUM_HUFF_TBLS</a>]</td></tr>
<tr class="separator:a10e28b782f211f2fd6dcc12e79930dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ef5f748b79f28787639cf4d51fff50"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a> []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">acDerivedTables</a> = new <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a>[<a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a87cc1e72512884e58a3d12fb78f96384">JpegConstants.NUM_HUFF_TBLS</a>]</td></tr>
<tr class="separator:a07ef5f748b79f28787639cf4d51fff50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18db5e4f97ed0b553c206a58b04c5a24"><td class="memItemLeft" align="right" valign="top">readonly long [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a> = new long[<a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a87cc1e72512884e58a3d12fb78f96384">JpegConstants.NUM_HUFF_TBLS</a>][]</td></tr>
<tr class="separator:a18db5e4f97ed0b553c206a58b04c5a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe65f91b7cdc3615ad5e4ac90c394ca"><td class="memItemLeft" align="right" valign="top">readonly long [][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a> = new long[<a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a87cc1e72512884e58a3d12fb78f96384">JpegConstants.NUM_HUFF_TBLS</a>][]</td></tr>
<tr class="separator:afbe65f91b7cdc3615ad5e4ac90c394ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90cb922c30400fae723440516902d192"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">gatherStatistics</a></td></tr>
<tr class="separator:a90cb922c30400fae723440516902d192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298715fd2b7d7620746c32bb524ceb5a"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html">JpegCompressStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a></td></tr>
<tr class="separator:a298715fd2b7d7620746c32bb524ceb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21796c91ad4a1d6ad36d7ed44e31fd5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">acTblNo</a></td></tr>
<tr class="separator:a21796c91ad4a1d6ad36d7ed44e31fd5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade50f413097515867769e960404659e9"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a></td></tr>
<tr class="separator:ade50f413097515867769e960404659e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc305098f0c4abca4478f06c06e53610"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BE</a></td></tr>
<tr class="separator:abc305098f0c4abca4478f06c06e53610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25444c66b19ff41d79a400d50869e250"><td class="memItemLeft" align="right" valign="top">char []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">bitBuffer</a></td></tr>
<tr class="separator:a25444c66b19ff41d79a400d50869e250"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Expanded entropy encoder object for Huffman encoding. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00022">22</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad3c2813ef9289083d5a80135120c73bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3c2813ef9289083d5a80135120c73bd">&#9670;&nbsp;</a></span>HuffmanEntropyEncoder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HuffmanEntropyEncoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html">JpegCompressStruct</a>&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00095">95</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            this.<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="comment">/* Mark tables unallocated */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; JpegConstants.NUM_HUFF_TBLS; i++)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">dcDerivedTables</a>[i] = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">acDerivedTables</a>[i] = <span class="keyword">null</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a>[i] = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a>[i] = <span class="keyword">null</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> (this.<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ab706d6aeb653b78d304af30808ecfcaa">m_progressive_mode</a>)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="comment">/* needed only in AC refinement scan */</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">bitBuffer</a> = <span class="keyword">null</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_afbe65f91b7cdc3615ad5e4ac90c394ca"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a></div><div class="ttdeci">readonly long [][] acCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">HuffmanEntropyEncoder.cs:79</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a18db5e4f97ed0b553c206a58b04c5a24"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a></div><div class="ttdeci">readonly long [][] dcCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">HuffmanEntropyEncoder.cs:78</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a10e28b782f211f2fd6dcc12e79930dd0"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables</a></div><div class="ttdeci">readonly CDerivedTable [] dcDerivedTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">HuffmanEntropyEncoder.cs:74</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a25444c66b19ff41d79a400d50869e250"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</a></div><div class="ttdeci">char [] bitBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">HuffmanEntropyEncoder.cs:92</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ab706d6aeb653b78d304af30808ecfcaa"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ab706d6aeb653b78d304af30808ecfcaa">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_progressive_mode</a></div><div class="ttdeci">internal bool m_progressive_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00207">JpegCompressStruct.cs:207</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a07ef5f748b79f28787639cf4d51fff50"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables</a></div><div class="ttdeci">readonly CDerivedTable [] acDerivedTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">HuffmanEntropyEncoder.cs:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00207">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_progressive_mode</a>, and <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00031">BitMiracle.LibJpeg.Classic.JpegConstants.NUM_HUFF_TBLS</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a37b4c2bba86b866341f4dd2786b845ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b4c2bba86b866341f4dd2786b845ef">&#9670;&nbsp;</a></span>EmitACSymbol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tbl_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>symbol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">803</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">gatherStatistics</a>)</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a>[tbl_no][symbol]++;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                var tbl = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">acDerivedTables</a>[tbl_no];</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>(tbl.ehufco[symbol], tbl.ehufsi[symbol]);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_afbe65f91b7cdc3615ad5e4ac90c394ca"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a></div><div class="ttdeci">readonly long [][] acCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">HuffmanEntropyEncoder.cs:79</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a90cb922c30400fae723440516902d192"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a></div><div class="ttdeci">bool gatherStatistics</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">HuffmanEntropyEncoder.cs:84</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a07ef5f748b79f28787639cf4d51fff50"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables</a></div><div class="ttdeci">readonly CDerivedTable [] acDerivedTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">HuffmanEntropyEncoder.cs:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>.</p>

</div>
</div>
<a id="a97aa4aaca201c4f09d4584fabd903f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97aa4aaca201c4f09d4584fabd903f64">&#9670;&nbsp;</a></span>EmitBitsE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Outputting bits to the file</p>
<p>Only the right 24 bits of put_buffer are used; the valid bits are left-justified in this part. At most 16 bits can be passed to emit_bits in one call, and we never retain more than 7 bits in put_buffer between calls, so 24 bits are sufficient. </p>
<p>Emit some bits, unless we are in gather mode </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">727</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="comment">/* This routine is heavily used, so it&#39;s worth coding tightly. */</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <span class="comment">/* if size is 0, caller used an invalid Huffman table entry */</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">if</span> (size == 0)</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_HUFF_MISSING_CODE);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">gatherStatistics</a>)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                <span class="comment">/* do nothing if we&#39;re only getting stats */</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            var local_put_buffer = code &amp; ((1 &lt;&lt; size) - 1); <span class="comment">/* mask off any extra bits in code */</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            var put_bits = size + <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#adc11bde960879ba373933766088f8723">put_bits</a>;       <span class="comment">/* new number of bits in buffer */</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            local_put_buffer &lt;&lt;= 24 - put_bits; <span class="comment">/* align incoming bits */</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            local_put_buffer |= <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aa4e02e0566d99bbde9be5842aadd252a">put_buffer</a>; <span class="comment">/* and merge with old buffer contents */</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keywordflow">while</span> (put_bits &gt;= 8)</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                var c = (local_put_buffer &gt;&gt; 16) &amp; 0xFF;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6c4728e9e1045adff5dae5d91cdfc4c6">EmitByteE</a>(c);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                <span class="keywordflow">if</span> (c == 0xFF)</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    <span class="comment">/* need to stuff a zero byte? */</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6c4728e9e1045adff5dae5d91cdfc4c6">EmitByteE</a>(0);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                local_put_buffer &lt;&lt;= 8;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                put_bits -= 8;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aa4e02e0566d99bbde9be5842aadd252a">put_buffer</a> = local_put_buffer; <span class="comment">/* update variables */</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#adc11bde960879ba373933766088f8723">put_bits</a> = put_bits;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a90cb922c30400fae723440516902d192"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a></div><div class="ttdeci">bool gatherStatistics</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">HuffmanEntropyEncoder.cs:84</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_adc11bde960879ba373933766088f8723"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#adc11bde960879ba373933766088f8723">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_bits</a></div><div class="ttdeci">int put_bits</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00052">HuffmanEntropyEncoder.cs:52</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_aa4e02e0566d99bbde9be5842aadd252a"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aa4e02e0566d99bbde9be5842aadd252a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_buffer</a></div><div class="ttdeci">int put_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00051">HuffmanEntropyEncoder.cs:51</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a6c4728e9e1045adff5dae5d91cdfc4c6"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6c4728e9e1045adff5dae5d91cdfc4c6">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteE</a></div><div class="ttdeci">void EmitByteE(int val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00657">HuffmanEntropyEncoder.cs:657</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a13682838c868e486462be13d83156432"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a></div><div class="ttdeci">readonly SavableState saved</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">HuffmanEntropyEncoder.cs:67</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00657">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteE()</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00052">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_bits</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00051">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_buffer</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00817">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBufferedBits()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00790">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitDCSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01145">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCRefine()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00782">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsE()</a>.</p>

</div>
</div>
<a id="ab104776d02eee6b3362f16499e3f4db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab104776d02eee6b3362f16499e3f4db3">&#9670;&nbsp;</a></span>EmitBitsS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only the right 24 bits of put_buffer are used; the valid bits are left-justified in this part. At most 16 bits can be passed to emit_bits in one call, and we never retain more than 7 bits in put_buffer between calls, so 24 bits are sufficient. </p>
<p>Emit some bits; return true if successful, false if must suspend </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00669">669</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <span class="comment">/* This routine is heavily used, so it&#39;s worth coding tightly. */</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="comment">/* if size is 0, caller used an invalid Huffman table entry */</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">if</span> (size == 0)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_HUFF_MISSING_CODE);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="comment">/* mask off any extra bits in code */</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            var put_buffer = code &amp; ((1 &lt;&lt; size) - 1);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="comment">/* new number of bits in buffer */</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            var put_bits = size + <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.put_bits;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            put_buffer &lt;&lt;= 24 - put_bits; <span class="comment">/* align incoming bits */</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="comment">/* and merge with old buffer contents */</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            put_buffer |= <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.put_buffer;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="keywordflow">while</span> (put_bits &gt;= 8)</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                var c = (put_buffer &gt;&gt; 16) &amp; 0xFF;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afd58481ed09245910e3bf9a9abf113b7">EmitByteS</a>(c))</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">if</span> (c == 0xFF)</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                    <span class="comment">/* need to stuff a zero byte? */</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afd58481ed09245910e3bf9a9abf113b7">EmitByteS</a>(0))</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                put_buffer &lt;&lt;= 8;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                put_bits -= 8;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.put_buffer = put_buffer; <span class="comment">/* update state variables */</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.put_bits = put_bits;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_afd58481ed09245910e3bf9a9abf113b7"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afd58481ed09245910e3bf9a9abf113b7">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteS</a></div><div class="ttdeci">bool EmitByteS(int val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00652">HuffmanEntropyEncoder.cs:652</a></div></div>
<div class="ttc" id="namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding_html_af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e"><div class="ttname"><a href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">Juniper.World.GIS.Google.Geocoding.AddressComponentTypes.state</a></div><div class="ttdoc">An alias for administrative_area_level_1.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00652">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteS()</a>, and <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00434">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeOneBlock()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00770">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsS()</a>.</p>

</div>
</div>
<a id="a82a48eadb8385705f7bad9c0eb28cb60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a48eadb8385705f7bad9c0eb28cb60">&#9670;&nbsp;</a></span>EmitBufferedBits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBufferedBits </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>nbits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00817">817</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">gatherStatistics</a>)</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                <span class="comment">/* no real work */</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt; nbits; i++)</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">bitBuffer</a>[offset + i], 1);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a90cb922c30400fae723440516902d192"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a></div><div class="ttdeci">bool gatherStatistics</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">HuffmanEntropyEncoder.cs:84</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a25444c66b19ff41d79a400d50869e250"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</a></div><div class="ttdeci">char [] bitBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">HuffmanEntropyEncoder.cs:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>.</p>

</div>
</div>
<a id="a6c4728e9e1045adff5dae5d91cdfc4c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4728e9e1045adff5dae5d91cdfc4c6">&#9670;&nbsp;</a></span>EmitByteE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteE </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00657">657</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            _ = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ae3d7c3be202b803242594b1bf363125e">m_dest</a>.<a class="code" href="../../d6/d5e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_destination_manager.html#a710ca04676618cdf80d2c4f4c0598637">EmitByte</a>(val);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ae3d7c3be202b803242594b1bf363125e"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ae3d7c3be202b803242594b1bf363125e">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_dest</a></div><div class="ttdeci">internal JpegDestinationManager m_dest</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00111">JpegCompressStruct.cs:111</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_destination_manager_html_a710ca04676618cdf80d2c4f4c0598637"><div class="ttname"><a href="../../d6/d5e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_destination_manager.html#a710ca04676618cdf80d2c4f4c0598637">BitMiracle.LibJpeg.Classic.JpegDestinationManager.EmitByte</a></div><div class="ttdeci">virtual bool EmitByte(int val)</div><div class="ttdoc">Emits a byte.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/_jpeg_destination_manager_8cs_source.html#l00032">JpegDestinationManager.cs:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../df/d26/_jpeg_destination_manager_8cs_source.html#l00032">BitMiracle.LibJpeg.Classic.JpegDestinationManager.EmitByte()</a>, and <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00111">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_dest</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>.</p>

</div>
</div>
<a id="afd58481ed09245910e3bf9a9abf113b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd58481ed09245910e3bf9a9abf113b7">&#9670;&nbsp;</a></span>EmitByteS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteS </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00652">652</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ae3d7c3be202b803242594b1bf363125e">m_dest</a>.<a class="code" href="../../d6/d5e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_destination_manager.html#a710ca04676618cdf80d2c4f4c0598637">EmitByte</a>(val);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ae3d7c3be202b803242594b1bf363125e"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ae3d7c3be202b803242594b1bf363125e">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_dest</a></div><div class="ttdeci">internal JpegDestinationManager m_dest</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00111">JpegCompressStruct.cs:111</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_destination_manager_html_a710ca04676618cdf80d2c4f4c0598637"><div class="ttname"><a href="../../d6/d5e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_destination_manager.html#a710ca04676618cdf80d2c4f4c0598637">BitMiracle.LibJpeg.Classic.JpegDestinationManager.EmitByte</a></div><div class="ttdeci">virtual bool EmitByte(int val)</div><div class="ttdoc">Emits a byte.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/_jpeg_destination_manager_8cs_source.html#l00032">JpegDestinationManager.cs:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../df/d26/_jpeg_destination_manager_8cs_source.html#l00032">BitMiracle.LibJpeg.Classic.JpegDestinationManager.EmitByte()</a>, and <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00111">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_dest</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00669">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsS()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00867">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartS()</a>.</p>

</div>
</div>
<a id="a980d88ea052d4df0d29103318bd91002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980d88ea052d4df0d29103318bd91002">&#9670;&nbsp;</a></span>EmitDCSymbol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitDCSymbol </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tbl_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>symbol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00790">790</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">gatherStatistics</a>)</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a>[tbl_no][symbol]++;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                var tbl = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">dcDerivedTables</a>[tbl_no];</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>(tbl.ehufco[symbol], tbl.ehufsi[symbol]);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            }</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a90cb922c30400fae723440516902d192"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a></div><div class="ttdeci">bool gatherStatistics</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">HuffmanEntropyEncoder.cs:84</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a18db5e4f97ed0b553c206a58b04c5a24"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a></div><div class="ttdeci">readonly long [][] dcCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">HuffmanEntropyEncoder.cs:78</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a10e28b782f211f2fd6dcc12e79930dd0"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables</a></div><div class="ttdeci">readonly CDerivedTable [] dcDerivedTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">HuffmanEntropyEncoder.cs:74</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>.</p>

</div>
</div>
<a id="a73abef6e3c14ed43458daf6d118fbf39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73abef6e3c14ed43458daf6d118fbf39">&#9670;&nbsp;</a></span>EmitEOBRun()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">832</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a> &gt; 0)</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                <span class="comment">/* if there is any pending EOBRUN */</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                var temp = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                var nbits = 0;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                <span class="keywordflow">while</span> ((temp &gt;&gt;= 1) != 0)</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    nbits++;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                <span class="comment">/* safety check: shouldn&#39;t happen given limited correction-bit buffer */</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                <span class="keywordflow">if</span> (nbits &gt; 14)</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_HUFF_MISSING_CODE);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">EmitACSymbol</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">acTblNo</a>, nbits &lt;&lt; 4);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <span class="keywordflow">if</span> (nbits != 0)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>((<span class="keywordtype">int</span>)<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a>, nbits);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a> = 0;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <span class="comment">/* Emit any buffered correction bits */</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a82a48eadb8385705f7bad9c0eb28cb60">EmitBufferedBits</a>(0, <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BE</a>);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BE</a> = 0;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ade50f413097515867769e960404659e9"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a></div><div class="ttdeci">uint EOBRUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">HuffmanEntropyEncoder.cs:90</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a37b4c2bba86b866341f4dd2786b845ef"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol</a></div><div class="ttdeci">void EmitACSymbol(int tbl_no, int symbol)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">HuffmanEntropyEncoder.cs:803</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a21796c91ad4a1d6ad36d7ed44e31fd5e"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</a></div><div class="ttdeci">int acTblNo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">HuffmanEntropyEncoder.cs:89</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a82a48eadb8385705f7bad9c0eb28cb60"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a82a48eadb8385705f7bad9c0eb28cb60">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBufferedBits</a></div><div class="ttdeci">void EmitBufferedBits(uint offset, uint nbits)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00817">HuffmanEntropyEncoder.cs:817</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_abc305098f0c4abca4478f06c06e53610"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</a></div><div class="ttdeci">uint BE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">HuffmanEntropyEncoder.cs:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00817">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBufferedBits()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a>, and <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00380">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassGather()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00315">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassHuffman()</a>.</p>

</div>
</div>
<a id="a5fbcd47667f0b85e935aa46d9af37dee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fbcd47667f0b85e935aa46d9af37dee">&#9670;&nbsp;</a></span>EmitRestartE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>restart_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">895</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a>();</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">gatherStatistics</a>)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9d1358920866735e48fef5678a79578f">FlushBitsE</a>();</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6c4728e9e1045adff5dae5d91cdfc4c6">EmitByteE</a>(0xFF);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6c4728e9e1045adff5dae5d91cdfc4c6">EmitByteE</a>((<span class="keywordtype">int</span>)(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a5acaaa3b241a2ea527e205b8d4a30b94">JpegMarker</a>.RST0 + restart_num));</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            }</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">m_Ss</a> == 0)</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                <span class="comment">/* Re-initialize DC predictions to 0 */</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                <span class="keywordflow">for</span> (var ci = 0; ci &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">m_comps_in_scan</a>; ci++)</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">last_dc_val</a>[ci] = 0;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                <span class="comment">/* Re-initialize all AC-related fields to 0 */</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a> = 0;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BE</a> = 0;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            }</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a90cb922c30400fae723440516902d192"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a></div><div class="ttdeci">bool gatherStatistics</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">HuffmanEntropyEncoder.cs:84</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ade50f413097515867769e960404659e9"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a></div><div class="ttdeci">uint EOBRUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">HuffmanEntropyEncoder.cs:90</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a6c4728e9e1045adff5dae5d91cdfc4c6"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6c4728e9e1045adff5dae5d91cdfc4c6">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteE</a></div><div class="ttdeci">void EmitByteE(int val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00657">HuffmanEntropyEncoder.cs:657</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a13682838c868e486462be13d83156432"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a></div><div class="ttdeci">readonly SavableState saved</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">HuffmanEntropyEncoder.cs:67</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a9d1358920866735e48fef5678a79578f"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9d1358920866735e48fef5678a79578f">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsE</a></div><div class="ttdeci">void FlushBitsE()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00782">HuffmanEntropyEncoder.cs:782</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_ae1c5bc4f9dff3148fd55a015e0058978"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.last_dc_val</a></div><div class="ttdeci">int [] last_dc_val</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00053">HuffmanEntropyEncoder.cs:53</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2621b45c8f7fb905c1b3f1651d4c09c2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a></div><div class="ttdeci">internal int m_Ss</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">JpegCompressStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a340bb96f854e655f8e8c1bb7d8d71907"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a></div><div class="ttdeci">internal int m_comps_in_scan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">JpegCompressStruct.cs:225</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a73abef6e3c14ed43458daf6d118fbf39"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun</a></div><div class="ttdeci">void EmitEOBRun()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">HuffmanEntropyEncoder.cs:832</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_a5acaaa3b241a2ea527e205b8d4a30b94"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a5acaaa3b241a2ea527e205b8d4a30b94">BitMiracle.LibJpeg.Classic.JpegMarker</a></div><div class="ttdeci">JpegMarker</div><div class="ttdoc">JPEG marker codes.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbc/_jpeg_marker_8cs_source.html#l00008">JpegMarker.cs:8</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_abc305098f0c4abca4478f06c06e53610"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</a></div><div class="ttdeci">uint BE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">HuffmanEntropyEncoder.cs:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00657">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00782">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00053">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.last_dc_val</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01145">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCRefine()</a>.</p>

</div>
</div>
<a id="a6bdb20b020c34693241fd7ccbf3eac21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bdb20b020c34693241fd7ccbf3eac21">&#9670;&nbsp;</a></span>EmitRestartS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>restart_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emit a restart marker and resynchronize predictions. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00867">867</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9ab2afca2f6df5aa381174025153973a">FlushBitsS</a>(state))</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afd58481ed09245910e3bf9a9abf113b7">EmitByteS</a>(0xFF))</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afd58481ed09245910e3bf9a9abf113b7">EmitByteS</a>((<span class="keywordtype">int</span>)(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a5acaaa3b241a2ea527e205b8d4a30b94">JpegMarker</a>.RST0 + restart_num)))</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <span class="comment">/* Re-initialize DC predictions to 0 */</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            <span class="keywordflow">for</span> (var ci = 0; ci &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">m_comps_in_scan</a>; ci++)</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.last_dc_val[ci] = 0;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <span class="comment">/* The restart counter is not updated until we successfully write the MCU. */</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a340bb96f854e655f8e8c1bb7d8d71907"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a></div><div class="ttdeci">internal int m_comps_in_scan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">JpegCompressStruct.cs:225</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_afd58481ed09245910e3bf9a9abf113b7"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afd58481ed09245910e3bf9a9abf113b7">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteS</a></div><div class="ttdeci">bool EmitByteS(int val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00652">HuffmanEntropyEncoder.cs:652</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_a5acaaa3b241a2ea527e205b8d4a30b94"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a5acaaa3b241a2ea527e205b8d4a30b94">BitMiracle.LibJpeg.Classic.JpegMarker</a></div><div class="ttdeci">JpegMarker</div><div class="ttdoc">JPEG marker codes.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dbc/_jpeg_marker_8cs_source.html#l00008">JpegMarker.cs:8</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a9ab2afca2f6df5aa381174025153973a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9ab2afca2f6df5aa381174025153973a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsS</a></div><div class="ttdeci">bool FlushBitsS(SavableState state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00770">HuffmanEntropyEncoder.cs:770</a></div></div>
<div class="ttc" id="namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding_html_af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e"><div class="ttname"><a href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">Juniper.World.GIS.Google.Geocoding.AddressComponentTypes.state</a></div><div class="ttdoc">An alias for administrative_area_level_1.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00652">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteS()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00770">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsS()</a>, and <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>.</p>

</div>
</div>
<a id="a7a9e0d0f1295668c0e0541e53eef77fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a9e0d0f1295668c0e0541e53eef77fd">&#9670;&nbsp;</a></span>EncodeMcuACFirst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>&#160;</td>
          <td class="paramname"><em>MCU_data</em>[][]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>MCU encoding for AC initial scan (either spectral selection, or first pass of successive approximation). </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">1028</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <span class="comment">/* Emit restart marker if needed */</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">EmitRestartE</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            var natural_order = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0b61f07bc77117bff7580e77f2ceab13">natural_order</a>;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="comment">/* Encode the AC coefficients per section G.1.2.2, fig. G.3 */</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <span class="comment">/* r = run length of zeros */</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            var r = 0;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <span class="keywordflow">for</span> (var k = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">m_Ss</a>; k &lt;= <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">m_Se</a>; k++)</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            {</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                <span class="keywordtype">int</span> temp = MCU_data[0][0][natural_order[k]];</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                <span class="keywordflow">if</span> (temp == 0)</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                    r++;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                }</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                <span class="comment">/* We must apply the point transform by Al.  For AC coefficients this</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">                 * is an integer division with rounding towards 0.  To do this portably</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="comment">                 * in C, we shift after obtaining the absolute value; so the code is</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">                 * interwoven with finding the abs value (temp) and output bits (temp2).</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                <span class="keywordtype">int</span> temp2;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                <span class="keywordflow">if</span> (temp &lt; 0)</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                    temp = -temp;       <span class="comment">/* temp is abs value of input */</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                    temp &gt;&gt;= <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">m_Al</a>;        <span class="comment">/* apply the point transform */</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                    <span class="comment">/* For a negative coef, want temp2 = bitwise complement of abs(coef) */</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                    temp2 = ~temp;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                    temp &gt;&gt;= <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">m_Al</a>;        <span class="comment">/* apply the point transform */</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                    temp2 = temp;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                }</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                <span class="comment">/* Watch out for case that nonzero coef is zero after point transform */</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                <span class="keywordflow">if</span> (temp == 0)</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                    r++;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                }</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                <span class="comment">/* Emit any pending EOBRUN */</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a> &gt; 0)</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a>();</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                <span class="comment">/* if run length &gt; 15, must emit special run-length-16 codes (0xF0) */</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                <span class="keywordflow">while</span> (r &gt; 15)</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">EmitACSymbol</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">acTblNo</a>, 0xF0);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                    r -= 16;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                <span class="comment">/* Find the number of bits needed for the magnitude of the coefficient */</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                var nbits = 1;          <span class="comment">/* there must be at least one 1 bit */</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                <span class="keywordflow">while</span> ((temp &gt;&gt;= 1) != 0)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    nbits++;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <span class="comment">/* Check for out-of-range coefficient values */</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                <span class="keywordflow">if</span> (nbits &gt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">MAX_COEF_BITS</a>)</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_DCT_COEF);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                <span class="comment">/* Count/emit Huffman symbol for run length / number of bits */</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">EmitACSymbol</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">acTblNo</a>, (r &lt;&lt; 4) + nbits);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                <span class="comment">/* Emit that number of bits of the value, if positive, */</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                <span class="comment">/* or the complement of its magnitude, if negative. */</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>(temp2, nbits);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                r = 0;          <span class="comment">/* reset zero run length */</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="keywordflow">if</span> (r &gt; 0)</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                <span class="comment">/* If there are trailing zeroes, */</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a>++;      <span class="comment">/* count an EOB */</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a> == 0x7FFF)</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a>();   <span class="comment">/* force it out to avoid overflow */</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            }</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            <span class="comment">/* Update restart-interval state too */</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a>;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>++;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a> &amp;= 7;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a>--;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2ad13e11613db1476a64bba436bb3293"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a></div><div class="ttdeci">internal int m_restart_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">JpegCompressStruct.cs:181</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ade50f413097515867769e960404659e9"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a></div><div class="ttdeci">uint EOBRUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">HuffmanEntropyEncoder.cs:90</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a5fbcd47667f0b85e935aa46d9af37dee"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE</a></div><div class="ttdeci">void EmitRestartE(int restart_num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">HuffmanEntropyEncoder.cs:895</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a1564682b2515fb505e5739050850bd24"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Se</a></div><div class="ttdeci">internal int m_Se</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00239">JpegCompressStruct.cs:239</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a37b4c2bba86b866341f4dd2786b845ef"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol</a></div><div class="ttdeci">void EmitACSymbol(int tbl_no, int symbol)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">HuffmanEntropyEncoder.cs:803</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_adb25956e854fc7f9a1f0aff03df2ade5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS</a></div><div class="ttdeci">const int MAX_COEF_BITS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">HuffmanEntropyEncoder.cs:29</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2621b45c8f7fb905c1b3f1651d4c09c2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a></div><div class="ttdeci">internal int m_Ss</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">JpegCompressStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a3af1c579eb44232c4a880070580a94b5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a></div><div class="ttdeci">int nextRestartNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">HuffmanEntropyEncoder.cs:71</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a73abef6e3c14ed43458daf6d118fbf39"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun</a></div><div class="ttdeci">void EmitEOBRun()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">HuffmanEntropyEncoder.cs:832</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a97c659103ff7b976eab4f4e1554f8eac"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Al</a></div><div class="ttdeci">internal int m_Al</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00241">JpegCompressStruct.cs:241</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a21796c91ad4a1d6ad36d7ed44e31fd5e"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</a></div><div class="ttdeci">int acTblNo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">HuffmanEntropyEncoder.cs:89</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a0b61f07bc77117bff7580e77f2ceab13"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0b61f07bc77117bff7580e77f2ceab13">BitMiracle.LibJpeg.Classic.JpegCompressStruct.natural_order</a></div><div class="ttdeci">internal int [] natural_order</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00248">JpegCompressStruct.cs:248</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a8190c0fa8f3fd947ce60810ba60bb498"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a></div><div class="ttdeci">int restartsToGo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">HuffmanEntropyEncoder.cs:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00241">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Al</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00239">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Se</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00248">BitMiracle.LibJpeg.Classic.JpegCompressStruct.natural_order</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a54e31f8c4fd74a3bac607328d94b44b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54e31f8c4fd74a3bac607328d94b44b4">&#9670;&nbsp;</a></span>EncodeMcuACRefine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>&#160;</td>
          <td class="paramname"><em>MCU_data</em>[][]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>MCU encoding for AC successive approximation refinement scan. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">1183</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        {</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            <span class="comment">/* Emit restart marker if needed */</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                {</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">EmitRestartE</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                }</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            }</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            <span class="comment">/* Encode the MCU data block */</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="comment">/* It is convenient to make a pre-pass to determine the transformed</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment">             * coefficients&#39; absolute values and the EOB position.</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            var EOB = 0;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            var natural_order = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0b61f07bc77117bff7580e77f2ceab13">natural_order</a>;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            var absvalues = <span class="keyword">new</span> <span class="keywordtype">int</span>[JpegConstants.DCTSIZE2];</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            <span class="keywordflow">for</span> (var k = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">m_Ss</a>; k &lt;= <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">m_Se</a>; k++)</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            {</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                <span class="keywordtype">int</span> temp = MCU_data[0][0][natural_order[k]];</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                <span class="comment">/* We must apply the point transform by Al.  For AC coefficients this</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment">                 * is an integer division with rounding towards 0.  To do this portably</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">                 * in C, we shift after obtaining the absolute value.</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                <span class="keywordflow">if</span> (temp &lt; 0)</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    temp = -temp;       <span class="comment">/* temp is abs value of input */</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                }</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                temp &gt;&gt;= <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">m_Al</a>;        <span class="comment">/* apply the point transform */</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                absvalues[k] = temp;    <span class="comment">/* save abs value for main pass */</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                <span class="keywordflow">if</span> (temp == 1)</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                    <span class="comment">/* EOB = index of last newly-nonzero coef */</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                    EOB = k;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                }</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            }</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            <span class="comment">/* Encode the AC coefficients per section G.1.2.3, fig. G.7 */</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            var r = 0;          <span class="comment">/* r = run length of zeros */</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            uint BR = 0;         <span class="comment">/* BR = count of buffered bits added now */</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            var bitBufferOffset = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BE</a>; <span class="comment">/* Append bits to buffer */</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <span class="keywordflow">for</span> (var k = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">m_Ss</a>; k &lt;= <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">m_Se</a>; k++)</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                var temp = absvalues[k];</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                <span class="keywordflow">if</span> (temp == 0)</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                {</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                    r++;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                }</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                <span class="comment">/* Emit any required ZRLs, but not if they can be folded into EOB */</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                <span class="keywordflow">while</span> (r &gt; 15 &amp;&amp; k &lt;= EOB)</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                {</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                    <span class="comment">/* emit any pending EOBRUN and the BE correction bits */</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a>();</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                    <span class="comment">/* Emit ZRL */</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">EmitACSymbol</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">acTblNo</a>, 0xF0);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                    r -= 16;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                    <span class="comment">/* Emit buffered correction bits that must be associated with ZRL */</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a82a48eadb8385705f7bad9c0eb28cb60">EmitBufferedBits</a>(bitBufferOffset, BR);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                    bitBufferOffset = 0;<span class="comment">/* BE bits are gone now */</span></div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                    BR = 0;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                }</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                <span class="comment">/* If the coef was previously nonzero, it only needs a correction bit.</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">                 * NOTE: a straight translation of the spec&#39;s figure G.7 would suggest</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">                 * that we also need to test r &gt; 15.  But if r &gt; 15, we can only get here</span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">                 * if k &gt; EOB, which implies that this coefficient is not 1.</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                <span class="keywordflow">if</span> (temp &gt; 1)</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                    <span class="comment">/* The correction bit is the next bit of the absolute value. */</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">bitBuffer</a>[bitBufferOffset + BR] = (char)(temp &amp; 1);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                    BR++;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                <span class="comment">/* Emit any pending EOBRUN and the BE correction bits */</span></div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a>();</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                <span class="comment">/* Count/emit Huffman symbol for run length / number of bits */</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">EmitACSymbol</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">acTblNo</a>, (r &lt;&lt; 4) + 1);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                <span class="comment">/* Emit output bit for newly-nonzero coef */</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                temp = (MCU_data[0][0][natural_order[k]] &lt; 0) ? 0 : 1;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>(temp, 1);</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                <span class="comment">/* Emit buffered correction bits that must be associated with this code */</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a82a48eadb8385705f7bad9c0eb28cb60">EmitBufferedBits</a>(bitBufferOffset, BR);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                bitBufferOffset = 0;<span class="comment">/* BE bits are gone now */</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                BR = 0;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                r = 0;          <span class="comment">/* reset zero run length */</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            }</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="keywordflow">if</span> (r &gt; 0 || BR &gt; 0)</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                <span class="comment">/* If there are trailing zeroes, */</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a>++;      <span class="comment">/* count an EOB */</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BE</a> += BR;      <span class="comment">/* concat my correction bits to older ones */</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                <span class="comment">/* We force out the EOB if we risk either:</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">                 * 1. overflow of the EOB counter;</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">                 * 2. overflow of the correction bit buffer during the next MCU.</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a> == 0x7FFF || <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BE</a> &gt; (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#acac6f041219796e58e2e9e7dc245b647">MAX_CORR_BITS</a> - JpegConstants.DCTSIZE2 + 1))</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a>();</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                }</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <span class="comment">/* Update restart-interval state too */</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a>;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>++;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a> &amp;= 7;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                }</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a>--;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2ad13e11613db1476a64bba436bb3293"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a></div><div class="ttdeci">internal int m_restart_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">JpegCompressStruct.cs:181</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ade50f413097515867769e960404659e9"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a></div><div class="ttdeci">uint EOBRUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">HuffmanEntropyEncoder.cs:90</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a5fbcd47667f0b85e935aa46d9af37dee"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE</a></div><div class="ttdeci">void EmitRestartE(int restart_num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">HuffmanEntropyEncoder.cs:895</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a1564682b2515fb505e5739050850bd24"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Se</a></div><div class="ttdeci">internal int m_Se</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00239">JpegCompressStruct.cs:239</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a25444c66b19ff41d79a400d50869e250"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</a></div><div class="ttdeci">char [] bitBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">HuffmanEntropyEncoder.cs:92</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a37b4c2bba86b866341f4dd2786b845ef"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a37b4c2bba86b866341f4dd2786b845ef">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol</a></div><div class="ttdeci">void EmitACSymbol(int tbl_no, int symbol)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">HuffmanEntropyEncoder.cs:803</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2621b45c8f7fb905c1b3f1651d4c09c2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a></div><div class="ttdeci">internal int m_Ss</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">JpegCompressStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a3af1c579eb44232c4a880070580a94b5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a></div><div class="ttdeci">int nextRestartNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">HuffmanEntropyEncoder.cs:71</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a73abef6e3c14ed43458daf6d118fbf39"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun</a></div><div class="ttdeci">void EmitEOBRun()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">HuffmanEntropyEncoder.cs:832</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a97c659103ff7b976eab4f4e1554f8eac"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Al</a></div><div class="ttdeci">internal int m_Al</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00241">JpegCompressStruct.cs:241</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a21796c91ad4a1d6ad36d7ed44e31fd5e"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</a></div><div class="ttdeci">int acTblNo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">HuffmanEntropyEncoder.cs:89</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_acac6f041219796e58e2e9e7dc245b647"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#acac6f041219796e58e2e9e7dc245b647">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_CORR_BITS</a></div><div class="ttdeci">const int MAX_CORR_BITS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00036">HuffmanEntropyEncoder.cs:36</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a82a48eadb8385705f7bad9c0eb28cb60"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a82a48eadb8385705f7bad9c0eb28cb60">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBufferedBits</a></div><div class="ttdeci">void EmitBufferedBits(uint offset, uint nbits)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00817">HuffmanEntropyEncoder.cs:817</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a0b61f07bc77117bff7580e77f2ceab13"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0b61f07bc77117bff7580e77f2ceab13">BitMiracle.LibJpeg.Classic.JpegCompressStruct.natural_order</a></div><div class="ttdeci">internal int [] natural_order</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00248">JpegCompressStruct.cs:248</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a8190c0fa8f3fd947ce60810ba60bb498"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a></div><div class="ttdeci">int restartsToGo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">HuffmanEntropyEncoder.cs:70</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_abc305098f0c4abca4478f06c06e53610"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</a></div><div class="ttdeci">uint BE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">HuffmanEntropyEncoder.cs:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00021">BitMiracle.LibJpeg.Classic.JpegConstants.DCTSIZE2</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00817">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBufferedBits()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00241">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Al</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00239">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Se</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00036">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_CORR_BITS</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00248">BitMiracle.LibJpeg.Classic.JpegCompressStruct.natural_order</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a0072cce2e49fe730a9fff98a607ceaa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0072cce2e49fe730a9fff98a607ceaa2">&#9670;&nbsp;</a></span>EncodeMcuDCFirst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>&#160;</td>
          <td class="paramname"><em>MCU_data</em>[][]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>MCU encoding for DC initial scan (either spectral selection, or first pass of successive approximation). </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">941</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="comment">/* Emit restart marker if needed */</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                {</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">EmitRestartE</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                }</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            <span class="comment">/* Encode the MCU data blocks */</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="keywordflow">for</span> (var blkn = 0; blkn &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0135f102c41f9ed65c5fab1a10347c6e">m_blocks_in_MCU</a>; blkn++)</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                var ci = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#aa1a62aa87b7374ab78231b352b62ee64">m_MCU_membership</a>[blkn];</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                var tbl = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">m_cur_comp_info</a>[ci]].<a class="code" href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#a09ec1e38fdb713eddc241617c8bf29ea">Dc_tbl_no</a>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                <span class="comment">/* Compute the DC value after the required point transform by Al.</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">                 * This is simply an arithmetic right shift.</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                var temp = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a644cc989fe35c9ade09f7468cc84e460">IRightShift</a>(MCU_data[blkn][0][0], <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">m_Al</a>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                <span class="comment">/* DC differences are figured on the point-transformed values. */</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                var temp2 = temp - <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">last_dc_val</a>[ci];</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">last_dc_val</a>[ci] = temp;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <span class="comment">/* Encode the DC coefficient difference per section G.1.2.1 */</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                temp = temp2;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                <span class="keywordflow">if</span> (temp &lt; 0)</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                    <span class="comment">/* temp is abs value of input */</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                    temp = -temp;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                    <span class="comment">/* For a negative input, want temp2 = bitwise complement of abs(input) */</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                    <span class="comment">/* This code assumes we are on a two&#39;s complement machine */</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                    temp2--;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                }</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                <span class="comment">/* Find the number of bits needed for the magnitude of the coefficient */</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                var nbits = 0;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                <span class="keywordflow">while</span> (temp != 0)</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                    nbits++;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                    temp &gt;&gt;= 1;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                }</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                <span class="comment">/* Check for out-of-range coefficient values.</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">                 * Since we&#39;re encoding a difference, the range limit is twice as much.</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                <span class="keywordflow">if</span> (nbits &gt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">MAX_COEF_BITS</a> + 1)</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_DCT_COEF);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                <span class="comment">/* Count/emit the Huffman-coded symbol for the number of bits */</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a980d88ea052d4df0d29103318bd91002">EmitDCSymbol</a>(tbl, nbits);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                <span class="comment">/* Emit that number of bits of the value, if positive, */</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                <span class="comment">/* or the complement of its magnitude, if negative. */</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                <span class="keywordflow">if</span> (nbits != 0)</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                    <span class="comment">/* emit_bits rejects calls with size 0 */</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>(temp2, nbits);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                }</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="comment">/* Update restart-interval state too */</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a>;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>++;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a> &amp;= 7;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a>--;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2ad13e11613db1476a64bba436bb3293"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a></div><div class="ttdeci">internal int m_restart_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">JpegCompressStruct.cs:181</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a5fbcd47667f0b85e935aa46d9af37dee"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE</a></div><div class="ttdeci">void EmitRestartE(int restart_num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">HuffmanEntropyEncoder.cs:895</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a13682838c868e486462be13d83156432"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a></div><div class="ttdeci">readonly SavableState saved</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">HuffmanEntropyEncoder.cs:67</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ac3fb97f38b65c0c331a321e344e000e2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a></div><div class="ttdeci">internal int [] m_cur_comp_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">JpegCompressStruct.cs:226</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a0135f102c41f9ed65c5fab1a10347c6e"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0135f102c41f9ed65c5fab1a10347c6e">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_blocks_in_MCU</a></div><div class="ttdeci">internal int m_blocks_in_MCU</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00232">JpegCompressStruct.cs:232</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_adb25956e854fc7f9a1f0aff03df2ade5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS</a></div><div class="ttdeci">const int MAX_COEF_BITS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">HuffmanEntropyEncoder.cs:29</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_aa1a62aa87b7374ab78231b352b62ee64"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#aa1a62aa87b7374ab78231b352b62ee64">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_MCU_membership</a></div><div class="ttdeci">internal int [] m_MCU_membership</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00233">JpegCompressStruct.cs:233</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a980d88ea052d4df0d29103318bd91002"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a980d88ea052d4df0d29103318bd91002">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitDCSymbol</a></div><div class="ttdeci">void EmitDCSymbol(int tbl_no, int symbol)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00790">HuffmanEntropyEncoder.cs:790</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a644cc989fe35c9ade09f7468cc84e460"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a644cc989fe35c9ade09f7468cc84e460">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.IRightShift</a></div><div class="ttdeci">static int IRightShift(int x, int shft)</div><div class="ttdoc">IRIGHT_SHIFT is like RIGHT_SHIFT, but works on int rather than int. We assume that int right shift is...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00927">HuffmanEntropyEncoder.cs:927</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_ae1c5bc4f9dff3148fd55a015e0058978"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.last_dc_val</a></div><div class="ttdeci">int [] last_dc_val</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00053">HuffmanEntropyEncoder.cs:53</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a3af1c579eb44232c4a880070580a94b5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a></div><div class="ttdeci">int nextRestartNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">HuffmanEntropyEncoder.cs:71</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a97c659103ff7b976eab4f4e1554f8eac"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Al</a></div><div class="ttdeci">internal int m_Al</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00241">JpegCompressStruct.cs:241</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a83ab6e2759ad843eac76211f18529e96"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a></div><div class="ttdeci">JpegComponentInfo [] Component_info</div><div class="ttdoc">Gets the components that appears in SOF.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">JpegCompressStruct.cs:624</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info_html_a09ec1e38fdb713eddc241617c8bf29ea"><div class="ttname"><a href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#a09ec1e38fdb713eddc241617c8bf29ea">BitMiracle.LibJpeg.Classic.JpegComponentInfo.Dc_tbl_no</a></div><div class="ttdeci">int Dc_tbl_no</div><div class="ttdoc">DC entropy table selector (0..3)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00118">JpegComponentInfo.cs:118</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a8190c0fa8f3fd947ce60810ba60bb498"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a></div><div class="ttdeci">int restartsToGo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">HuffmanEntropyEncoder.cs:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a>, <a class="el" href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.JpegComponentInfo.Dc_tbl_no</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00790">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitDCSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00927">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.IRightShift()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00053">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.last_dc_val</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00241">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Al</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00232">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_blocks_in_MCU</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00233">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_MCU_membership</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="acfaa06772059366ed322e6f67a2a3373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfaa06772059366ed322e6f67a2a3373">&#9670;&nbsp;</a></span>EncodeMcuDCRefine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCRefine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>&#160;</td>
          <td class="paramname"><em>MCU_data</em>[][]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>MCU encoding for DC successive approximation refinement scan. Note: we assume such scans can be multi-component, although the spec is not very clear on the point. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01145">1145</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        {</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="comment">/* Emit restart marker if needed */</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            {</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                {</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">EmitRestartE</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                }</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            <span class="comment">/* Encode the MCU data blocks */</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <span class="keywordflow">for</span> (var blkn = 0; blkn &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0135f102c41f9ed65c5fab1a10347c6e">m_blocks_in_MCU</a>; blkn++)</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                <span class="comment">/* We simply emit the Al&#39;th bit of the DC coefficient value. */</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                <span class="keywordtype">int</span> temp = MCU_data[blkn][0][0];</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>(temp &gt;&gt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">m_Al</a>, 1);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <span class="comment">/* Update restart-interval state too */</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a>;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>++;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a> &amp;= 7;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a>--;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            }</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2ad13e11613db1476a64bba436bb3293"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a></div><div class="ttdeci">internal int m_restart_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">JpegCompressStruct.cs:181</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a5fbcd47667f0b85e935aa46d9af37dee"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a5fbcd47667f0b85e935aa46d9af37dee">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE</a></div><div class="ttdeci">void EmitRestartE(int restart_num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">HuffmanEntropyEncoder.cs:895</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a0135f102c41f9ed65c5fab1a10347c6e"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0135f102c41f9ed65c5fab1a10347c6e">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_blocks_in_MCU</a></div><div class="ttdeci">internal int m_blocks_in_MCU</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00232">JpegCompressStruct.cs:232</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a3af1c579eb44232c4a880070580a94b5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a></div><div class="ttdeci">int nextRestartNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">HuffmanEntropyEncoder.cs:71</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a97c659103ff7b976eab4f4e1554f8eac"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a97c659103ff7b976eab4f4e1554f8eac">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Al</a></div><div class="ttdeci">internal int m_Al</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00241">JpegCompressStruct.cs:241</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a8190c0fa8f3fd947ce60810ba60bb498"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a></div><div class="ttdeci">int restartsToGo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">HuffmanEntropyEncoder.cs:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00241">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Al</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00232">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_blocks_in_MCU</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="abe2d0c4dac17b0d1a75218699e4519dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe2d0c4dac17b0d1a75218699e4519dc">&#9670;&nbsp;</a></span>EncodeMcuDelegate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">delegate bool BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder.EncodeMcuDelegate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>&#160;</td>
          <td class="paramname"><em>MCU_data</em>[][]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b5b1d6eab73b4fffa07c93bfbbfe372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b5b1d6eab73b4fffa07c93bfbbfe372">&#9670;&nbsp;</a></span>EncodeMcuGather()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>&#160;</td>
          <td class="paramname"><em>MCU_data</em>[][]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trial-encode one MCU's worth of Huffman-compressed coefficients. No data is actually output, so no suspension return is possible. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">344</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="comment">/* Take care of restart intervals if needed */</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="comment">/* Re-initialize DC predictions to 0 */</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    <span class="keywordflow">for</span> (var ci = 0; ci &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">m_comps_in_scan</a>; ci++)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                        <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">last_dc_val</a>[ci] = 0;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    <span class="comment">/* Update restart state */</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a>--;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">for</span> (var blkn = 0; blkn &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0135f102c41f9ed65c5fab1a10347c6e">m_blocks_in_MCU</a>; blkn++)</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                var ci = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#aa1a62aa87b7374ab78231b352b62ee64">m_MCU_membership</a>[blkn];</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                var compptr = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">m_cur_comp_info</a>[ci]];</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ae02369014b4b62d465a043eb83ba33e1">HTestOneBlock</a>(MCU_data[blkn][0].data, <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">last_dc_val</a>[ci],</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a>[compptr.Dc_tbl_no],</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a>[compptr.Ac_tbl_no]);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">last_dc_val</a>[ci] = MCU_data[blkn][0][0];</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_afbe65f91b7cdc3615ad5e4ac90c394ca"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a></div><div class="ttdeci">readonly long [][] acCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">HuffmanEntropyEncoder.cs:79</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2ad13e11613db1476a64bba436bb3293"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a></div><div class="ttdeci">internal int m_restart_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">JpegCompressStruct.cs:181</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a18db5e4f97ed0b553c206a58b04c5a24"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a></div><div class="ttdeci">readonly long [][] dcCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">HuffmanEntropyEncoder.cs:78</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a13682838c868e486462be13d83156432"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a></div><div class="ttdeci">readonly SavableState saved</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">HuffmanEntropyEncoder.cs:67</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ac3fb97f38b65c0c331a321e344e000e2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a></div><div class="ttdeci">internal int [] m_cur_comp_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">JpegCompressStruct.cs:226</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a0135f102c41f9ed65c5fab1a10347c6e"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0135f102c41f9ed65c5fab1a10347c6e">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_blocks_in_MCU</a></div><div class="ttdeci">internal int m_blocks_in_MCU</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00232">JpegCompressStruct.cs:232</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_aa1a62aa87b7374ab78231b352b62ee64"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#aa1a62aa87b7374ab78231b352b62ee64">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_MCU_membership</a></div><div class="ttdeci">internal int [] m_MCU_membership</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00233">JpegCompressStruct.cs:233</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_ae1c5bc4f9dff3148fd55a015e0058978"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.last_dc_val</a></div><div class="ttdeci">int [] last_dc_val</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00053">HuffmanEntropyEncoder.cs:53</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a340bb96f854e655f8e8c1bb7d8d71907"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a></div><div class="ttdeci">internal int m_comps_in_scan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">JpegCompressStruct.cs:225</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a83ab6e2759ad843eac76211f18529e96"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a></div><div class="ttdeci">JpegComponentInfo [] Component_info</div><div class="ttdoc">Gets the components that appears in SOF.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">JpegCompressStruct.cs:624</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a8190c0fa8f3fd947ce60810ba60bb498"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a></div><div class="ttdeci">int restartsToGo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">HuffmanEntropyEncoder.cs:70</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ae02369014b4b62d465a043eb83ba33e1"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ae02369014b4b62d465a043eb83ba33e1">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HTestOneBlock</a></div><div class="ttdeci">void HTestOneBlock(short[] block, int last_dc_val, long[] dc_counts, long[] ac_counts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00566">HuffmanEntropyEncoder.cs:566</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00566">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HTestOneBlock()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00053">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.last_dc_val</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00232">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_blocks_in_MCU</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00233">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_MCU_membership</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="ab82253e8a9fd95496853044707c0d3e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab82253e8a9fd95496853044707c0d3e9">&#9670;&nbsp;</a></span>EncodeMcuHuffman()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/db3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_block.html">JBlock</a>&#160;</td>
          <td class="paramname"><em>MCU_data</em>[][]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode and output one MCU's worth of Huffman-compressed coefficients. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">259</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="comment">/* Load up working state */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            var <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a> = <span class="keyword">new</span> SavableState();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.ASSIGN_STATE(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="comment">/* Emit restart marker if needed */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6bdb20b020c34693241fd7ccbf3eac21">EmitRestartS</a>(state, <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>))</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">/* Encode the MCU data blocks */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">for</span> (var blkn = 0; blkn &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0135f102c41f9ed65c5fab1a10347c6e">m_blocks_in_MCU</a>; blkn++)</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                var ci = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#aa1a62aa87b7374ab78231b352b62ee64">m_MCU_membership</a>[blkn];</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                var compptr = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">m_cur_comp_info</a>[ci]];</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0bf2cd3bc8b055c51b47d07d1f325f0a">EncodeOneBlock</a>(state, MCU_data[blkn][0].data, <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.last_dc_val[ci],</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">dcDerivedTables</a>[compptr.Dc_tbl_no],</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">acDerivedTables</a>[compptr.Ac_tbl_no]))</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="comment">/* Update last_dc_val */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.last_dc_val[ci] = MCU_data[blkn][0][0];</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="comment">/* Completed MCU, so update state */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aebb7be6d0e787f3e810d0671dffbcdde">ASSIGN_STATE</a>(state);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="comment">/* Update restart-interval state too */</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a> != 0)</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> == 0)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a>++;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a> &amp;= 7;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a>--;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2ad13e11613db1476a64bba436bb3293"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a></div><div class="ttdeci">internal int m_restart_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">JpegCompressStruct.cs:181</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a0bf2cd3bc8b055c51b47d07d1f325f0a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0bf2cd3bc8b055c51b47d07d1f325f0a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeOneBlock</a></div><div class="ttdeci">bool EncodeOneBlock(SavableState state, short[] block, int last_dc_val, CDerivedTable dctbl, CDerivedTable actbl)</div><div class="ttdoc">Encode a single block's worth of coefficients</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00434">HuffmanEntropyEncoder.cs:434</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a10e28b782f211f2fd6dcc12e79930dd0"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables</a></div><div class="ttdeci">readonly CDerivedTable [] dcDerivedTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">HuffmanEntropyEncoder.cs:74</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a13682838c868e486462be13d83156432"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a></div><div class="ttdeci">readonly SavableState saved</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">HuffmanEntropyEncoder.cs:67</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ac3fb97f38b65c0c331a321e344e000e2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a></div><div class="ttdeci">internal int [] m_cur_comp_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">JpegCompressStruct.cs:226</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a0135f102c41f9ed65c5fab1a10347c6e"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0135f102c41f9ed65c5fab1a10347c6e">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_blocks_in_MCU</a></div><div class="ttdeci">internal int m_blocks_in_MCU</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00232">JpegCompressStruct.cs:232</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_aa1a62aa87b7374ab78231b352b62ee64"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#aa1a62aa87b7374ab78231b352b62ee64">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_MCU_membership</a></div><div class="ttdeci">internal int [] m_MCU_membership</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00233">JpegCompressStruct.cs:233</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a3af1c579eb44232c4a880070580a94b5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a></div><div class="ttdeci">int nextRestartNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">HuffmanEntropyEncoder.cs:71</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a83ab6e2759ad843eac76211f18529e96"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a></div><div class="ttdeci">JpegComponentInfo [] Component_info</div><div class="ttdoc">Gets the components that appears in SOF.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">JpegCompressStruct.cs:624</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a6bdb20b020c34693241fd7ccbf3eac21"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a6bdb20b020c34693241fd7ccbf3eac21">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartS</a></div><div class="ttdeci">bool EmitRestartS(SavableState state, int restart_num)</div><div class="ttdoc">Emit a restart marker and resynchronize predictions.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00867">HuffmanEntropyEncoder.cs:867</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_aebb7be6d0e787f3e810d0671dffbcdde"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aebb7be6d0e787f3e810d0671dffbcdde">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.ASSIGN_STATE</a></div><div class="ttdeci">void ASSIGN_STATE(SavableState src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00055">HuffmanEntropyEncoder.cs:55</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a07ef5f748b79f28787639cf4d51fff50"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables</a></div><div class="ttdeci">readonly CDerivedTable [] acDerivedTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">HuffmanEntropyEncoder.cs:75</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a8190c0fa8f3fd947ce60810ba60bb498"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a></div><div class="ttdeci">int restartsToGo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">HuffmanEntropyEncoder.cs:70</a></div></div>
<div class="ttc" id="namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding_html_af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e"><div class="ttname"><a href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">Juniper.World.GIS.Google.Geocoding.AddressComponentTypes.state</a></div><div class="ttdoc">An alias for administrative_area_level_1.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00055">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.ASSIGN_STATE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00867">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartS()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00434">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeOneBlock()</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00232">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_blocks_in_MCU</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00233">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_MCU_membership</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a0bf2cd3bc8b055c51b47d07d1f325f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bf2cd3bc8b055c51b47d07d1f325f0a">&#9670;&nbsp;</a></span>EncodeOneBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeOneBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short []&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last_dc_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a>&#160;</td>
          <td class="paramname"><em>dctbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a>&#160;</td>
          <td class="paramname"><em>actbl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode a single block's worth of coefficients </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00434">434</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="comment">/* Encode the DC coefficient difference per section F.1.2.1 */</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            var temp = block[0] - last_dc_val;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            var temp2 = temp;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">if</span> (temp &lt; 0)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                temp = -temp;       <span class="comment">/* temp is abs value of input */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                <span class="comment">/* For a negative input, want temp2 = bitwise complement of abs(input) */</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <span class="comment">/* This code assumes we are on a two&#39;s complement machine */</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                temp2--;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="comment">/* Find the number of bits needed for the magnitude of the coefficient */</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            var nbits = 0;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordflow">while</span> (temp != 0)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                nbits++;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                temp &gt;&gt;= 1;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="comment">/* Check for out-of-range coefficient values.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">             * Since we&#39;re encoding a difference, the range limit is twice as much.</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">if</span> (nbits &gt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">MAX_COEF_BITS</a> + 1)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_DCT_COEF);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="comment">/* Emit the Huffman-coded symbol for the number of bits */</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">EmitBitsS</a>(state, dctbl.ehufco[nbits], dctbl.ehufsi[nbits]))</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="comment">/* Emit that number of bits of the value, if positive, */</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="comment">/* or the complement of its magnitude, if negative. */</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">if</span> (nbits != 0)</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="comment">/* emit_bits rejects calls with size 0 */</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">EmitBitsS</a>(state, temp2, nbits))</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="comment">/* Encode the AC coefficients per section F.1.2.2 */</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            var r = 0;          <span class="comment">/* r = run length of zeros */</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            var natural_order = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0b61f07bc77117bff7580e77f2ceab13">natural_order</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            var Se = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a7583dd89bbd2307e49d2cac5fbafa818">lim_Se</a>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="keywordflow">for</span> (var k = 1; k &lt;= Se; k++)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                temp2 = block[natural_order[k]];</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <span class="keywordflow">if</span> (temp2 == 0)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    r++;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                    <span class="comment">/* if run length &gt; 15, must emit special run-length-16 codes (0xF0) */</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                    <span class="keywordflow">while</span> (r &gt; 15)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                    {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">EmitBitsS</a>(state, actbl.ehufco[0xF0], actbl.ehufsi[0xF0]))</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                        {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                        }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                        r -= 16;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                    }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                    temp = temp2;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                    <span class="keywordflow">if</span> (temp &lt; 0)</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                    {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                        temp = -temp;       <span class="comment">/* temp is abs value of input */</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                        <span class="comment">/* This code assumes we are on a two&#39;s complement machine */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                        temp2--;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    <span class="comment">/* Find the number of bits needed for the magnitude of the coefficient */</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    nbits = 1;      <span class="comment">/* there must be at least one 1 bit */</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    <span class="keywordflow">while</span> ((temp &gt;&gt;= 1) != 0)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                        nbits++;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    <span class="comment">/* Check for out-of-range coefficient values */</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    <span class="keywordflow">if</span> (nbits &gt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">MAX_COEF_BITS</a>)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                    {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                        <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_DCT_COEF);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    <span class="comment">/* Emit Huffman symbol for run length / number of bits */</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    temp = (r &lt;&lt; 4) + nbits;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">EmitBitsS</a>(state, actbl.ehufco[temp], actbl.ehufsi[temp]))</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                    {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                    }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                    <span class="comment">/* Emit that number of bits of the value, if positive, */</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                    <span class="comment">/* or the complement of its magnitude, if negative. */</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">EmitBitsS</a>(state, temp2, nbits))</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    r = 0;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="comment">/* If the last coef(s) were zero, emit an end-of-block code */</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordflow">if</span> (r &gt; 0)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">EmitBitsS</a>(state, actbl.ehufco[0], actbl.ehufsi[0]))</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_adb25956e854fc7f9a1f0aff03df2ade5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS</a></div><div class="ttdeci">const int MAX_COEF_BITS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">HuffmanEntropyEncoder.cs:29</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ab104776d02eee6b3362f16499e3f4db3"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsS</a></div><div class="ttdeci">bool EmitBitsS(SavableState state, int code, int size)</div><div class="ttdoc">Only the right 24 bits of put_buffer are used; the valid bits are left-justified in this part....</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00669">HuffmanEntropyEncoder.cs:669</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a7583dd89bbd2307e49d2cac5fbafa818"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a7583dd89bbd2307e49d2cac5fbafa818">BitMiracle.LibJpeg.Classic.JpegCompressStruct.lim_Se</a></div><div class="ttdeci">internal int lim_Se</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00249">JpegCompressStruct.cs:249</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a0b61f07bc77117bff7580e77f2ceab13"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0b61f07bc77117bff7580e77f2ceab13">BitMiracle.LibJpeg.Classic.JpegCompressStruct.natural_order</a></div><div class="ttdeci">internal int [] natural_order</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00248">JpegCompressStruct.cs:248</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00041">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.CDerivedTable.ehufco</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00042">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.CDerivedTable.ehufsi</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00669">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsS()</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00249">BitMiracle.LibJpeg.Classic.JpegCompressStruct.lim_Se</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS</a>, and <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00248">BitMiracle.LibJpeg.Classic.JpegCompressStruct.natural_order</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>.</p>

</div>
</div>
<a id="ac444c88122d45d7b7fdf994ecca7a9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac444c88122d45d7b7fdf994ecca7a9ac">&#9670;&nbsp;</a></span>FinishPassDelegate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">delegate void BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder.FinishPassDelegate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8fad155053de5cda0a27c08e92a2743a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fad155053de5cda0a27c08e92a2743a">&#9670;&nbsp;</a></span>FinishPassGather()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassGather </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish up a statistics-gathering pass and create the new Huffman tables. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00380">380</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ab706d6aeb653b78d304af30808ecfcaa">m_progressive_mode</a>)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="comment">/* Flush out buffered data (all we care about is counting the EOB symbol) */</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a>();</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="comment">/* It&#39;s important not to apply jpeg_gen_optimal_table more than once</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">             * per table, because it clobbers the input frequency counts!</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            var did_dc = <span class="keyword">new</span> <span class="keywordtype">bool</span>[JpegConstants.NUM_HUFF_TBLS];</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            var did_ac = <span class="keyword">new</span> <span class="keywordtype">bool</span>[JpegConstants.NUM_HUFF_TBLS];</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">for</span> (var ci = 0; ci &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">m_comps_in_scan</a>; ci++)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                var compptr = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">m_cur_comp_info</a>[ci]];</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="comment">/* DC needs no table for refinement scan */</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">m_Ss</a> == 0 &amp;&amp; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a33b16a0fc1e9b829c32761110ba5871e">m_Ah</a> == 0)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    var dctbl = compptr.<a class="code" href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#a09ec1e38fdb713eddc241617c8bf29ea">Dc_tbl_no</a>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    <span class="keywordflow">if</span> (!did_dc[dctbl])</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a78d576a417c1a19e677415f5de6a9e91">m_dc_huff_tbl_ptrs</a>[dctbl] is <span class="keyword">null</span>)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                        {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a78d576a417c1a19e677415f5de6a9e91">m_dc_huff_tbl_ptrs</a>[dctbl] = <span class="keyword">new</span> JHuffmanTable();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0c86e5a81c0792284f4a508179958546">JpegGenOptimalTable</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a78d576a417c1a19e677415f5de6a9e91">m_dc_huff_tbl_ptrs</a>[dctbl], <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a>[dctbl]);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        did_dc[dctbl] = <span class="keyword">true</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="comment">/* AC needs no table when not present */</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">m_Se</a> != 0)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    var actbl = compptr.Ac_tbl_no;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    <span class="keywordflow">if</span> (!did_ac[actbl])</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad9cc231157fdc392e4141fbccd5940dc">m_ac_huff_tbl_ptrs</a>[actbl] is <span class="keyword">null</span>)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                        {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad9cc231157fdc392e4141fbccd5940dc">m_ac_huff_tbl_ptrs</a>[actbl] = <span class="keyword">new</span> JHuffmanTable();</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                        }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                        <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0c86e5a81c0792284f4a508179958546">JpegGenOptimalTable</a>(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad9cc231157fdc392e4141fbccd5940dc">m_ac_huff_tbl_ptrs</a>[actbl], <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a>[actbl]);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                        did_ac[actbl] = <span class="keyword">true</span>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_afbe65f91b7cdc3615ad5e4ac90c394ca"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a></div><div class="ttdeci">readonly long [][] acCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">HuffmanEntropyEncoder.cs:79</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a18db5e4f97ed0b553c206a58b04c5a24"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a></div><div class="ttdeci">readonly long [][] dcCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">HuffmanEntropyEncoder.cs:78</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a0c86e5a81c0792284f4a508179958546"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0c86e5a81c0792284f4a508179958546">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.JpegGenOptimalTable</a></div><div class="ttdeci">void JpegGenOptimalTable(JHuffmanTable htbl, long[] freq)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01451">HuffmanEntropyEncoder.cs:1451</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a1564682b2515fb505e5739050850bd24"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Se</a></div><div class="ttdeci">internal int m_Se</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00239">JpegCompressStruct.cs:239</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ac3fb97f38b65c0c331a321e344e000e2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a></div><div class="ttdeci">internal int [] m_cur_comp_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">JpegCompressStruct.cs:226</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a33b16a0fc1e9b829c32761110ba5871e"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a33b16a0fc1e9b829c32761110ba5871e">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ah</a></div><div class="ttdeci">internal int m_Ah</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00240">JpegCompressStruct.cs:240</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2621b45c8f7fb905c1b3f1651d4c09c2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a></div><div class="ttdeci">internal int m_Ss</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">JpegCompressStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ab706d6aeb653b78d304af30808ecfcaa"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ab706d6aeb653b78d304af30808ecfcaa">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_progressive_mode</a></div><div class="ttdeci">internal bool m_progressive_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00207">JpegCompressStruct.cs:207</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a340bb96f854e655f8e8c1bb7d8d71907"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a></div><div class="ttdeci">internal int m_comps_in_scan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">JpegCompressStruct.cs:225</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a73abef6e3c14ed43458daf6d118fbf39"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun</a></div><div class="ttdeci">void EmitEOBRun()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">HuffmanEntropyEncoder.cs:832</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a78d576a417c1a19e677415f5de6a9e91"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a78d576a417c1a19e677415f5de6a9e91">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_dc_huff_tbl_ptrs</a></div><div class="ttdeci">internal JHuffmanTable [] m_dc_huff_tbl_ptrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00153">JpegCompressStruct.cs:153</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a83ab6e2759ad843eac76211f18529e96"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a></div><div class="ttdeci">JpegComponentInfo [] Component_info</div><div class="ttdoc">Gets the components that appears in SOF.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">JpegCompressStruct.cs:624</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ad9cc231157fdc392e4141fbccd5940dc"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad9cc231157fdc392e4141fbccd5940dc">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_ac_huff_tbl_ptrs</a></div><div class="ttdeci">internal JHuffmanTable [] m_ac_huff_tbl_ptrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00154">JpegCompressStruct.cs:154</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info_html_a09ec1e38fdb713eddc241617c8bf29ea"><div class="ttname"><a href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#a09ec1e38fdb713eddc241617c8bf29ea">BitMiracle.LibJpeg.Classic.JpegComponentInfo.Dc_tbl_no</a></div><div class="ttdeci">int Dc_tbl_no</div><div class="ttdoc">DC entropy table selector (0..3)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00118">JpegComponentInfo.cs:118</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a>, <a class="el" href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.JpegComponentInfo.Dc_tbl_no</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01451">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.JpegGenOptimalTable()</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00154">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_ac_huff_tbl_ptrs</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00240">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ah</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00153">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_dc_huff_tbl_ptrs</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00207">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_progressive_mode</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00239">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Se</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a>, and <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00031">BitMiracle.LibJpeg.Classic.JpegConstants.NUM_HUFF_TBLS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="ae31009f7d4f7e2d3bdcec2c96330631b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31009f7d4f7e2d3bdcec2c96330631b">&#9670;&nbsp;</a></span>FinishPassHuffman()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassHuffman </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish up at the end of a Huffman-compressed scan. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00315">315</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ab706d6aeb653b78d304af30808ecfcaa">m_progressive_mode</a>)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="comment">/* Flush out any buffered data */</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">EmitEOBRun</a>();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9d1358920866735e48fef5678a79578f">FlushBitsE</a>();</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <span class="comment">/* Load up working state ... flush_bits needs it */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                var <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a> = <span class="keyword">new</span> SavableState();</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.ASSIGN_STATE(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="comment">/* Flush out the last data */</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9ab2afca2f6df5aa381174025153973a">FlushBitsS</a>(state))</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CANT_SUSPEND);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="comment">/* Update state */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aebb7be6d0e787f3e810d0671dffbcdde">ASSIGN_STATE</a>(state);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a13682838c868e486462be13d83156432"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a></div><div class="ttdeci">readonly SavableState saved</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">HuffmanEntropyEncoder.cs:67</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a9d1358920866735e48fef5678a79578f"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9d1358920866735e48fef5678a79578f">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsE</a></div><div class="ttdeci">void FlushBitsE()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00782">HuffmanEntropyEncoder.cs:782</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ab706d6aeb653b78d304af30808ecfcaa"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ab706d6aeb653b78d304af30808ecfcaa">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_progressive_mode</a></div><div class="ttdeci">internal bool m_progressive_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00207">JpegCompressStruct.cs:207</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a73abef6e3c14ed43458daf6d118fbf39"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a73abef6e3c14ed43458daf6d118fbf39">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun</a></div><div class="ttdeci">void EmitEOBRun()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">HuffmanEntropyEncoder.cs:832</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a9ab2afca2f6df5aa381174025153973a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9ab2afca2f6df5aa381174025153973a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsS</a></div><div class="ttdeci">bool FlushBitsS(SavableState state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00770">HuffmanEntropyEncoder.cs:770</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_aebb7be6d0e787f3e810d0671dffbcdde"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aebb7be6d0e787f3e810d0671dffbcdde">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.ASSIGN_STATE</a></div><div class="ttdeci">void ASSIGN_STATE(SavableState src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00055">HuffmanEntropyEncoder.cs:55</a></div></div>
<div class="ttc" id="namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding_html_af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e"><div class="ttname"><a href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">Juniper.World.GIS.Google.Geocoding.AddressComponentTypes.state</a></div><div class="ttdoc">An alias for administrative_area_level_1.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00055">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.ASSIGN_STATE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00782">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00770">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsS()</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00207">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_progressive_mode</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a9d1358920866735e48fef5678a79578f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d1358920866735e48fef5678a79578f">&#9670;&nbsp;</a></span>FlushBitsE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsE </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00782">782</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">EmitBitsE</a>(0x7F, 7); <span class="comment">/* fill any partial byte with ones */</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aa4e02e0566d99bbde9be5842aadd252a">put_buffer</a> = 0;     <span class="comment">/* and reset bit-buffer to empty */</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#adc11bde960879ba373933766088f8723">put_bits</a> = 0;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_adc11bde960879ba373933766088f8723"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#adc11bde960879ba373933766088f8723">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_bits</a></div><div class="ttdeci">int put_bits</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00052">HuffmanEntropyEncoder.cs:52</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a97aa4aaca201c4f09d4584fabd903f64"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a97aa4aaca201c4f09d4584fabd903f64">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE</a></div><div class="ttdeci">void EmitBitsE(int code, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">HuffmanEntropyEncoder.cs:727</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_aa4e02e0566d99bbde9be5842aadd252a"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aa4e02e0566d99bbde9be5842aadd252a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_buffer</a></div><div class="ttdeci">int put_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00051">HuffmanEntropyEncoder.cs:51</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a13682838c868e486462be13d83156432"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a></div><div class="ttdeci">readonly SavableState saved</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">HuffmanEntropyEncoder.cs:67</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00052">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_bits</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00051">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_buffer</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00315">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassHuffman()</a>.</p>

</div>
</div>
<a id="a9ab2afca2f6df5aa381174025153973a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ab2afca2f6df5aa381174025153973a">&#9670;&nbsp;</a></span>FlushBitsS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00770">770</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">EmitBitsS</a>(state, 0x7F, 7)) <span class="comment">/* fill any partial byte with ones */</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.put_buffer = 0;  <span class="comment">/* and reset bit-buffer to empty */</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <a class="code" href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">state</a>.put_bits = 0;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ab104776d02eee6b3362f16499e3f4db3"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab104776d02eee6b3362f16499e3f4db3">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsS</a></div><div class="ttdeci">bool EmitBitsS(SavableState state, int code, int size)</div><div class="ttdoc">Only the right 24 bits of put_buffer are used; the valid bits are left-justified in this part....</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00669">HuffmanEntropyEncoder.cs:669</a></div></div>
<div class="ttc" id="namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding_html_af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e"><div class="ttname"><a href="../../d7/d19/namespace_juniper_1_1_world_1_1_g_i_s_1_1_google_1_1_geocoding.html#af69e83b6eb5b99734729682356fc7a0ea9ed39e2ea931586b6a985a6942ef573e">Juniper.World.GIS.Google.Geocoding.AddressComponentTypes.state</a></div><div class="ttdoc">An alias for administrative_area_level_1.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00669">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00867">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartS()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00315">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassHuffman()</a>.</p>

</div>
</div>
<a id="ae02369014b4b62d465a043eb83ba33e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae02369014b4b62d465a043eb83ba33e1">&#9670;&nbsp;</a></span>HTestOneBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HTestOneBlock </td>
          <td>(</td>
          <td class="paramtype">short []&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last_dc_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long []&#160;</td>
          <td class="paramname"><em>dc_counts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long []&#160;</td>
          <td class="paramname"><em>ac_counts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Huffman coding optimization.</p>
<p>We first scan the supplied data and count the number of uses of each symbol that is to be Huffman-coded. (This process MUST agree with the code above.) Then we build a Huffman coding tree for the observed counts. Symbols which are not needed at all for the particular image are not assigned any code, which saves space in the DHT marker as well as in the compressed data. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00566">566</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="comment">/* Encode the DC coefficient difference per section F.1.2.1 */</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            var temp = block[0] - last_dc_val;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">if</span> (temp &lt; 0)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                temp = -temp;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="comment">/* Find the number of bits needed for the magnitude of the coefficient */</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            var nbits = 0;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">while</span> (temp != 0)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                nbits++;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                temp &gt;&gt;= 1;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="comment">/* Check for out-of-range coefficient values.</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">             * Since we&#39;re encoding a difference, the range limit is twice as much.</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">if</span> (nbits &gt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">MAX_COEF_BITS</a> + 1)</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_DCT_COEF);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="comment">/* Count the Huffman symbol for the number of bits */</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            dc_counts[nbits]++;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="comment">/* Encode the AC coefficients per section F.1.2.2 */</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            var r = 0;          <span class="comment">/* r = run length of zeros */</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            var Se = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a7583dd89bbd2307e49d2cac5fbafa818">lim_Se</a>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            var natural_order = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0b61f07bc77117bff7580e77f2ceab13">natural_order</a>;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">for</span> (var k = 1; k &lt;= Se; k++)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                temp = block[natural_order[k]];</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                <span class="keywordflow">if</span> (temp == 0)</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    r++;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    <span class="comment">/* if run length &gt; 15, must emit special run-length-16 codes (0xF0) */</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    <span class="keywordflow">while</span> (r &gt; 15)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                        ac_counts[0xF0]++;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                        r -= 16;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    <span class="comment">/* Find the number of bits needed for the magnitude of the coefficient */</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                    <span class="keywordflow">if</span> (temp &lt; 0)</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        temp = -temp;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    <span class="comment">/* Find the number of bits needed for the magnitude of the coefficient */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    nbits = 1;      <span class="comment">/* there must be at least one 1 bit */</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    <span class="keywordflow">while</span> ((temp &gt;&gt;= 1) != 0)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        nbits++;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                    }</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    <span class="comment">/* Check for out-of-range coefficient values */</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    <span class="keywordflow">if</span> (nbits &gt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">MAX_COEF_BITS</a>)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                    {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                        <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_DCT_COEF);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                    }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                    <span class="comment">/* Count Huffman symbol for run length / number of bits */</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                    ac_counts[(r &lt;&lt; 4) + nbits]++;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    r = 0;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="comment">/* If the last coef(s) were zero, emit an end-of-block code */</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">if</span> (r &gt; 0)</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                ac_counts[0]++;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_adb25956e854fc7f9a1f0aff03df2ade5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#adb25956e854fc7f9a1f0aff03df2ade5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS</a></div><div class="ttdeci">const int MAX_COEF_BITS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">HuffmanEntropyEncoder.cs:29</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a7583dd89bbd2307e49d2cac5fbafa818"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a7583dd89bbd2307e49d2cac5fbafa818">BitMiracle.LibJpeg.Classic.JpegCompressStruct.lim_Se</a></div><div class="ttdeci">internal int lim_Se</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00249">JpegCompressStruct.cs:249</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a0b61f07bc77117bff7580e77f2ceab13"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a0b61f07bc77117bff7580e77f2ceab13">BitMiracle.LibJpeg.Classic.JpegCompressStruct.natural_order</a></div><div class="ttdeci">internal int [] natural_order</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00248">JpegCompressStruct.cs:248</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00249">BitMiracle.LibJpeg.Classic.JpegCompressStruct.lim_Se</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS</a>, and <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00248">BitMiracle.LibJpeg.Classic.JpegCompressStruct.natural_order</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather()</a>.</p>

</div>
</div>
<a id="a644cc989fe35c9ade09f7468cc84e460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644cc989fe35c9ade09f7468cc84e460">&#9670;&nbsp;</a></span>IRightShift()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.IRightShift </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shft</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>IRIGHT_SHIFT is like RIGHT_SHIFT, but works on int rather than int. We assume that int right shift is unsigned if int right shift is, which should be safe. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00927">927</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordflow">if</span> (x &lt; 0)</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                <span class="keywordflow">return</span> (x &gt;&gt; shft) | ((~0) &lt;&lt; (16 - shft));</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <span class="keywordflow">return</span> x &gt;&gt; shft;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        }</div></div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>.</p>

</div>
</div>
<a id="a0c86e5a81c0792284f4a508179958546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c86e5a81c0792284f4a508179958546">&#9670;&nbsp;</a></span>JpegGenOptimalTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.JpegGenOptimalTable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d74/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_j_huffman_table.html">JHuffmanTable</a>&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long []&#160;</td>
          <td class="paramname"><em>freq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Generate the best Huffman code table for the given counts, fill htbl.</p>
<p>The JPEG standard requires that no symbol be assigned a codeword of all one bits (so that padding bits added at the end of a compressed segment can't look like a valid code). Because of the canonical ordering of codewords, this just means that there must be an unused slot in the longest codeword length category. Section K.2 of the JPEG spec suggests reserving such a slot by pretending that symbol 256 is a valid symbol with count 1. In theory that's not optimal; giving it count zero but including it in the symbol set anyway should give a better Huffman code. But the theoretically better code actually seems to come out worse in practice, because it produces more all-ones bytes (which incur stuffed zero bytes in the final file). In any case the difference is tiny. </p>
<p>The JPEG standard requires Huffman codes to be no more than 16 bits long. If some symbols have a very small but nonzero probability, the Huffman tree must be adjusted to meet the code length restriction. We currently use the adjustment method suggested in JPEG section K.2. This method is <em>not</em> optimal; it may not choose the best possible limited-length code. But typically only very-low-frequency symbols will be given less-than-optimal lengths, so the code is almost optimal. Experimental comparisons against an optimal limited-length-code algorithm indicate that the difference is microscopic &mdash; usually less than a hundredth of a percent of total size. So the extra complexity of an optimal algorithm doesn't seem worthwhile. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01451">1451</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_CLEN = 32;     <span class="comment">/* assumed maximum initial code length */</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            var bits = <span class="keyword">new</span> <span class="keywordtype">byte</span>[MAX_CLEN + 1];   <span class="comment">/* bits[k] = # of symbols with code length k */</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            var codesize = <span class="keyword">new</span> <span class="keywordtype">int</span>[257];      <span class="comment">/* codesize[k] = code length of symbol k */</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            var others = <span class="keyword">new</span> <span class="keywordtype">int</span>[257];        <span class="comment">/* next symbol in current branch of tree */</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <span class="keywordtype">int</span> c1, c2;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <span class="keywordtype">int</span> p, i, j;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            <span class="keywordtype">long</span> v;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <span class="comment">/* This algorithm is explained in section K.2 of the JPEG standard */</span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; 257; i++)</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            {</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                others[i] = -1;     <span class="comment">/* init links to empty */</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            }</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            freq[256] = 1;      <span class="comment">/* make sure 256 has a nonzero count */</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            <span class="comment">/* Including the pseudo-symbol 256 in the Huffman procedure guarantees</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="comment">            * that no real symbol is given code-value of all ones, because 256</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment">            * will be placed last in the largest codeword category.</span></div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            <span class="comment">/* Huffman&#39;s basic algorithm to assign optimal code lengths to symbols */</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            <span class="keywordflow">for</span> (; ; )</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            {</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                <span class="comment">/* Find the smallest nonzero frequency, set c1 = its symbol */</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                <span class="comment">/* In case of ties, take the larger symbol number */</span></div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                c1 = -1;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                v = 1000000000L;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                <span class="keywordflow">for</span> (i = 0; i &lt;= 256; i++)</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                {</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                    <span class="keywordflow">if</span> (freq[i] != 0 &amp;&amp; freq[i] &lt;= v)</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                    {</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                        v = freq[i];</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                        c1 = i;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                    }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                }</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                <span class="comment">/* Find the next smallest nonzero frequency, set c2 = its symbol */</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                <span class="comment">/* In case of ties, take the larger symbol number */</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                c2 = -1;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                v = 1000000000L;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                <span class="keywordflow">for</span> (i = 0; i &lt;= 256; i++)</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                    <span class="keywordflow">if</span> (freq[i] != 0 &amp;&amp; freq[i] &lt;= v &amp;&amp; i != c1)</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                    {</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                        v = freq[i];</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                        c2 = i;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                    }</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                }</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                <span class="comment">/* Done if we&#39;ve merged everything into one frequency */</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                <span class="keywordflow">if</span> (c2 &lt; 0)</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                {</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                }</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                <span class="comment">/* Else merge the two counts/trees */</span></div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                freq[c1] += freq[c2];</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                freq[c2] = 0;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                <span class="comment">/* Increment the codesize of everything in c1&#39;s tree branch */</span></div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                codesize[c1]++;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                <span class="keywordflow">while</span> (others[c1] &gt;= 0)</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                {</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                    c1 = others[c1];</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                    codesize[c1]++;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                }</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                others[c1] = c2;        <span class="comment">/* chain c2 onto c1&#39;s tree branch */</span></div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                <span class="comment">/* Increment the codesize of everything in c2&#39;s tree branch */</span></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                codesize[c2]++;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                <span class="keywordflow">while</span> (others[c2] &gt;= 0)</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                    c2 = others[c2];</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                    codesize[c2]++;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                }</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            }</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            <span class="comment">/* Now count the number of symbols of each code length */</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt;= 256; i++)</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            {</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                <span class="keywordflow">if</span> (codesize[i] != 0)</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                {</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                    <span class="comment">/* The JPEG standard seems to think that this can&#39;t happen, */</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                    <span class="comment">/* but I&#39;m paranoid... */</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                    <span class="keywordflow">if</span> (codesize[i] &gt; MAX_CLEN)</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                    {</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                        <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_HUFF_CLEN_OVERFLOW);</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                    }</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                    bits[codesize[i]]++;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                }</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            }</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            <span class="comment">/* JPEG doesn&#39;t allow symbols with code lengths over 16 bits, so if the pure</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">            * Huffman procedure assigned any such lengths, we must adjust the coding.</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">            * Here is what the JPEG spec says about how this next bit works:</span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">            * Since symbols are paired for the longest Huffman code, the symbols are</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">            * removed from this length category two at a time.  The prefix for the pair</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">            * (which is one bit shorter) is allocated to one of the pair; then,</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment">            * skipping the BITS entry for that prefix length, a code word from the next</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="comment">            * shortest nonzero BITS entry is converted into a prefix for two code words</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment">            * one bit longer.</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <span class="keywordflow">for</span> (i = MAX_CLEN; i &gt; 16; i--)</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                <span class="keywordflow">while</span> (bits[i] &gt; 0)</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                {</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                    j = i - 2;      <span class="comment">/* find length of new prefix to be used */</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                    <span class="keywordflow">while</span> (bits[j] == 0)</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                    {</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                        j--;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                    }</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                    bits[i] -= 2;       <span class="comment">/* remove two symbols */</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                    bits[i - 1]++;      <span class="comment">/* one goes in this length */</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                    bits[j + 1] += 2;       <span class="comment">/* two new symbols in this length */</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    bits[j]--;      <span class="comment">/* symbol of this length is now a prefix */</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            }</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            <span class="comment">/* Remove the count for the pseudo-symbol 256 from the largest codelength */</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <span class="keywordflow">while</span> (bits[i] == 0)        <span class="comment">/* find largest codelength still in use */</span></div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                i--;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            }</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            bits[i]--;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            <span class="comment">/* Return final symbol counts (only for lengths 0..16) */</span></div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            Buffer.BlockCopy(bits, 0, htbl.Bits, 0, htbl.Bits.Length);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            <span class="comment">/* Return a list of the symbols sorted by code length */</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <span class="comment">/* It&#39;s not real clear to me why we don&#39;t need to consider the codelength</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">            * changes made above, but the JPEG spec seems to think this works.</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            p = 0;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <span class="keywordflow">for</span> (i = 1; i &lt;= MAX_CLEN; i++)</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            {</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt;= 255; j++)</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                {</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                    <span class="keywordflow">if</span> (codesize[j] == i)</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                    {</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                        htbl.Huffval[p] = (byte)j;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                        p++;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                    }</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                }</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            }</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="comment">/* Set sent_table false so updated table will be written to JPEG file. */</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            htbl.SentTable = <span class="keyword">false</span>;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d13/_j_huffman_table_8cs_source.html#l00012">BitMiracle.LibJpeg.Classic.JHuffmanTable.Bits</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d8/d13/_j_huffman_table_8cs_source.html#l00014">BitMiracle.LibJpeg.Classic.JHuffmanTable.Huffval</a>, and <a class="el" href="../../d8/d13/_j_huffman_table_8cs_source.html#l00028">BitMiracle.LibJpeg.Classic.JHuffmanTable.SentTable</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00380">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassGather()</a>.</p>

</div>
</div>
<a id="a9283007615c6922f1e6775887a291a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9283007615c6922f1e6775887a291a14">&#9670;&nbsp;</a></span>JpegMakeCDerivedTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.JpegMakeCDerivedTable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tblno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ref <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a>&#160;</td>
          <td class="paramname"><em>dtbl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expand a Huffman table definition into the derived format Compute the derived values for a Huffman table. This routine also performs some validation checks on the table. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01323">1323</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <span class="comment">/* Note that huffsize[] and huffcode[] are filled in code-length order,</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">            * paralleling the order of the symbols themselves in htbl.huffval[].</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="comment">/* Find the input Huffman table */</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="keywordflow">if</span> (tblno &lt; 0 || tblno &gt;= JpegConstants.NUM_HUFF_TBLS)</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            {</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_NO_HUFF_TABLE, tblno);</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            }</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            var htbl = isDC ? <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a78d576a417c1a19e677415f5de6a9e91">m_dc_huff_tbl_ptrs</a>[tblno] : <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad9cc231157fdc392e4141fbccd5940dc">m_ac_huff_tbl_ptrs</a>[tblno];</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <span class="keywordflow">if</span> (htbl is <span class="keyword">null</span>)</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            {</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_NO_HUFF_TABLE, tblno);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="comment">/* Allocate a workspace if we haven&#39;t already done so. */</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="keywordflow">if</span> (dtbl is <span class="keyword">null</span>)</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                dtbl = <span class="keyword">new</span> CDerivedTable();</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            <span class="comment">/* Figure C.1: make table of Huffman code length for each symbol */</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            var p = 0;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            var huffsize = <span class="keyword">new</span> <span class="keywordtype">char</span>[257];</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <span class="keywordflow">for</span> (var l = 1; l &lt;= 16; l++)</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                <span class="keywordtype">int</span> i = htbl.Bits[l];</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                <span class="keywordflow">if</span> (p + i &gt; 256)    <span class="comment">/* protect against table overrun */</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_HUFF_TABLE);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                }</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                <span class="keywordflow">while</span> (i-- != 0)</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                    huffsize[p++] = (char)l;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                }</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            huffsize[p] = (char)0;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            var lastp = p;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            <span class="comment">/* Figure C.2: generate the codes themselves */</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <span class="comment">/* We also validate that the counts represent a legal Huffman code tree. */</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            var code = 0;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="keywordtype">int</span> si = huffsize[0];</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            p = 0;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            var huffcode = <span class="keyword">new</span> <span class="keywordtype">int</span>[257];</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <span class="keywordflow">while</span> (huffsize[p] != 0)</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            {</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                <span class="keywordflow">while</span> (huffsize[p] == si)</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                {</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                    huffcode[p++] = code;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                    code++;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                }</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <span class="comment">/* code is now 1 more than the last code used for codelength si; but</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">                * it must still fit in si bits, since no code is allowed to be all ones.</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">                */</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                <span class="keywordflow">if</span> (code &gt;= (1 &lt;&lt; si))</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                {</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_HUFF_TABLE);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                }</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                code &lt;&lt;= 1;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                si++;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            <span class="comment">/* Figure C.3: generate encoding tables */</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <span class="comment">/* These are code and size indexed by symbol value */</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <span class="comment">/* Set all codeless symbols to have code length 0;</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">            * this lets us detect duplicate VAL entries here, and later</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">            * allows emit_bits to detect any attempt to emit such symbols.</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            Array.Clear(dtbl.ehufsi, 0, dtbl.ehufsi.Length);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <span class="comment">/* This is also a convenient place to check for out-of-range</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment">            * and duplicated VAL entries.  We allow 0..255 for AC symbols</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">            * but only 0..15 for DC.  (We could constrain them further</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment">            * based on data depth and mode, but this seems enough.)</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            var maxsymbol = isDC ? 15 : 255;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <span class="keywordflow">for</span> (p = 0; p &lt; lastp; p++)</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            {</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                <span class="keywordtype">int</span> i = htbl.Huffval[p];</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                <span class="keywordflow">if</span> (i &gt; maxsymbol || dtbl.ehufsi[i] != 0)</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                {</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_HUFF_TABLE);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                }</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                dtbl.ehufco[i] = huffcode[p];</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                dtbl.ehufsi[i] = huffsize[p];</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;            }</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a78d576a417c1a19e677415f5de6a9e91"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a78d576a417c1a19e677415f5de6a9e91">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_dc_huff_tbl_ptrs</a></div><div class="ttdeci">internal JHuffmanTable [] m_dc_huff_tbl_ptrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00153">JpegCompressStruct.cs:153</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ad9cc231157fdc392e4141fbccd5940dc"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad9cc231157fdc392e4141fbccd5940dc">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_ac_huff_tbl_ptrs</a></div><div class="ttdeci">internal JHuffmanTable [] m_ac_huff_tbl_ptrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00154">JpegCompressStruct.cs:154</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00154">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_ac_huff_tbl_ptrs</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00153">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_dc_huff_tbl_ptrs</a>, and <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00031">BitMiracle.LibJpeg.Classic.JpegConstants.NUM_HUFF_TBLS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a505043fe0292a63a7dc0e3f2477d84b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a505043fe0292a63a7dc0e3f2477d84b4">&#9670;&nbsp;</a></span>StartPass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>gather_statistics</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize for a Huffman-compressed scan. If gather_statistics is true, we do not output anything during the scan, just count the Huffman symbols used and generate Huffman code tables. </p>

<p>Implements <a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a3c95779b000c5c5f6cc696b018414873">BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">118</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">gatherStatistics</a> = gather_statistics;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">if</span> (gather_statistics)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <a class="code" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a126b4cc69cce5499f0fd2d3fdd5cc066">finishPass</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8fad155053de5cda0a27c08e92a2743a">FinishPassGather</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <a class="code" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a126b4cc69cce5499f0fd2d3fdd5cc066">finishPass</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ae31009f7d4f7e2d3bdcec2c96330631b">FinishPassHuffman</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ab706d6aeb653b78d304af30808ecfcaa">m_progressive_mode</a>)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="comment">/* We assume the scan parameters are already validated. */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="comment">/* Select execution routine */</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a33b16a0fc1e9b829c32761110ba5871e">m_Ah</a> == 0)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">m_Ss</a> == 0)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                        <a class="code" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a4c5615db308b78ab49c0667551117c04">encodeMcu</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0072cce2e49fe730a9fff98a607ceaa2">EncodeMcuDCFirst</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        <a class="code" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a4c5615db308b78ab49c0667551117c04">encodeMcu</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a7a9e0d0f1295668c0e0541e53eef77fd">EncodeMcuACFirst</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">m_Ss</a> == 0)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                        <a class="code" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a4c5615db308b78ab49c0667551117c04">encodeMcu</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#acfaa06772059366ed322e6f67a2a3373">EncodeMcuDCRefine</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        <a class="code" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a4c5615db308b78ab49c0667551117c04">encodeMcu</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a54e31f8c4fd74a3bac607328d94b44b4">EncodeMcuACRefine</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        <span class="comment">/* AC refinement needs a correction bit buffer */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">bitBuffer</a> is <span class="keyword">null</span>)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">bitBuffer</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#acac6f041219796e58e2e9e7dc245b647">MAX_CORR_BITS</a>];</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <span class="comment">/* Initialize AC stuff */</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">acTblNo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">m_cur_comp_info</a>[0]].<a class="code" href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#ac3748ec5254ed3aab22d27ca9ca75db4">Ac_tbl_no</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">EOBRUN</a> = 0;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BE</a> = 0;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keywordflow">if</span> (gather_statistics)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <a class="code" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a4c5615db308b78ab49c0667551117c04">encodeMcu</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3b5b1d6eab73b4fffa07c93bfbbfe372">EncodeMcuGather</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <a class="code" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a4c5615db308b78ab49c0667551117c04">encodeMcu</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab82253e8a9fd95496853044707c0d3e9">EncodeMcuHuffman</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">for</span> (var ci = 0; ci &lt; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">m_comps_in_scan</a>; ci++)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                var compptr = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">m_cur_comp_info</a>[ci]];</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="comment">/* DC needs no table for refinement scan */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">m_Ss</a> == 0 &amp;&amp; <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a33b16a0fc1e9b829c32761110ba5871e">m_Ah</a> == 0)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    var tbl = compptr.<a class="code" href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#a09ec1e38fdb713eddc241617c8bf29ea">Dc_tbl_no</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="keywordflow">if</span> (gather_statistics)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        <span class="comment">/* Check for invalid table index */</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        <span class="comment">/* (make_c_derived_tbl does this in the other path) */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        <span class="keywordflow">if</span> (tbl &lt; 0 || tbl &gt;= JpegConstants.NUM_HUFF_TBLS)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_NO_HUFF_TABLE, tbl);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                        }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                        <span class="comment">/* Allocate and zero the statistics tables */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                        <span class="comment">/* Note that jpeg_gen_optimal_table expects 257 entries in each table! */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a>[tbl] is <span class="keyword">null</span>)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a>[tbl] = <span class="keyword">new</span> <span class="keywordtype">long</span>[257];</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                        }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                            Array.Clear(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a>[tbl], 0, <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">dcCountPtrs</a>[tbl].Length);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                        <span class="comment">/* Compute derived values for Huffman tables */</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                        <span class="comment">/* We may do this more than once for a table, but it&#39;s not expensive */</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                        <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9283007615c6922f1e6775887a291a14">JpegMakeCDerivedTable</a>(<span class="keyword">true</span>, tbl, ref <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">dcDerivedTables</a>[tbl]);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="comment">/* Initialize DC predictions to 0 */</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">last_dc_val</a>[ci] = 0;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="comment">/* AC needs no table when not present */</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">m_Se</a> != 0)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    var tbl = compptr.Ac_tbl_no;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="keywordflow">if</span> (gather_statistics)</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        <span class="keywordflow">if</span> (tbl &lt; 0 || tbl &gt;= JpegConstants.NUM_HUFF_TBLS)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_NO_HUFF_TABLE, tbl);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a>[tbl] is <span class="keyword">null</span>)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a>[tbl] = <span class="keyword">new</span> <span class="keywordtype">long</span>[257];</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                            Array.Clear(<a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a>[tbl], 0, <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">acCountPtrs</a>[tbl].Length);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9283007615c6922f1e6775887a291a14">JpegMakeCDerivedTable</a>(<span class="keyword">false</span>, tbl, ref <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">acDerivedTables</a>[tbl]);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="comment">/* Initialize bit buffer to empty */</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aa4e02e0566d99bbde9be5842aadd252a">put_buffer</a> = 0;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">saved</a>.<a class="code" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#adc11bde960879ba373933766088f8723">put_bits</a> = 0;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="comment">/* Initialize restart stuff */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">restartsToGo</a> = <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">m_restart_interval</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <a class="code" href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">nextRestartNum</a> = 0;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        }</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_afbe65f91b7cdc3615ad5e4ac90c394ca"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#afbe65f91b7cdc3615ad5e4ac90c394ca">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a></div><div class="ttdeci">readonly long [][] acCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">HuffmanEntropyEncoder.cs:79</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a90cb922c30400fae723440516902d192"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a90cb922c30400fae723440516902d192">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a></div><div class="ttdeci">bool gatherStatistics</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">HuffmanEntropyEncoder.cs:84</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2ad13e11613db1476a64bba436bb3293"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2ad13e11613db1476a64bba436bb3293">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a></div><div class="ttdeci">internal int m_restart_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">JpegCompressStruct.cs:181</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ade50f413097515867769e960404659e9"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ade50f413097515867769e960404659e9">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a></div><div class="ttdeci">uint EOBRUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">HuffmanEntropyEncoder.cs:90</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_adc11bde960879ba373933766088f8723"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#adc11bde960879ba373933766088f8723">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_bits</a></div><div class="ttdeci">int put_bits</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00052">HuffmanEntropyEncoder.cs:52</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a18db5e4f97ed0b553c206a58b04c5a24"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a18db5e4f97ed0b553c206a58b04c5a24">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a></div><div class="ttdeci">readonly long [][] dcCountPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">HuffmanEntropyEncoder.cs:78</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ae31009f7d4f7e2d3bdcec2c96330631b"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ae31009f7d4f7e2d3bdcec2c96330631b">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassHuffman</a></div><div class="ttdeci">void FinishPassHuffman()</div><div class="ttdoc">Finish up at the end of a Huffman-compressed scan.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00315">HuffmanEntropyEncoder.cs:315</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_aa4e02e0566d99bbde9be5842aadd252a"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#aa4e02e0566d99bbde9be5842aadd252a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_buffer</a></div><div class="ttdeci">int put_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00051">HuffmanEntropyEncoder.cs:51</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a10e28b782f211f2fd6dcc12e79930dd0"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a10e28b782f211f2fd6dcc12e79930dd0">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables</a></div><div class="ttdeci">readonly CDerivedTable [] dcDerivedTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">HuffmanEntropyEncoder.cs:74</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder_html_a4c5615db308b78ab49c0667551117c04"><div class="ttname"><a href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a4c5615db308b78ab49c0667551117c04">BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder.encodeMcu</a></div><div class="ttdeci">EncodeMcuDelegate encodeMcu</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/_jpeg_entropy_encoder_8cs_source.html#l00011">JpegEntropyEncoder.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a3b5b1d6eab73b4fffa07c93bfbbfe372"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3b5b1d6eab73b4fffa07c93bfbbfe372">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather</a></div><div class="ttdeci">bool EncodeMcuGather(JBlock[][] MCU_data)</div><div class="ttdoc">Trial-encode one MCU's worth of Huffman-compressed coefficients. No data is actually output,...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">HuffmanEntropyEncoder.cs:344</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a1564682b2515fb505e5739050850bd24"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a1564682b2515fb505e5739050850bd24">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Se</a></div><div class="ttdeci">internal int m_Se</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00239">JpegCompressStruct.cs:239</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a13682838c868e486462be13d83156432"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a13682838c868e486462be13d83156432">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a></div><div class="ttdeci">readonly SavableState saved</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">HuffmanEntropyEncoder.cs:67</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a25444c66b19ff41d79a400d50869e250"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a25444c66b19ff41d79a400d50869e250">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</a></div><div class="ttdeci">char [] bitBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">HuffmanEntropyEncoder.cs:92</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ac3fb97f38b65c0c331a321e344e000e2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ac3fb97f38b65c0c331a321e344e000e2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a></div><div class="ttdeci">internal int [] m_cur_comp_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">JpegCompressStruct.cs:226</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_acfaa06772059366ed322e6f67a2a3373"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#acfaa06772059366ed322e6f67a2a3373">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCRefine</a></div><div class="ttdeci">bool EncodeMcuDCRefine(JBlock[][] MCU_data)</div><div class="ttdoc">MCU encoding for DC successive approximation refinement scan. Note: we assume such scans can be multi...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01145">HuffmanEntropyEncoder.cs:1145</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a33b16a0fc1e9b829c32761110ba5871e"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a33b16a0fc1e9b829c32761110ba5871e">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ah</a></div><div class="ttdeci">internal int m_Ah</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00240">JpegCompressStruct.cs:240</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state_html_ae1c5bc4f9dff3148fd55a015e0058978"><div class="ttname"><a href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html#ae1c5bc4f9dff3148fd55a015e0058978">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.last_dc_val</a></div><div class="ttdeci">int [] last_dc_val</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00053">HuffmanEntropyEncoder.cs:53</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a8fad155053de5cda0a27c08e92a2743a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8fad155053de5cda0a27c08e92a2743a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassGather</a></div><div class="ttdeci">void FinishPassGather()</div><div class="ttdoc">Finish up a statistics-gathering pass and create the new Huffman tables.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00380">HuffmanEntropyEncoder.cs:380</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2621b45c8f7fb905c1b3f1651d4c09c2"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2621b45c8f7fb905c1b3f1651d4c09c2">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a></div><div class="ttdeci">internal int m_Ss</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">JpegCompressStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_ab82253e8a9fd95496853044707c0d3e9"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#ab82253e8a9fd95496853044707c0d3e9">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman</a></div><div class="ttdeci">bool EncodeMcuHuffman(JBlock[][] MCU_data)</div><div class="ttdoc">Encode and output one MCU's worth of Huffman-compressed coefficients.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">HuffmanEntropyEncoder.cs:259</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a3af1c579eb44232c4a880070580a94b5"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a3af1c579eb44232c4a880070580a94b5">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a></div><div class="ttdeci">int nextRestartNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">HuffmanEntropyEncoder.cs:71</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info_html_ac3748ec5254ed3aab22d27ca9ca75db4"><div class="ttname"><a href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#ac3748ec5254ed3aab22d27ca9ca75db4">BitMiracle.LibJpeg.Classic.JpegComponentInfo.Ac_tbl_no</a></div><div class="ttdeci">int Ac_tbl_no</div><div class="ttdoc">AC entropy table selector (0..3)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00124">JpegComponentInfo.cs:124</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ab706d6aeb653b78d304af30808ecfcaa"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ab706d6aeb653b78d304af30808ecfcaa">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_progressive_mode</a></div><div class="ttdeci">internal bool m_progressive_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00207">JpegCompressStruct.cs:207</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a340bb96f854e655f8e8c1bb7d8d71907"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a340bb96f854e655f8e8c1bb7d8d71907">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a></div><div class="ttdeci">internal int m_comps_in_scan</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">JpegCompressStruct.cs:225</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a298715fd2b7d7620746c32bb524ceb5a"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a298715fd2b7d7620746c32bb524ceb5a">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">HuffmanEntropyEncoder.cs:86</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a0072cce2e49fe730a9fff98a607ceaa2"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a0072cce2e49fe730a9fff98a607ceaa2">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst</a></div><div class="ttdeci">bool EncodeMcuDCFirst(JBlock[][] MCU_data)</div><div class="ttdoc">MCU encoding for DC initial scan (either spectral selection, or first pass of successive approximatio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">HuffmanEntropyEncoder.cs:941</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a83ab6e2759ad843eac76211f18529e96"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a></div><div class="ttdeci">JpegComponentInfo [] Component_info</div><div class="ttdoc">Gets the components that appears in SOF.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">JpegCompressStruct.cs:624</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a7a9e0d0f1295668c0e0541e53eef77fd"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a7a9e0d0f1295668c0e0541e53eef77fd">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst</a></div><div class="ttdeci">bool EncodeMcuACFirst(JBlock[][] MCU_data)</div><div class="ttdoc">MCU encoding for AC initial scan (either spectral selection, or first pass of successive approximatio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">HuffmanEntropyEncoder.cs:1028</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder_html_a126b4cc69cce5499f0fd2d3fdd5cc066"><div class="ttname"><a href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#a126b4cc69cce5499f0fd2d3fdd5cc066">BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder.finishPass</a></div><div class="ttdeci">FinishPassDelegate finishPass</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/_jpeg_entropy_encoder_8cs_source.html#l00012">JpegEntropyEncoder.cs:12</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a21796c91ad4a1d6ad36d7ed44e31fd5e"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a21796c91ad4a1d6ad36d7ed44e31fd5e">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</a></div><div class="ttdeci">int acTblNo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">HuffmanEntropyEncoder.cs:89</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_acac6f041219796e58e2e9e7dc245b647"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#acac6f041219796e58e2e9e7dc245b647">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_CORR_BITS</a></div><div class="ttdeci">const int MAX_CORR_BITS</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00036">HuffmanEntropyEncoder.cs:36</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a07ef5f748b79f28787639cf4d51fff50"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a07ef5f748b79f28787639cf4d51fff50">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables</a></div><div class="ttdeci">readonly CDerivedTable [] acDerivedTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">HuffmanEntropyEncoder.cs:75</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info_html_a09ec1e38fdb713eddc241617c8bf29ea"><div class="ttname"><a href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#a09ec1e38fdb713eddc241617c8bf29ea">BitMiracle.LibJpeg.Classic.JpegComponentInfo.Dc_tbl_no</a></div><div class="ttdeci">int Dc_tbl_no</div><div class="ttdoc">DC entropy table selector (0..3)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00118">JpegComponentInfo.cs:118</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a8190c0fa8f3fd947ce60810ba60bb498"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a8190c0fa8f3fd947ce60810ba60bb498">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a></div><div class="ttdeci">int restartsToGo</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">HuffmanEntropyEncoder.cs:70</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a9283007615c6922f1e6775887a291a14"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a9283007615c6922f1e6775887a291a14">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.JpegMakeCDerivedTable</a></div><div class="ttdeci">void JpegMakeCDerivedTable(bool isDC, int tblno, ref CDerivedTable dtbl)</div><div class="ttdoc">Expand a Huffman table definition into the derived format Compute the derived values for a Huffman ta...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01323">HuffmanEntropyEncoder.cs:1323</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_abc305098f0c4abca4478f06c06e53610"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#abc305098f0c4abca4478f06c06e53610">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</a></div><div class="ttdeci">uint BE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">HuffmanEntropyEncoder.cs:91</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_html_a54e31f8c4fd74a3bac607328d94b44b4"><div class="ttname"><a href="../../d0/dd3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder.html#a54e31f8c4fd74a3bac607328d94b44b4">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine</a></div><div class="ttdeci">bool EncodeMcuACRefine(JBlock[][] MCU_data)</div><div class="ttdoc">MCU encoding for AC successive approximation refinement scan.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">HuffmanEntropyEncoder.cs:1183</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00124">BitMiracle.LibJpeg.Classic.JpegComponentInfo.Ac_tbl_no</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a>, <a class="el" href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.JpegComponentInfo.Dc_tbl_no</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables</a>, <a class="el" href="../../d0/d27/_jpeg_entropy_encoder_8cs_source.html#l00011">BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder.encodeMcu</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01145">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</a>, <a class="el" href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit()</a>, <a class="el" href="../../d0/d27/_jpeg_entropy_encoder_8cs_source.html#l00012">BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder.finishPass</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00380">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00315">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassHuffman()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01323">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.JpegMakeCDerivedTable()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00053">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.last_dc_val</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00240">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ah</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00225">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_comps_in_scan</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00226">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_cur_comp_info</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00207">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_progressive_mode</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00181">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_restart_interval</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00239">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Se</a>, <a class="el" href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00238">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_Ss</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00036">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_CORR_BITS</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</a>, <a class="el" href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00031">BitMiracle.LibJpeg.Classic.JpegConstants.NUM_HUFF_TBLS</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00052">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_bits</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00051">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.SavableState.put_buffer</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afbe65f91b7cdc3615ad5e4ac90c394ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbe65f91b7cdc3615ad5e4ac90c394ca">&#9670;&nbsp;</a></span>acCountPtrs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly long [][] BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acCountPtrs = new long[<a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a87cc1e72512884e58a3d12fb78f96384">JpegConstants.NUM_HUFF_TBLS</a>][]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00079">79</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00380">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00095">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HuffmanEntropyEncoder()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a07ef5f748b79f28787639cf4d51fff50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ef5f748b79f28787639cf4d51fff50">&#9670;&nbsp;</a></span>acDerivedTables</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a> [] BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acDerivedTables = new <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a>[<a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a87cc1e72512884e58a3d12fb78f96384">JpegConstants.NUM_HUFF_TBLS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00075">75</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00095">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HuffmanEntropyEncoder()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a21796c91ad4a1d6ad36d7ed44e31fd5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21796c91ad4a1d6ad36d7ed44e31fd5e">&#9670;&nbsp;</a></span>acTblNo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.acTblNo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00089">89</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="abc305098f0c4abca4478f06c06e53610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc305098f0c4abca4478f06c06e53610">&#9670;&nbsp;</a></span>BE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.BE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00091">91</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a25444c66b19ff41d79a400d50869e250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25444c66b19ff41d79a400d50869e250">&#9670;&nbsp;</a></span>bitBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char [] BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.bitBuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00092">92</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00817">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBufferedBits()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00095">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HuffmanEntropyEncoder()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a298715fd2b7d7620746c32bb524ceb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a298715fd2b7d7620746c32bb524ceb5a">&#9670;&nbsp;</a></span>cinfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html">JpegCompressStruct</a> BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.cinfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00086">86</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00669">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsS()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00657">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00652">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitByteS()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00867">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartS()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01145">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00434">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeOneBlock()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00380">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00315">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassHuffman()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00566">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HTestOneBlock()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00095">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HuffmanEntropyEncoder()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01451">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.JpegGenOptimalTable()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01323">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.JpegMakeCDerivedTable()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a18db5e4f97ed0b553c206a58b04c5a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18db5e4f97ed0b553c206a58b04c5a24">&#9670;&nbsp;</a></span>dcCountPtrs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly long [][] BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcCountPtrs = new long[<a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a87cc1e72512884e58a3d12fb78f96384">JpegConstants.NUM_HUFF_TBLS</a>][]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00078">78</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00790">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitDCSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00380">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00095">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HuffmanEntropyEncoder()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a10e28b782f211f2fd6dcc12e79930dd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e28b782f211f2fd6dcc12e79930dd0">&#9670;&nbsp;</a></span>dcDerivedTables</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a> [] BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.dcDerivedTables = new <a class="el" href="../../da/ded/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_c_derived_table.html">CDerivedTable</a>[<a class="el" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a87cc1e72512884e58a3d12fb78f96384">JpegConstants.NUM_HUFF_TBLS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00074">74</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00790">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitDCSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00095">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HuffmanEntropyEncoder()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="ade50f413097515867769e960404659e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade50f413097515867769e960404659e9">&#9670;&nbsp;</a></span>EOBRUN</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EOBRUN</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00090">90</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00832">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitEOBRun()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a90cb922c30400fae723440516902d192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90cb922c30400fae723440516902d192">&#9670;&nbsp;</a></span>gatherStatistics</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.gatherStatistics</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00084">84</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00803">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitACSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00817">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBufferedBits()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00790">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitDCSymbol()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="adb25956e854fc7f9a1f0aff03df2ade5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb25956e854fc7f9a1f0aff03df2ade5">&#9670;&nbsp;</a></span>MAX_COEF_BITS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_COEF_BITS = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00029">29</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00434">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeOneBlock()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00566">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.HTestOneBlock()</a>.</p>

</div>
</div>
<a id="acac6f041219796e58e2e9e7dc245b647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac6f041219796e58e2e9e7dc245b647">&#9670;&nbsp;</a></span>MAX_CORR_BITS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.MAX_CORR_BITS = 1000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00036">36</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a3af1c579eb44232c4a880070580a94b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3af1c579eb44232c4a880070580a94b5">&#9670;&nbsp;</a></span>nextRestartNum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.nextRestartNum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00071">71</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01145">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a8190c0fa8f3fd947ce60810ba60bb498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8190c0fa8f3fd947ce60810ba60bb498">&#9670;&nbsp;</a></span>restartsToGo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.restartsToGo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00070">70</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01028">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01183">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuACRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l01145">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCRefine()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a13682838c868e486462be13d83156432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13682838c868e486462be13d83156432">&#9670;&nbsp;</a></span>saved</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a> BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.saved = new <a class="el" href="../../d1/da3/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_huffman_entropy_encoder_1_1_savable_state.html">SavableState</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00067">67</a> of file <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00727">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitBitsE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00895">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EmitRestartE()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00941">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuDCFirst()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00344">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuGather()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00259">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.EncodeMcuHuffman()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00315">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FinishPassHuffman()</a>, <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00782">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.FlushBitsE()</a>, and <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a4c5615db308b78ab49c0667551117c04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c5615db308b78ab49c0667551117c04">&#9670;&nbsp;</a></span>encodeMcu</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#abe2d0c4dac17b0d1a75218699e4519dc">EncodeMcuDelegate</a> BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder.encodeMcu</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d27/_jpeg_entropy_encoder_8cs_source.html#l00011">11</a> of file <a class="el" href="../../d0/d27/_jpeg_entropy_encoder_8cs_source.html">JpegEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div></div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<a id="a126b4cc69cce5499f0fd2d3fdd5cc066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126b4cc69cce5499f0fd2d3fdd5cc066">&#9670;&nbsp;</a></span>finishPass</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d7e/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_entropy_encoder.html#ac444c88122d45d7b7fdf994ecca7a9ac">FinishPassDelegate</a> BitMiracle.LibJpeg.Classic.Internal.JpegEntropyEncoder.finishPass</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d27/_jpeg_entropy_encoder_8cs_source.html#l00012">12</a> of file <a class="el" href="../../d0/d27/_jpeg_entropy_encoder_8cs_source.html">JpegEntropyEncoder.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;{ <span class="keyword">get</span>; <span class="keyword">set</span>; }</div></div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html#l00118">BitMiracle.LibJpeg.Classic.Internal.HuffmanEntropyEncoder.StartPass()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/smcbeth.DLS-INC/Projects/Yarrow/Juniper/src/Juniper.Client/ThirdParty/LibJpeg.NET/Classic/Internal/<a class="el" href="../../d0/d1c/_huffman_entropy_encoder_8cs_source.html">HuffmanEntropyEncoder.cs</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
