<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" type="image/png" href="favicon.png">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="theme-color" content="black">
<meta name="description" content="Juniper: Cross-platform VR and AR Framework">
<meta name="keywords" content=".NET, C#, units of measure, conversion, open source software, MIT License">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@Sean_McBeth">
<meta property="og:site_name" content="Juniper">
<meta property="og:description" content="Juniper: Cross-platform VR and AR Framework">
<meta name="twitter:description" content="Juniper: Cross-platform VR and AR Framework">
<meta property="og:url" content="https://capnmidnight.github.io/Juniper">
<meta name="twitter:image" content="http://capnmidnight.github.io/Juniper/$logo">
<meta property="og:image" content="http://capnmidnight.github.io/Juniper/$logo">
<meta property="og:title" content="Juniper: C:/Users/smcbeth.DLS-INC/Projects/Yarrow/Juniper/src/Juniper.Client/ThirdParty/LibJpeg.NET/Classic/Internal/JpegColorConverter.cs Source File">
<meta name="twitter:title" content="Juniper: C:/Users/smcbeth.DLS-INC/Projects/Yarrow/Juniper/src/Juniper.Client/ThirdParty/LibJpeg.NET/Classic/Internal/JpegColorConverter.cs Source File">
<title>Juniper: C:/Users/smcbeth.DLS-INC/Projects/Yarrow/Juniper/src/Juniper.Client/ThirdParty/LibJpeg.NET/Classic/Internal/JpegColorConverter.cs Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <a href="https://github.com/capnmidnight/Juniper" style="position:absolute;right:0;top:0"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149" alt="Fork me on GitHub" data-recalc-dims="1"></a>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <a id="projectlogo" href="https://www.github.com/capnmidnight/Juniper" target="_blank" rel="noopener" title="Project repository"><img alt="Logo" src="../../logo.png"/></a>
  <div id="projectalign">
  	<a id="projectname" href="https://www.github.com/capnmidnight/Juniper" target="_blank" rel="noopener" title="Project repository">Juniper</a>
   	<div id="projectbrief">Cross-platform VR and AR Framework</div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_42cd2f03e2bb0b3eb36c1f9e654049a1.html">Juniper.Client</a></li><li class="navelem"><a class="el" href="../../dir_562f36158f95734f9a41067175e10cca.html">ThirdParty</a></li><li class="navelem"><a class="el" href="../../dir_4fe9efb49a1dcd7136696ca2fe9afe2b.html">LibJpeg.NET</a></li><li class="navelem"><a class="el" href="../../dir_bbebdc23a8aef741fa74530f4815a501.html">Classic</a></li><li class="navelem"><a class="el" href="../../dir_35c349a1e94a56e2797023fe67843417.html">Internal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">JpegColorConverter.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d8d/_jpeg_color_converter_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file contains input colorspace conversion routines.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d7/dcd/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal.html">BitMiracle.LibJpeg.Classic.Internal</a></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    /// &lt;summary&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">    /// Colorspace conversion</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">    /// &lt;/summary&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html">   10</a></span>&#160;<span class="comment"></span>    <span class="keyword">internal</span> <span class="keyword">class </span><a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html">JpegColorConverter</a></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        <span class="comment">/**************** RGB -&gt; YCbCr conversion: most common case **************/</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">         * YCbCr is defined per Recommendation ITU-R BT.601-7 (03/2011),</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">         * previously known as Recommendation CCIR 601-1, except that Cb and Cr</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">         * are normalized to the range 0..MAXJSAMPLE rather than -0.5 .. 0.5.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">         * sRGB (standard RGB color space) is defined per IEC 61966-2-1:1999.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">         * sYCC (standard luma-chroma-chroma color space with extended gamut)</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">         * is defined per IEC 61966-2-1:1999 Amendment A1:2003 Annex F.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">         * bg-sRGB and bg-sYCC (big gamut standard color spaces)</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">         * are defined per IEC 61966-2-1:1999 Amendment A1:2003 Annex G.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">         * Note that the derived conversion coefficients given in some of these</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">         * documents are imprecise.  The general conversion equations are</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">         *  Y  = Kr * R + (1 - Kr - Kb) * G + Kb * B</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">         *  Cb = 0.5 * (B - Y) / (1 - Kb)</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">         *  Cr = 0.5 * (R - Y) / (1 - Kr)</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">         * With Kr = 0.299 and Kb = 0.114 (derived according to SMPTE RP 177-1993</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">         * from the 1953 FCC NTSC primaries and CIE Illuminant C),</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">         * the conversion equations to be implemented are therefore</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">         *  Y  =  0.299 * R + 0.587 * G + 0.114 * B</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">         *  Cb = -0.168735892 * R - 0.331264108 * G + 0.5 * B + CENTERJSAMPLE</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">         *  Cr =  0.5 * R - 0.418687589 * G - 0.081312411 * B + CENTERJSAMPLE</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">         * Note: older versions of the IJG code used a zero offset of MAXJSAMPLE/2,</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">         * rather than CENTERJSAMPLE, for Cb and Cr.  This gave equal positive and</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">         * negative swings for Cb/Cr, but meant that grayscale values (Cb=Cr=0)</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">         * were not represented exactly.  Now we sacrifice exact representation of</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">         * maximum red and maximum blue in order to get exact grayscales.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">         * To avoid floating-point arithmetic, we represent the fractional constants</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">         * as integers scaled up by 2^16 (about 4 digits precision); we have to divide</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">         * the products by 2^16, with appropriate rounding, to get the correct answer.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">         * For even more speed, we avoid doing any multiplications in the inner loop</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">         * by precalculating the constants times R,G,B for all possible values.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">         * For 8-bit JSAMPLEs this is very reasonable (only 256 entries per table);</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">         * for 9-bit to 12-bit samples it is still acceptable.  It&#39;s not very</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">         * reasonable for 16-bit samples, but if you want lossless storage you</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">         * shouldn&#39;t be changing colorspace anyway.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">         * The CENTERJSAMPLE offsets and the rounding fudge-factor of 0.5 are included</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">         * in the tables to save adding them separately in the inner loop.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">   54</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a> = 16;  <span class="comment">/* speediest right-shift on some machines */</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a5fbc992b21955f0b8b8f844d1c88bbc8">   55</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a5fbc992b21955f0b8b8f844d1c88bbc8">CBCR_OFFSET</a> = <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a275408aeccb689ab281f10f4375ea3f9">CENTERJSAMPLE</a> &lt;&lt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebd3c5967ca5ec8dd8cdc3e638bcd3b2">   56</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebd3c5967ca5ec8dd8cdc3e638bcd3b2">ONE_HALF</a> = 1 &lt;&lt; (<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a> - 1);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="comment">// We allocate one big table and divide it up into eight parts, instead of</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="comment">// doing eight alloc_small requests.  This lets us use a single table base</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="comment">// address, which can be held in a register in the inner loops on many</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="comment">// machines (more than can hold all eight addresses, anyway).</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aba55ae79a7c121bb825ba44fc9b3d9b3">   62</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aba55ae79a7c121bb825ba44fc9b3d9b3">R_Y_OFF</a> = 0;           <span class="comment">/* offset to R =&gt; Y section */</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a804da77dfb0319e27aa72af03242442e">   63</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a804da77dfb0319e27aa72af03242442e">G_Y_OFF</a> = (1 * (<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> + 1));  <span class="comment">/* offset to G =&gt; Y section */</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a3452f796f6cd387dfe0878b4d01cda34">   64</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a3452f796f6cd387dfe0878b4d01cda34">B_Y_OFF</a> = (2 * (<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> + 1));  <span class="comment">/* etc. */</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab6247940e9b90489cc0c723639a2b2aa">   65</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab6247940e9b90489cc0c723639a2b2aa">R_CB_OFF</a> = (3 * (<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> + 1));</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab659d0a5bde72ad6633d65dbf27d84a3">   66</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab659d0a5bde72ad6633d65dbf27d84a3">G_CB_OFF</a> = (4 * (<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> + 1));</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebc889418a9a4ef4c93a817b083d86bc">   67</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebc889418a9a4ef4c93a817b083d86bc">B_CB_OFF</a> = (5 * (<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> + 1));</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7669096a4b626ebc483369dbbee77c34">   68</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7669096a4b626ebc483369dbbee77c34">R_CR_OFF</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebc889418a9a4ef4c93a817b083d86bc">B_CB_OFF</a>;        <span class="comment">/* B=&gt;Cb, R=&gt;Cr are the same */</span></div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af476edfeefd48b000875553e31527ec0">   69</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af476edfeefd48b000875553e31527ec0">G_CR_OFF</a> = (6 * (<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> + 1));</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af59269c59c61cfcd16b4be2296986214">   70</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af59269c59c61cfcd16b4be2296986214">B_CR_OFF</a> = (7 * (<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> + 1));</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a942861f5794adfa715a5d52a68b027b2">   71</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a942861f5794adfa715a5d52a68b027b2">TABLE_SIZE</a> = (8 * (<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> + 1));</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">   73</a></span>&#160;        <span class="keyword">private</span> readonly <a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html">JpegCompressStruct</a> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">   75</a></span>&#160;        <span class="keyword">private</span> readonly <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">m_useNullStart</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">   77</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">int</span>[] <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>;     <span class="comment">/* =&gt; table for RGB to YCbCr conversion */</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keyword">internal</span> delegate <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a814c0e9a8de4b0e81511484ac8fb7e40">ConvertMethod</a>(<span class="keywordtype">byte</span>[][] input_buf, <span class="keywordtype">int</span> input_row, <span class="keywordtype">byte</span>[][][] output_buf, <span class="keywordtype">int</span> output_row, <span class="keywordtype">int</span> num_rows);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">        /// &lt;para&gt;Convert some rows of samples to the JPEG colorspace.&lt;/para&gt;</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">        /// &lt;para&gt;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">        /// Note that we change from the application&#39;s interleaved-pixel format</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">        /// to our internal noninterleaved, one-plane-per-component format.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">        /// The input buffer is therefore three times as wide as the output buffer.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">        /// &lt;/para&gt;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">        /// &lt;para&gt;</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">        /// A starting row offset is provided only for the output buffer.  The caller</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">        /// can easily adjust the passed input_buf value to accommodate any row</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">        /// offset required on that side.</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">        /// &lt;/para&gt;</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">   94</a></span>&#160;<span class="comment"></span>        <span class="keyword">internal</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a814c0e9a8de4b0e81511484ac8fb7e40">ConvertMethod</a> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#adbf4a335a4a7dde010ba3149ee358469">   96</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#adbf4a335a4a7dde010ba3149ee358469">JpegColorConverter</a>(<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html">JpegCompressStruct</a> cinfo)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a> = cinfo;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="comment">/* set start_pass to null method until we find out differently */</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">m_useNullStart</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="comment">/* Make sure input_components agrees with in_color_space */</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">switch</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">m_in_color_space</a>)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_GRAYSCALE:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a4cbb854838f24d3204e018ec4b0d3fe8">m_input_components</a> != 1)</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_IN_COLORSPACE);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_RGB:</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_BG_RGB:</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a4cbb854838f24d3204e018ec4b0d3fe8">m_input_components</a> != <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a7e9c1630b225fe32c7e553b009434450">RGB_PIXELSIZE</a>)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_IN_COLORSPACE);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_YCbCr:</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_BG_YCC:</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a4cbb854838f24d3204e018ec4b0d3fe8">m_input_components</a> != 3)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_IN_COLORSPACE);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_CMYK:</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_YCCK:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a4cbb854838f24d3204e018ec4b0d3fe8">m_input_components</a> != 4)</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_IN_COLORSPACE);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="comment">/* JCS_UNKNOWN can be anything */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a4cbb854838f24d3204e018ec4b0d3fe8">m_input_components</a> &lt; 1)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_IN_COLORSPACE);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment">/* Support color transform only for RGB colorspaces */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2bb830a996cdba992b91156ecd26e09a">ColorTransform</a> != <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aa4311cbe4baab992da4ce6e44451ea34">JColorTransform</a>.JCT_NONE &amp;&amp;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9d43b54bd5075345244734788caa107d">Jpeg_color_space</a> != <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_RGB &amp;&amp;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9d43b54bd5075345244734788caa107d">Jpeg_color_space</a> != <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_BG_RGB)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CONVERSION_NOTIMPL);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="comment">/* Check num_components, set conversion method based on requested space */</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">switch</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad8c865333081870d2faea71b0c36e617">m_jpeg_color_space</a>)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_GRAYSCALE:</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">m_num_components</a> != 1)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_J_COLORSPACE);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="keywordflow">switch</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">m_in_color_space</a>)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_GRAYSCALE:</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_YCbCr:</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_BG_YCC:</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a284ebc1037b79c1d712ead0d78753b1f">GrayscaleConvert</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_RGB:</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">m_useNullStart</a> = <span class="keyword">false</span>; <span class="comment">// use rgb_ycc_start</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#afce867b7c348af29cce7302cf36a3425">RgbGrayConvert</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CONVERSION_NOTIMPL);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_RGB:</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_BG_RGB:</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">m_num_components</a> != 3)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_J_COLORSPACE);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">m_in_color_space</a> == cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9d43b54bd5075345244734788caa107d">Jpeg_color_space</a>)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <span class="keywordflow">switch</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2bb830a996cdba992b91156ecd26e09a">ColorTransform</a>)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aa4311cbe4baab992da4ce6e44451ea34">JColorTransform</a>.JCT_NONE:</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                        <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#abcbd83a65ccaa3cbe0194e790df68216">RgbConvert</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aa4311cbe4baab992da4ce6e44451ea34">JColorTransform</a>.JCT_SUBTRACT_GREEN:</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                        <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7e7a69a122fd092366e8436888107ea6">RgbRgb1Convert</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CONVERSION_NOTIMPL);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CONVERSION_NOTIMPL);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_YCbCr:</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">m_num_components</a> != 3)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_J_COLORSPACE);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keywordflow">switch</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">m_in_color_space</a>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_RGB:</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">m_useNullStart</a> = <span class="keyword">false</span>; <span class="comment">// use rgb_ycc_start</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae93c3094f39c74deeda50b1522335d29">RgbYccConvert</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_YCbCr:</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">NullConvert</a>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CONVERSION_NOTIMPL);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_BG_YCC:</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">m_num_components</a> != 3)</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_J_COLORSPACE);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">switch</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">m_in_color_space</a>)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_RGB:</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <span class="comment">/* For conversion from normal RGB input to BG_YCC representation,</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">                     * the Cb/Cr values are first computed as usual, and then</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">                     * quantized further after DCT processing by a factor of</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">                     * 2 in reference to the nominal quantization factor.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    <span class="comment">/* need quantization scale by factor of 2 after DCT */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[1].<a class="code" href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#afe011152b5d2f3f41466556d9e11dfc5">component_needed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[2].<a class="code" href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#afe011152b5d2f3f41466556d9e11dfc5">component_needed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <span class="comment">/* compute normal YCC first */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">m_useNullStart</a> = <span class="keyword">false</span>; <span class="comment">// use rgb_ycc_start</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae93c3094f39c74deeda50b1522335d29">RgbYccConvert</a>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_YCbCr:</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    <span class="comment">/* need quantization scale by factor of 2 after DCT */</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                    cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[1].<a class="code" href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#afe011152b5d2f3f41466556d9e11dfc5">component_needed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">Component_info</a>[2].<a class="code" href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#afe011152b5d2f3f41466556d9e11dfc5">component_needed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">NullConvert</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_BG_YCC:</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    <span class="comment">/* Pass through for BG_YCC input */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">NullConvert</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_J_COLORSPACE);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_CMYK:</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">m_num_components</a> != 4)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_J_COLORSPACE);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">m_in_color_space</a> == <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_CMYK)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">NullConvert</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CONVERSION_NOTIMPL);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_YCCK:</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">m_num_components</a> != 4)</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_BAD_J_COLORSPACE);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">switch</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">m_in_color_space</a>)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_CMYK:</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">m_useNullStart</a> = <span class="keyword">false</span>; <span class="comment">// use rgb_ycc_start</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a5a18eb223690172831a0ff822a0eed59">CmykYcckConvert</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">JColorSpace</a>.JCS_YCCK:</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">NullConvert</a>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CONVERSION_NOTIMPL);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="comment">/* allow null conversion of JCS_UNKNOWN */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">if</span> (cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad8c865333081870d2faea71b0c36e617">m_jpeg_color_space</a> != cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">m_in_color_space</a> || cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">m_num_components</a> != cinfo.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a4cbb854838f24d3204e018ec4b0d3fe8">m_input_components</a>)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    cinfo.<a class="code" href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">ErrExit</a>(<a class="code" href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">JMessageCode</a>.JERR_CONVERSION_NOTIMPL);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">color_convert</a> = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">NullConvert</a>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae168e068dcd187c64a899b2ca4c99246">  327</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae168e068dcd187c64a899b2ca4c99246">StartPass</a>()</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">m_useNullStart</a>)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a68e449946ae7f4d5be6261e1fd47cb11">RgbYccStart</a>();</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">        /// Initialize for RGB-&gt;YCC colorspace conversion.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a68e449946ae7f4d5be6261e1fd47cb11">  338</a></span>&#160;<span class="comment"></span>        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a68e449946ae7f4d5be6261e1fd47cb11">RgbYccStart</a>()</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="comment">/* Allocate and fill in the conversion tables. */</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a942861f5794adfa715a5d52a68b027b2">TABLE_SIZE</a>];</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">for</span> (var i = 0; i &lt;= <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a>; i++)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[i + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aba55ae79a7c121bb825ba44fc9b3d9b3">R_Y_OFF</a>] = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(0.299) * i;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[i + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a804da77dfb0319e27aa72af03242442e">G_Y_OFF</a>] = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(0.587) * i;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[i + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a3452f796f6cd387dfe0878b4d01cda34">B_Y_OFF</a>] = (<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(0.114) * i) + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebd3c5967ca5ec8dd8cdc3e638bcd3b2">ONE_HALF</a>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[i + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab6247940e9b90489cc0c723639a2b2aa">R_CB_OFF</a>] = (-<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(0.168735892)) * i;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[i + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab659d0a5bde72ad6633d65dbf27d84a3">G_CB_OFF</a>] = (-<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(0.331264108)) * i;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                <span class="comment">/* We use a rounding fudge-factor of 0.5-epsilon for Cb and Cr.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">                 * This ensures that the maximum output will round to MAXJSAMPLE</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">                 * not MAXJSAMPLE+1, and thus that we don&#39;t have to range-limit.</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[i + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebc889418a9a4ef4c93a817b083d86bc">B_CB_OFF</a>] = (<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(0.5) * i) + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a5fbc992b21955f0b8b8f844d1c88bbc8">CBCR_OFFSET</a> + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebd3c5967ca5ec8dd8cdc3e638bcd3b2">ONE_HALF</a> - 1;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="comment">/*  B=&gt;Cb and R=&gt;Cr tables are the same</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">                    m_rgb_ycc_tab[i + R_CR_OFF] = FIX(0.5) * i + CBCR_OFFSET + ONE_HALF - 1;</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">                */</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[i + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af476edfeefd48b000875553e31527ec0">G_CR_OFF</a>] = (-<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(0.418687589)) * i;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[i + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af59269c59c61cfcd16b4be2296986214">B_CR_OFF</a>] = (-<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(0.081312411)) * i;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">  365</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">Fix</a>(<span class="keywordtype">double</span> x)</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)((x * (1L &lt;&lt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>)) + 0.5);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">        /// RGB -&amp;gt; YCbCr conversion: most common case</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">        /// YCbCr is defined per CCIR 601-1, except that Cb and Cr are</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">        /// normalized to the range 0..MAXJSAMPLE rather than -0.5 .. 0.5.</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">        /// The conversion equations to be implemented are therefore</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">        /// Y  =  0.29900 * R + 0.58700 * G + 0.11400 * B</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">        /// Cb = -0.16874 * R - 0.33126 * G + 0.50000 * B  + CENTERJSAMPLE</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">        /// Cr =  0.50000 * R - 0.41869 * G - 0.08131 * B  + CENTERJSAMPLE</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">        /// (These numbers are derived from TIFF 6.0 section 21, dated 3-June-92.)</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">        /// To avoid floating-point arithmetic, we represent the fractional constants</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">        /// as integers scaled up by 2^16 (about 4 digits precision); we have to divide</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">        /// the products by 2^16, with appropriate rounding, to get the correct answer.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">        /// For even more speed, we avoid doing any multiplications in the inner loop</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">        /// by precalculating the constants times R,G,B for all possible values.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">        /// For 8-bit JSAMPLEs this is very reasonable (only 256 entries per table);</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">        /// for 12-bit samples it is still acceptable.  It&#39;s not very reasonable for</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">        /// 16-bit samples, but if you want lossless storage you shouldn&#39;t be changing</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">        /// colorspace anyway.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">        /// The CENTERJSAMPLE offsets and the rounding fudge-factor of 0.5 are included</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">        /// in the tables to save adding them separately in the inner loop.</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae93c3094f39c74deeda50b1522335d29">  391</a></span>&#160;<span class="comment"></span>        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae93c3094f39c74deeda50b1522335d29">RgbYccConvert</a>(<span class="keywordtype">byte</span>[][] input_buf, <span class="keywordtype">int</span> input_row, <span class="keywordtype">byte</span>[][][] output_buf, <span class="keywordtype">int</span> output_row, <span class="keywordtype">int</span> num_rows)</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            var num_cols = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a351102736ec618e1a6ec71f1e3b19d3f">m_image_width</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                var columnOffset = 0;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keywordflow">for</span> (var col = 0; col &lt; num_cols; col++)</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    <span class="keywordtype">int</span> r = input_buf[input_row + row][columnOffset + <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a9375376c7231ea1847432f4234ba3885">RGB_RED</a>];</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    <span class="keywordtype">int</span> g = input_buf[input_row + row][columnOffset + <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a27f29c0fbae8febffd477d32cab626f9">RGB_GREEN</a>];</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    <span class="keywordtype">int</span> b = input_buf[input_row + row][columnOffset + <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a18f005e9ebf0b024a9c475e40f75f4cc">RGB_BLUE</a>];</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    columnOffset += <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a7e9c1630b225fe32c7e553b009434450">RGB_PIXELSIZE</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    <span class="comment">/* If the inputs are 0..MAXJSAMPLE, the outputs of these equations</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">                     * must be too; we do not need an explicit range-limiting operation.</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">                     * Hence the value being shifted is never negative, and we don&#39;t</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">                     * need the general RIGHT_SHIFT macro.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    <span class="comment">/* Y */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    output_buf[0][output_row][col] = (byte)((<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[r + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aba55ae79a7c121bb825ba44fc9b3d9b3">R_Y_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[g + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a804da77dfb0319e27aa72af03242442e">G_Y_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[b + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a3452f796f6cd387dfe0878b4d01cda34">B_Y_OFF</a>]) &gt;&gt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    <span class="comment">/* Cb */</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    output_buf[1][output_row][col] = (byte)((<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[r + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab6247940e9b90489cc0c723639a2b2aa">R_CB_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[g + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab659d0a5bde72ad6633d65dbf27d84a3">G_CB_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[b + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebc889418a9a4ef4c93a817b083d86bc">B_CB_OFF</a>]) &gt;&gt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    <span class="comment">/* Cr */</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    output_buf[2][output_row][col] = (byte)((<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[r + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7669096a4b626ebc483369dbbee77c34">R_CR_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[g + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af476edfeefd48b000875553e31527ec0">G_CR_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[b + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af59269c59c61cfcd16b4be2296986214">B_CR_OFF</a>]) &gt;&gt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                output_row++;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">        /// Convert some rows of samples to the JPEG colorspace.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">        /// This version handles RGB-&gt;grayscale conversion, which is the same</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">        /// as the RGB-&gt;Y portion of RGB-&gt;YCbCr.</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">        /// We assume rgb_ycc_start has been called (we only use the Y tables).</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#afce867b7c348af29cce7302cf36a3425">  427</a></span>&#160;<span class="comment"></span>        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#afce867b7c348af29cce7302cf36a3425">RgbGrayConvert</a>(<span class="keywordtype">byte</span>[][] input_buf, <span class="keywordtype">int</span> input_row, <span class="keywordtype">byte</span>[][][] output_buf, <span class="keywordtype">int</span> output_row, <span class="keywordtype">int</span> num_rows)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            var num_cols = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a351102736ec618e1a6ec71f1e3b19d3f">m_image_width</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                var columnOffset = 0;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="keywordflow">for</span> (var col = 0; col &lt; num_cols; col++)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    <span class="keywordtype">int</span> r = input_buf[input_row + row][columnOffset + <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a9375376c7231ea1847432f4234ba3885">RGB_RED</a>];</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <span class="keywordtype">int</span> g = input_buf[input_row + row][columnOffset + <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a27f29c0fbae8febffd477d32cab626f9">RGB_GREEN</a>];</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    <span class="keywordtype">int</span> b = input_buf[input_row + row][columnOffset + <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a18f005e9ebf0b024a9c475e40f75f4cc">RGB_BLUE</a>];</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    columnOffset += <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a7e9c1630b225fe32c7e553b009434450">RGB_PIXELSIZE</a>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    <span class="comment">/* Y */</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    output_buf[0][output_row][col] = (byte)((<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[r + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aba55ae79a7c121bb825ba44fc9b3d9b3">R_Y_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[g + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a804da77dfb0319e27aa72af03242442e">G_Y_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[b + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a3452f796f6cd387dfe0878b4d01cda34">B_Y_OFF</a>]) &gt;&gt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                output_row++;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">        /// Convert some rows of samples to the JPEG colorspace.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">        /// This version handles Adobe-style CMYK-&gt;YCCK conversion,</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">        /// where we convert R=1-C, G=1-M, and B=1-Y to YCbCr using the same</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">        /// conversion as above, while passing K (black) unchanged.</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">        /// We assume rgb_ycc_start has been called.</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a5a18eb223690172831a0ff822a0eed59">  455</a></span>&#160;<span class="comment"></span>        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a5a18eb223690172831a0ff822a0eed59">CmykYcckConvert</a>(<span class="keywordtype">byte</span>[][] input_buf, <span class="keywordtype">int</span> input_row, <span class="keywordtype">byte</span>[][][] output_buf, <span class="keywordtype">int</span> output_row, <span class="keywordtype">int</span> num_rows)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            var num_cols = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a351102736ec618e1a6ec71f1e3b19d3f">m_image_width</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                var columnOffset = 0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <span class="keywordflow">for</span> (var col = 0; col &lt; num_cols; col++)</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                    var r = <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> - input_buf[input_row + row][columnOffset];</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                    var g = <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> - input_buf[input_row + row][columnOffset + 1];</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    var b = <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a> - input_buf[input_row + row][columnOffset + 2];</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    <span class="comment">/* K passes through as-is */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="comment">/* don&#39;t need GETJSAMPLE here */</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                    output_buf[3][output_row][col] = input_buf[input_row + row][columnOffset + 3];</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    columnOffset += 4;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    <span class="comment">/* If the inputs are 0..MAXJSAMPLE, the outputs of these equations</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">                     * must be too; we do not need an explicit range-limiting operation.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">                     * Hence the value being shifted is never negative, and we don&#39;t</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">                     * need the general RIGHT_SHIFT macro.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    <span class="comment">/* Y */</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    output_buf[0][output_row][col] = (byte)((<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[r + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aba55ae79a7c121bb825ba44fc9b3d9b3">R_Y_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[g + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a804da77dfb0319e27aa72af03242442e">G_Y_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[b + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a3452f796f6cd387dfe0878b4d01cda34">B_Y_OFF</a>]) &gt;&gt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    <span class="comment">/* Cb */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    output_buf[1][output_row][col] = (byte)((<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[r + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab6247940e9b90489cc0c723639a2b2aa">R_CB_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[g + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab659d0a5bde72ad6633d65dbf27d84a3">G_CB_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[b + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebc889418a9a4ef4c93a817b083d86bc">B_CB_OFF</a>]) &gt;&gt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                    <span class="comment">/* Cr */</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                    output_buf[2][output_row][col] = (byte)((<a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[r + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7669096a4b626ebc483369dbbee77c34">R_CR_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[g + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af476edfeefd48b000875553e31527ec0">G_CR_OFF</a>] + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">m_rgb_ycc_tab</a>[b + <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af59269c59c61cfcd16b4be2296986214">B_CR_OFF</a>]) &gt;&gt; <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">SCALEBITS</a>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                output_row++;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">         * Convert some rows of samples to the JPEG colorspace.</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">         * [R,G,B] to [R-G,G,B-G] conversion with modulo calculation</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">         * (forward reversible color transform).</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">         * This can be seen as an adaption of the general RGB-&gt;YCbCr</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">         * conversion equation with Kr = Kb = 0, while replacing the</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">         * normalization by modulo calculation.</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7e7a69a122fd092366e8436888107ea6">  497</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7e7a69a122fd092366e8436888107ea6">RgbRgb1Convert</a>(<span class="keywordtype">byte</span>[][] input_buf, <span class="keywordtype">int</span> input_row, <span class="keywordtype">byte</span>[][][] output_buf, <span class="keywordtype">int</span> output_row, <span class="keywordtype">int</span> num_rows)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            var num_cols = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a351102736ec618e1a6ec71f1e3b19d3f">m_image_width</a>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                var columnOffset = 0;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <span class="keywordflow">for</span> (var col = 0; col &lt; num_cols; col++)</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                    <span class="keywordtype">int</span> r = input_buf[input_row + row][columnOffset];</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                    <span class="keywordtype">int</span> g = input_buf[input_row + row][columnOffset + 1];</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                    <span class="keywordtype">int</span> b = input_buf[input_row + row][columnOffset + 2];</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    <span class="comment">/* Assume that MAXJSAMPLE+1 is a power of 2, so that the MOD</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">                     * (modulo) operator is equivalent to the bitmask operator AND.</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    output_buf[0][output_row][col] = (byte)((r - g + <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a275408aeccb689ab281f10f4375ea3f9">CENTERJSAMPLE</a>) &amp; <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    output_buf[1][output_row][col] = (byte)g;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    output_buf[2][output_row][col] = (byte)((b - g + <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a275408aeccb689ab281f10f4375ea3f9">CENTERJSAMPLE</a>) &amp; <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">MAXJSAMPLE</a>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    columnOffset += <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a7e9c1630b225fe32c7e553b009434450">RGB_PIXELSIZE</a>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                output_row++;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">        /// Convert some rows of samples to the JPEG colorspace.</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">        /// This version handles grayscale output with no conversion.</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">        /// The source can be either plain grayscale or YCC (since Y == gray).</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a284ebc1037b79c1d712ead0d78753b1f">  527</a></span>&#160;<span class="comment"></span>        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a284ebc1037b79c1d712ead0d78753b1f">GrayscaleConvert</a>(<span class="keywordtype">byte</span>[][] input_buf, <span class="keywordtype">int</span> input_row, <span class="keywordtype">byte</span>[][][] output_buf, <span class="keywordtype">int</span> output_row, <span class="keywordtype">int</span> num_rows)</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            var num_cols = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a351102736ec618e1a6ec71f1e3b19d3f">m_image_width</a>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            var instride = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a4cbb854838f24d3204e018ec4b0d3fe8">m_input_components</a>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                var columnOffset = 0;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">for</span> (var col = 0; col &lt; num_cols; col++)</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    <span class="comment">/* don&#39;t need GETJSAMPLE() here */</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    output_buf[0][output_row][col] = input_buf[input_row + row][columnOffset];</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    columnOffset += instride;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                output_row++;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">         * Convert some rows of samples to the JPEG colorspace.</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">         * No colorspace conversion, but change from interleaved</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">         * to separate-planes representation.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#abcbd83a65ccaa3cbe0194e790df68216">  551</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#abcbd83a65ccaa3cbe0194e790df68216">RgbConvert</a>(<span class="keywordtype">byte</span>[][] input_buf, <span class="keywordtype">int</span> input_row, <span class="keywordtype">byte</span>[][][] output_buf, <span class="keywordtype">int</span> output_row, <span class="keywordtype">int</span> num_rows)</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            var num_cols = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a351102736ec618e1a6ec71f1e3b19d3f">m_image_width</a>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                var columnOffset = 0;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="keywordflow">for</span> (var col = 0; col &lt; num_cols; col++)</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    <span class="comment">/* We can dispense with GETJSAMPLE() here */</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                    output_buf[0][output_row][col] = input_buf[input_row + row][columnOffset];</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                    output_buf[1][output_row][col] = input_buf[input_row + row][columnOffset + 1];</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    output_buf[2][output_row][col] = input_buf[input_row + row][columnOffset + 2];</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    columnOffset += <a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">JpegConstants</a>.<a class="code" href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a7e9c1630b225fe32c7e553b009434450">RGB_PIXELSIZE</a>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                output_row++;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">        /// Convert some rows of samples to the JPEG colorspace.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">        /// This version handles multi-component colorspaces without conversion.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">        /// We assume input_components == num_components.</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">  577</a></span>&#160;<span class="comment"></span>        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">NullConvert</a>(<span class="keywordtype">byte</span>[][] input_buf, <span class="keywordtype">int</span> input_row, <span class="keywordtype">byte</span>[][][] output_buf, <span class="keywordtype">int</span> output_row, <span class="keywordtype">int</span> num_rows)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            var nc = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">m_num_components</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            var num_cols = <a class="code" href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">m_cinfo</a>.<a class="code" href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a351102736ec618e1a6ec71f1e3b19d3f">m_image_width</a>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">for</span> (var row = 0; row &lt; num_rows; row++)</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="comment">/* It seems fastest to make a separate pass for each component. */</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                <span class="keywordflow">for</span> (var ci = 0; ci &lt; nc; ci++)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    var columnOffset = 0;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    <span class="keywordflow">for</span> (var col = 0; col &lt; num_cols; col++)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        <span class="comment">/* don&#39;t need GETJSAMPLE() here */</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                        output_buf[ci][output_row][col] = input_buf[input_row + row][columnOffset + ci];</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                        columnOffset += nc;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                output_row++;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div><div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants_html_a27f29c0fbae8febffd477d32cab626f9"><div class="ttname"><a href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a27f29c0fbae8febffd477d32cab626f9">BitMiracle.LibJpeg.Classic.JpegConstants.RGB_GREEN</a></div><div class="ttdeci">const int RGB_GREEN</div><div class="ttdoc">Offset of Green in an RGB scanline element.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00144">JpegConstants.cs:144</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_af59269c59c61cfcd16b4be2296986214"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af59269c59c61cfcd16b4be2296986214">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.B_CR_OFF</a></div><div class="ttdeci">const int B_CR_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00070">JpegColorConverter.cs:70</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html">BitMiracle.LibJpeg.Classic.JpegCompressStruct</a></div><div class="ttdoc">JPEG compression routine.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00012">JpegCompressStruct.cs:12</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a3452f796f6cd387dfe0878b4d01cda34"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a3452f796f6cd387dfe0878b4d01cda34">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.B_Y_OFF</a></div><div class="ttdeci">const int B_Y_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00064">JpegColorConverter.cs:64</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_html"><div class="ttname"><a href="../../d7/dcd/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal.html">BitMiracle.LibJpeg.Classic.Internal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd3/_arith_entropy_decoder_8cs_source.html#l00003">ArithEntropyDecoder.cs:3</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants_html_a7e9c1630b225fe32c7e553b009434450"><div class="ttname"><a href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a7e9c1630b225fe32c7e553b009434450">BitMiracle.LibJpeg.Classic.JpegConstants.RGB_PIXELSIZE</a></div><div class="ttdeci">const int RGB_PIXELSIZE</div><div class="ttdoc">Bytes per RGB scanline element.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00154">JpegConstants.cs:154</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a05ff0783d317ff2f3f71149a1871542d"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a05ff0783d317ff2f3f71149a1871542d">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.SCALEBITS</a></div><div class="ttdeci">const int SCALEBITS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00054">JpegColorConverter.cs:54</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants_html_a62e5231b58de0febd2f19654ff6cbf87"><div class="ttname"><a href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a62e5231b58de0febd2f19654ff6cbf87">BitMiracle.LibJpeg.Classic.JpegConstants.MAXJSAMPLE</a></div><div class="ttdeci">const int MAXJSAMPLE</div><div class="ttdoc">The maximum sample value.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00122">JpegConstants.cs:122</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct_html_ac9626d374df0f986e8e417598a612501"><div class="ttname"><a href="../../d4/d34/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_common_struct.html#ac9626d374df0f986e8e417598a612501">BitMiracle.LibJpeg.Classic.JpegCommonStruct.ErrExit</a></div><div class="ttdeci">void ErrExit(JMessageCode code)</div><div class="ttdoc">Used for fatal errors (print message and exit).</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dac/_jpeg_common_struct_8cs_source.html#l00238">JpegCommonStruct.cs:238</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a9f21d45cade62597a6afd74f6e336bf7"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9f21d45cade62597a6afd74f6e336bf7">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_in_color_space</a></div><div class="ttdeci">internal JColorSpace m_in_color_space</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00116">JpegCompressStruct.cs:116</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_abcbd83a65ccaa3cbe0194e790df68216"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#abcbd83a65ccaa3cbe0194e790df68216">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.RgbConvert</a></div><div class="ttdeci">void RgbConvert(byte[][] input_buf, int input_row, byte[][][] output_buf, int output_row, int num_rows)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00551">JpegColorConverter.cs:551</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a5a18eb223690172831a0ff822a0eed59"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a5a18eb223690172831a0ff822a0eed59">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.CmykYcckConvert</a></div><div class="ttdeci">void CmykYcckConvert(byte[][] input_buf, int input_row, byte[][][] output_buf, int output_row, int num_rows)</div><div class="ttdoc">Convert some rows of samples to the JPEG colorspace. This version handles Adobe-style CMYK-&gt;YCCK conv...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00455">JpegColorConverter.cs:455</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a7669096a4b626ebc483369dbbee77c34"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7669096a4b626ebc483369dbbee77c34">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.R_CR_OFF</a></div><div class="ttdeci">const int R_CR_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00068">JpegColorConverter.cs:68</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_ae168e068dcd187c64a899b2ca4c99246"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae168e068dcd187c64a899b2ca4c99246">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.StartPass</a></div><div class="ttdeci">void StartPass()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00327">JpegColorConverter.cs:327</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants_html_a18f005e9ebf0b024a9c475e40f75f4cc"><div class="ttname"><a href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a18f005e9ebf0b024a9c475e40f75f4cc">BitMiracle.LibJpeg.Classic.JpegConstants.RGB_BLUE</a></div><div class="ttdeci">const int RGB_BLUE</div><div class="ttdoc">Offset of Blue in an RGB scanline element.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00149">JpegConstants.cs:149</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants_html"><div class="ttname"><a href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html">BitMiracle.LibJpeg.Classic.JpegConstants</a></div><div class="ttdoc">Defines some JPEG constants.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00006">JpegConstants.cs:6</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2bb830a996cdba992b91156ecd26e09a"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2bb830a996cdba992b91156ecd26e09a">BitMiracle.LibJpeg.Classic.JpegCompressStruct.ColorTransform</a></div><div class="ttdeci">JColorTransform ColorTransform</div><div class="ttdoc">Color transform identifier, writes LSE marker if nonzero</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00196">JpegCompressStruct.cs:196</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a4cbb854838f24d3204e018ec4b0d3fe8"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a4cbb854838f24d3204e018ec4b0d3fe8">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_input_components</a></div><div class="ttdeci">internal int m_input_components</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00115">JpegCompressStruct.cs:115</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a804da77dfb0319e27aa72af03242442e"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a804da77dfb0319e27aa72af03242442e">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.G_Y_OFF</a></div><div class="ttdeci">const int G_Y_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00063">JpegColorConverter.cs:63</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a284ebc1037b79c1d712ead0d78753b1f"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a284ebc1037b79c1d712ead0d78753b1f">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.GrayscaleConvert</a></div><div class="ttdeci">void GrayscaleConvert(byte[][] input_buf, int input_row, byte[][][] output_buf, int output_row, int num_rows)</div><div class="ttdoc">Convert some rows of samples to the JPEG colorspace. This version handles grayscale output with no co...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00527">JpegColorConverter.cs:527</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_a112a859523bbcd7bb4233f89ee2b4db7"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#a112a859523bbcd7bb4233f89ee2b4db7">BitMiracle.LibJpeg.Classic.JColorSpace</a></div><div class="ttdeci">JColorSpace</div><div class="ttdoc">Known color spaces.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dc6/_j_color_space_8cs_source.html#l00007">JColorSpace.cs:7</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aa4311cbe4baab992da4ce6e44451ea34"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aa4311cbe4baab992da4ce6e44451ea34">BitMiracle.LibJpeg.Classic.JColorTransform</a></div><div class="ttdeci">JColorTransform</div><div class="ttdoc">Supported color transforms.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d91/_j_color_transform_8cs_source.html#l00006">JColorTransform.cs:6</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a814c0e9a8de4b0e81511484ac8fb7e40"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a814c0e9a8de4b0e81511484ac8fb7e40">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.ConvertMethod</a></div><div class="ttdeci">internal delegate void ConvertMethod(byte[][] input_buf, int input_row, byte[][][] output_buf, int output_row, int num_rows)</div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a2359006a98e249857fbaebd6216a5744"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a2359006a98e249857fbaebd6216a5744">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.NullConvert</a></div><div class="ttdeci">void NullConvert(byte[][] input_buf, int input_row, byte[][][] output_buf, int output_row, int num_rows)</div><div class="ttdoc">Convert some rows of samples to the JPEG colorspace. This version handles multi-component colorspaces...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00577">JpegColorConverter.cs:577</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_ae93c3094f39c74deeda50b1522335d29"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae93c3094f39c74deeda50b1522335d29">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.RgbYccConvert</a></div><div class="ttdeci">void RgbYccConvert(byte[][] input_buf, int input_row, byte[][][] output_buf, int output_row, int num_rows)</div><div class="ttdoc">RGB -&gt; YCbCr conversion: most common case YCbCr is defined per CCIR 601-1, except that Cb and Cr are ...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00391">JpegColorConverter.cs:391</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_ae30738cd3ded54114d0c5c62b2929f6e"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ae30738cd3ded54114d0c5c62b2929f6e">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.m_cinfo</a></div><div class="ttdeci">readonly JpegCompressStruct m_cinfo</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00073">JpegColorConverter.cs:73</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_aebc889418a9a4ef4c93a817b083d86bc"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebc889418a9a4ef4c93a817b083d86bc">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.B_CB_OFF</a></div><div class="ttdeci">const int B_CB_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00067">JpegColorConverter.cs:67</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a63847c0aa440946bbab52cd8a479f65e"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a63847c0aa440946bbab52cd8a479f65e">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.Fix</a></div><div class="ttdeci">static int Fix(double x)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00365">JpegColorConverter.cs:365</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_ab6247940e9b90489cc0c723639a2b2aa"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab6247940e9b90489cc0c723639a2b2aa">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.R_CB_OFF</a></div><div class="ttdeci">const int R_CB_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00065">JpegColorConverter.cs:65</a></div></div>
<div class="ttc" id="namespace_bit_miracle_1_1_lib_jpeg_1_1_classic_html_aab8bad2276ed9756ee236284df1ced9f"><div class="ttname"><a href="../../db/daf/namespace_bit_miracle_1_1_lib_jpeg_1_1_classic.html#aab8bad2276ed9756ee236284df1ced9f">BitMiracle.LibJpeg.Classic.JMessageCode</a></div><div class="ttdeci">JMessageCode</div><div class="ttdoc">Message codes used in code to signal errors, warning and trace messages.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc8/_j_message_code_8cs_source.html#l00011">JMessageCode.cs:11</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_ad2a16fab5f04961169e67e6382b1ed66"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad2a16fab5f04961169e67e6382b1ed66">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.m_rgb_ycc_tab</a></div><div class="ttdeci">int [] m_rgb_ycc_tab</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00077">JpegColorConverter.cs:77</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a942861f5794adfa715a5d52a68b027b2"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a942861f5794adfa715a5d52a68b027b2">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.TABLE_SIZE</a></div><div class="ttdeci">const int TABLE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00071">JpegColorConverter.cs:71</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info_html_afe011152b5d2f3f41466556d9e11dfc5"><div class="ttname"><a href="../../d5/d55/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_component_info.html#afe011152b5d2f3f41466556d9e11dfc5">BitMiracle.LibJpeg.Classic.JpegComponentInfo.component_needed</a></div><div class="ttdeci">internal bool component_needed</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd5/_jpeg_component_info_8cs_source.html#l00038">JpegComponentInfo.cs:38</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_aefbdb51d3025dad882b39d150d2741ab"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aefbdb51d3025dad882b39d150d2741ab">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.color_convert</a></div><div class="ttdeci">internal ConvertMethod color_convert</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00094">JpegColorConverter.cs:94</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a9d43b54bd5075345244734788caa107d"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a9d43b54bd5075345244734788caa107d">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Jpeg_color_space</a></div><div class="ttdeci">JColorSpace Jpeg_color_space</div><div class="ttdoc">Gets or sets the JPEG color space.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00389">JpegCompressStruct.cs:389</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter</a></div><div class="ttdoc">Colorspace conversion</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00010">JpegColorConverter.cs:10</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_ad8c865333081870d2faea71b0c36e617"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#ad8c865333081870d2faea71b0c36e617">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_jpeg_color_space</a></div><div class="ttdeci">internal JColorSpace m_jpeg_color_space</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00139">JpegCompressStruct.cs:139</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a83ab6e2759ad843eac76211f18529e96"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a83ab6e2759ad843eac76211f18529e96">BitMiracle.LibJpeg.Classic.JpegCompressStruct.Component_info</a></div><div class="ttdeci">JpegComponentInfo [] Component_info</div><div class="ttdoc">Gets the components that appears in SOF.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00624">JpegCompressStruct.cs:624</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_adbf4a335a4a7dde010ba3149ee358469"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#adbf4a335a4a7dde010ba3149ee358469">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.JpegColorConverter</a></div><div class="ttdeci">JpegColorConverter(JpegCompressStruct cinfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00096">JpegColorConverter.cs:96</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a351102736ec618e1a6ec71f1e3b19d3f"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a351102736ec618e1a6ec71f1e3b19d3f">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_image_width</a></div><div class="ttdeci">internal int m_image_width</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00113">JpegCompressStruct.cs:113</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_af476edfeefd48b000875553e31527ec0"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#af476edfeefd48b000875553e31527ec0">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.G_CR_OFF</a></div><div class="ttdeci">const int G_CR_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00069">JpegColorConverter.cs:69</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants_html_a9375376c7231ea1847432f4234ba3885"><div class="ttname"><a href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a9375376c7231ea1847432f4234ba3885">BitMiracle.LibJpeg.Classic.JpegConstants.RGB_RED</a></div><div class="ttdeci">const int RGB_RED</div><div class="ttdoc">Offset of Red in an RGB scanline element.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00139">JpegConstants.cs:139</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_ad76d428f7c4d2792720a240f890bd9e8"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ad76d428f7c4d2792720a240f890bd9e8">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.m_useNullStart</a></div><div class="ttdeci">readonly bool m_useNullStart</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00075">JpegColorConverter.cs:75</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants_html_a275408aeccb689ab281f10f4375ea3f9"><div class="ttname"><a href="../../d0/dbd/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_constants.html#a275408aeccb689ab281f10f4375ea3f9">BitMiracle.LibJpeg.Classic.JpegConstants.CENTERJSAMPLE</a></div><div class="ttdeci">const int CENTERJSAMPLE</div><div class="ttdoc">The medium sample value.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/_jpeg_constants_8cs_source.html#l00127">JpegConstants.cs:127</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_aba55ae79a7c121bb825ba44fc9b3d9b3"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aba55ae79a7c121bb825ba44fc9b3d9b3">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.R_Y_OFF</a></div><div class="ttdeci">const int R_Y_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00062">JpegColorConverter.cs:62</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a7e7a69a122fd092366e8436888107ea6"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a7e7a69a122fd092366e8436888107ea6">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.RgbRgb1Convert</a></div><div class="ttdeci">void RgbRgb1Convert(byte[][] input_buf, int input_row, byte[][][] output_buf, int output_row, int num_rows)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00497">JpegColorConverter.cs:497</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_aebd3c5967ca5ec8dd8cdc3e638bcd3b2"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#aebd3c5967ca5ec8dd8cdc3e638bcd3b2">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.ONE_HALF</a></div><div class="ttdeci">const int ONE_HALF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00056">JpegColorConverter.cs:56</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_afce867b7c348af29cce7302cf36a3425"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#afce867b7c348af29cce7302cf36a3425">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.RgbGrayConvert</a></div><div class="ttdeci">void RgbGrayConvert(byte[][] input_buf, int input_row, byte[][][] output_buf, int output_row, int num_rows)</div><div class="ttdoc">Convert some rows of samples to the JPEG colorspace. This version handles RGB-&gt;grayscale conversion,...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00427">JpegColorConverter.cs:427</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a68e449946ae7f4d5be6261e1fd47cb11"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a68e449946ae7f4d5be6261e1fd47cb11">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.RgbYccStart</a></div><div class="ttdeci">void RgbYccStart()</div><div class="ttdoc">Initialize for RGB-&gt;YCC colorspace conversion.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00338">JpegColorConverter.cs:338</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_a5fbc992b21955f0b8b8f844d1c88bbc8"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#a5fbc992b21955f0b8b8f844d1c88bbc8">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.CBCR_OFFSET</a></div><div class="ttdeci">const int CBCR_OFFSET</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00055">JpegColorConverter.cs:55</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct_html_a2f6006ecff093ead6c91760216db6f62"><div class="ttname"><a href="../../dc/d80/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_jpeg_compress_struct.html#a2f6006ecff093ead6c91760216db6f62">BitMiracle.LibJpeg.Classic.JpegCompressStruct.m_num_components</a></div><div class="ttdeci">internal int m_num_components</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/_jpeg_compress_struct_8cs_source.html#l00138">JpegCompressStruct.cs:138</a></div></div>
<div class="ttc" id="class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter_html_ab659d0a5bde72ad6633d65dbf27d84a3"><div class="ttname"><a href="../../d9/dfe/class_bit_miracle_1_1_lib_jpeg_1_1_classic_1_1_internal_1_1_jpeg_color_converter.html#ab659d0a5bde72ad6633d65dbf27d84a3">BitMiracle.LibJpeg.Classic.Internal.JpegColorConverter.G_CB_OFF</a></div><div class="ttdeci">const int G_CB_OFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d8d/_jpeg_color_converter_8cs_source.html#l00066">JpegColorConverter.cs:66</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
